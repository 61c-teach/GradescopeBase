!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"===n||ft.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function l(t,e,n){if(ft.isFunction(e))return ft.grep(t,function(t,l){return!!e.call(t,l,t)!==n});if(e.nodeType)return ft.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Ct.test(e))return ft.filter(e,t,n);e=ft.filter(e,t)}return ft.grep(t,function(t){return ft.inArray(t,e)>-1!==n})}function i(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function r(t){var e={};return ft.each(t.match(Mt)||[],function(t,n){e[n]=!0}),e}function o(){lt.addEventListener?(lt.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s)):(lt.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(lt.addEventListener||"load"===t.event.type||"complete"===lt.readyState)&&(o(),ft.ready())}function a(t,e,n){if(void 0===n&&1===t.nodeType){var l="data-"+e.replace($t,"-$1").toLowerCase();if(n=t.getAttribute(l),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:It.test(n)?ft.parseJSON(n):n}catch(i){}ft.data(t,e,n)}else n=void 0}return n}function u(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,l){if(Ot(t)){var i,r,o=ft.expando,s=t.nodeType,a=s?ft.cache:t,u=s?t[o]:t[o]&&o;if(u&&a[u]&&(l||a[u].data)||void 0!==n||"string"!=typeof e)return u||(u=s?t[o]=nt.pop()||ft.guid++:o),a[u]||(a[u]=s?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(l?a[u]=ft.extend(a[u],e):a[u].data=ft.extend(a[u].data,e)),r=a[u],l||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[ft.camelCase(e)]=n),"string"==typeof e?(i=r[e],null==i&&(i=r[ft.camelCase(e)])):i=r,i}}function d(t,e,n){if(Ot(t)){var l,i,r=t.nodeType,o=r?ft.cache:t,s=r?t[ft.expando]:ft.expando;if(o[s]){if(e&&(l=n?o[s]:o[s].data)){ft.isArray(e)?e=e.concat(ft.map(e,ft.camelCase)):e in l?e=[e]:(e=ft.camelCase(e),e=e in l?[e]:e.split(" ")),i=e.length;for(;i--;)delete l[e[i]];if(n?!u(l):!ft.isEmptyObject(l))return}(n||(delete o[s].data,u(o[s])))&&(r?ft.cleanData([t],!0):dt.deleteExpando||o!=o.window?delete o[s]:o[s]=void 0)}}}function h(t,e,n,l){var i,r=1,o=20,s=l?function(){return l.cur()}:function(){return ft.css(t,e,"")},a=s(),u=n&&n[3]||(ft.cssNumber[e]?"":"px"),c=(ft.cssNumber[e]||"px"!==u&&+a)&&Pt.exec(ft.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+a||1;do r=r||".5",c/=r,ft.style(t,e,c+u);while(r!==(r=s()/a)&&1!==r&&--o)}return n&&(c=+c||+a||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],l&&(l.unit=u,l.start=c,l.end=i)),i}function f(t){var e=Ut.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){var n,l,i=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],n=t.childNodes||t;null!=(l=n[i]);i++)!e||ft.nodeName(l,e)?r.push(l):ft.merge(r,p(l,e));return void 0===e||e&&ft.nodeName(t,e)?ft.merge([t],r):r}function g(t,e){for(var n,l=0;null!=(n=t[l]);l++)ft._data(n,"globalEval",!e||ft._data(e[l],"globalEval"))}function m(t){Rt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,n,l,i){for(var r,o,s,a,u,c,d,h=t.length,v=f(e),y=[],b=0;h>b;b++)if(o=t[b],o||0===o)if("object"===ft.type(o))ft.merge(y,o.nodeType?[o]:o);else if(Vt.test(o)){for(a=a||v.appendChild(e.createElement("div")),u=(zt.exec(o)||["",""])[1].toLowerCase(),d=Wt[u]||Wt._default,a.innerHTML=d[1]+ft.htmlPrefilter(o)+d[2],r=d[0];r--;)a=a.lastChild;if(!dt.leadingWhitespace&&qt.test(o)&&y.push(e.createTextNode(qt.exec(o)[0])),!dt.tbody)for(o="table"!==u||Yt.test(o)?"<table>"!==d[1]||Yt.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)ft.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ft.merge(y,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=v.lastChild}else y.push(e.createTextNode(o));for(a&&v.removeChild(a),dt.appendChecked||ft.grep(p(y,"input"),m),b=0;o=y[b++];)if(l&&ft.inArray(o,l)>-1)i&&i.push(o);else if(s=ft.contains(o.ownerDocument,o),a=p(v.appendChild(o),"script"),s&&g(a),n)for(r=0;o=a[r++];)Ht.test(o.type||"")&&n.push(o);return a=null,v}function y(){return!0}function b(){return!1}function w(){try{return lt.activeElement}catch(t){}}function x(t,e,n,l,i,r){var o,s;if("object"==typeof e){"string"!=typeof n&&(l=l||n,n=void 0);for(s in e)x(t,s,n,l,e[s],r);return t}if(null==l&&null==i?(i=n,l=n=void 0):null==i&&("string"==typeof n?(i=l,l=void 0):(i=l,l=n,n=void 0)),i===!1)i=b;else if(!i)return t;return 1===r&&(o=i,i=function(t){return ft().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,i,l,n)})}function _(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function C(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function k(t){var e=ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function S(t,e){if(1===e.nodeType&&ft.hasData(t)){var n,l,i,r=ft._data(t),o=ft._data(e,r),s=r.events;if(s){delete o.handle,o.events={};for(n in s)for(l=0,i=s[n].length;i>l;l++)ft.event.add(e,n,s[n][l])}o.data&&(o.data=ft.extend({},o.data))}}function T(t,e){var n,l,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[ft.expando]){i=ft._data(e);for(l in i.events)ft.removeEvent(e,l,i.handle);e.removeAttribute(ft.expando)}"script"===n&&e.text!==t.text?(C(e).text=t.text,k(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Rt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function A(t,e,n,l){e=rt.apply([],e);var i,r,o,s,a,u,c=0,d=t.length,h=d-1,f=e[0],g=ft.isFunction(f);if(g||d>1&&"string"==typeof f&&!dt.checkClone&&le.test(f))return t.each(function(i){var r=t.eq(i);g&&(e[0]=f.call(this,i,r.html())),A(r,e,n,l)});if(d&&(u=v(e,t[0].ownerDocument,!1,t,l),i=u.firstChild,1===u.childNodes.length&&(u=i),i||l)){for(s=ft.map(p(u,"script"),C),o=s.length;d>c;c++)r=u,c!==h&&(r=ft.clone(r,!0,!0),o&&ft.merge(s,p(r,"script"))),n.call(t[c],r,c);if(o)for(a=s[s.length-1].ownerDocument,ft.map(s,k),c=0;o>c;c++)r=s[c],Ht.test(r.type||"")&&!ft._data(r,"globalEval")&&ft.contains(a,r)&&(r.src?ft._evalUrl&&ft._evalUrl(r.src):ft.globalEval((r.text||r.textContent||r.innerHTML||"").replace(re,"")));u=i=null}return t}function D(t,e,n){for(var l,i=e?ft.filter(e,t):t,r=0;null!=(l=i[r]);r++)n||1!==l.nodeType||ft.cleanData(p(l)),l.parentNode&&(n&&ft.contains(l.ownerDocument,l)&&g(p(l,"script")),l.parentNode.removeChild(l));return t}function M(t,e){var n=ft(e.createElement(t)).appendTo(e.body),l=ft.css(n[0],"display");return n.detach(),l}function j(t){var e=lt,n=ue[t];return n||(n=M(t,e),"none"!==n&&n||(ae=(ae||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(ae[0].contentWindow||ae[0].contentDocument).document,e.write(),e.close(),n=M(t,e),ae.detach()),ue[t]=n),n}function E(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function O(t){if(t in ke)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Ce.length;n--;)if(t=Ce[n]+e,t in ke)return t}function I(t,e){for(var n,l,i,r=[],o=0,s=t.length;s>o;o++)l=t[o],l.style&&(r[o]=ft._data(l,"olddisplay"),n=l.style.display,e?(r[o]||"none"!==n||(l.style.display=""),""===l.style.display&&Lt(l)&&(r[o]=ft._data(l,"olddisplay",j(l.nodeName)))):(i=Lt(l),(n&&"none"!==n||!i)&&ft._data(l,"olddisplay",i?n:ft.css(l,"display"))));for(o=0;s>o;o++)l=t[o],l.style&&(e&&"none"!==l.style.display&&""!==l.style.display||(l.style.display=e?r[o]||"":"none"));return t}function $(t,e,n){var l=we.exec(e);return l?Math.max(0,l[1]-(n||0))+(l[2]||"px"):e}function F(t,e,n,l,i){for(var r=n===(l?"border":"content")?4:"width"===e?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=ft.css(t,n+Nt[r],!0,i)),l?("content"===n&&(o-=ft.css(t,"padding"+Nt[r],!0,i)),"margin"!==n&&(o-=ft.css(t,"border"+Nt[r]+"Width",!0,i))):(o+=ft.css(t,"padding"+Nt[r],!0,i),"padding"!==n&&(o+=ft.css(t,"border"+Nt[r]+"Width",!0,i)));return o}function P(t,e,n){var l=!0,i="width"===e?t.offsetWidth:t.offsetHeight,r=pe(t),o=dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,r);if(0>=i||null==i){if(i=ge(t,e,r),(0>i||null==i)&&(i=t.style[e]),de.test(i))return i;l=o&&(dt.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+F(t,e,n||(o?"border":"content"),l,r)+"px"}function N(t,e,n,l,i){return new N.prototype.init(t,e,n,l,i)}function L(){return t.setTimeout(function(){Se=void 0}),Se=ft.now()}function B(t,e){var n,l={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=Nt[i],l["margin"+n]=l["padding"+n]=t;return e&&(l.opacity=l.width=t),l}function R(t,e,n){for(var l,i=(q.tweeners[e]||[]).concat(q.tweeners["*"]),r=0,o=i.length;o>r;r++)if(l=i[r].call(n,e,t))return l}function z(t,e,n){var l,i,r,o,s,a,u,c,d=this,h={},f=t.style,p=t.nodeType&&Lt(t),g=ft._data(t,"fxshow");n.queue||(s=ft._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ft.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ft.css(t,"display"),c="none"===u?ft._data(t,"olddisplay")||j(t.nodeName):u,"inline"===c&&"none"===ft.css(t,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==j(t.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",dt.shrinkWrapBlocks()||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(l in e)if(i=e[l],Ae.exec(i)){if(delete e[l],r=r||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[l])continue;p=!0}h[l]=g&&g[l]||ft.style(t,l)}else u=void 0;if(ft.isEmptyObject(h))"inline"===("none"===u?j(t.nodeName):u)&&(f.display=u);else{g?"hidden"in g&&(p=g.hidden):g=ft._data(t,"fxshow",{}),r&&(g.hidden=!p),p?ft(t).show():d.done(function(){ft(t).hide()}),d.done(function(){var e;ft._removeData(t,"fxshow");for(e in h)ft.style(t,e,h[e])});for(l in h)o=R(p?g[l]:0,l,d),l in g||(g[l]=o.start,p&&(o.end=o.start,o.start="width"===l||"height"===l?1:0))}}function H(t,e){var n,l,i,r,o;for(n in t)if(l=ft.camelCase(n),i=e[l],r=t[n],ft.isArray(r)&&(i=r[1],r=t[n]=r[0]),n!==l&&(t[l]=r,delete t[n]),o=ft.cssHooks[l],o&&"expand"in o){r=o.expand(r),delete t[l];for(n in r)n in t||(t[n]=r[n],e[n]=i)}else e[l]=i}function q(t,e,n){var l,i,r=0,o=q.prefilters.length,s=ft.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var e=Se||L(),n=Math.max(0,u.startTime+u.duration-e),l=n/u.duration||0,r=1-l,o=0,a=u.tweens.length;a>o;o++)u.tweens[o].run(r);return s.notifyWith(t,[u,r,n]),1>r&&a?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},n),originalProperties:e,originalOptions:n,startTime:Se||L(),duration:n.duration,tweens:[],createTween:function(e,n){var l=ft.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(l),l},stop:function(e){var n=0,l=e?u.tweens.length:0;if(i)return this;for(i=!0;l>n;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(H(c,u.opts.specialEasing);o>r;r++)if(l=q.prefilters[r].call(u,t,c,u.opts))return ft.isFunction(l.stop)&&(ft._queueHooks(u.elem,u.opts.queue).stop=ft.proxy(l.stop,l)),l;return ft.map(c,R,u),ft.isFunction(u.opts.start)&&u.opts.start.call(t,u),ft.fx.timer(ft.extend(a,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function U(t){return ft.attr(t,"class")||""}function W(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var l,i=0,r=e.toLowerCase().match(Mt)||[];if(ft.isFunction(n))for(;l=r[i++];)"+"===l.charAt(0)?(l=l.slice(1)||"*",(t[l]=t[l]||[]).unshift(n)):(t[l]=t[l]||[]).push(n)}}function V(t,e,n,l){function i(s){var a;return r[s]=!0,ft.each(t[s]||[],function(t,s){var u=s(e,n,l);return"string"!=typeof u||o||r[u]?o?!(a=u):void 0:(e.dataTypes.unshift(u),i(u),!1)}),a}var r={},o=t===Je;return i(e.dataTypes[0])||!r["*"]&&i("*")}function Y(t,e){var n,l,i=ft.ajaxSettings.flatOptions||{};for(l in e)void 0!==e[l]&&((i[l]?t:n||(n={}))[l]=e[l]);return n&&ft.extend(!0,t,n),t}function X(t,e,n){for(var l,i,r,o,s=t.contents,a=t.dataTypes;"*"===a[0];)a.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){a.unshift(o);break}if(a[0]in n)r=a[0];else{for(o in n){if(!a[0]||t.converters[o+" "+a[0]]){r=o;break}l||(l=o)}r=r||l}return r?(r!==a[0]&&a.unshift(r),n[r]):void 0}function G(t,e,n,l){var i,r,o,s,a,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(r=c.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!a&&l&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),a=r,r=c.shift())if("*"===r)r=a;else if("*"!==a&&a!==r){if(o=u[a+" "+r]||u["* "+r],!o)for(i in u)if(s=i.split(" "),s[1]===r&&(o=u[a+" "+s[0]]||u["* "+s[0]])){o===!0?o=u[i]:u[i]!==!0&&(r=s[0],c.unshift(s[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+a+" to "+r}}}return{state:"success",data:e}}function Z(t){return t.style&&t.style.display||ft.css(t,"display")}function K(t){if(!ft.contains(t.ownerDocument||lt,t))return!0;for(;t&&1===t.nodeType;){if("none"===Z(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function J(t,e,n,l){var i;if(ft.isArray(e))ft.each(e,function(e,i){n||ln.test(t)?l(t,i):J(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,l)});else if(n||"object"!==ft.type(e))l(t,e);else for(i in e)J(t+"["+i+"]",e[i],n,l)}function Q(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var nt=[],lt=t.document,it=nt.slice,rt=nt.concat,ot=nt.push,st=nt.indexOf,at={},ut=at.toString,ct=at.hasOwnProperty,dt={},ht="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,selector:"",length:0,toArray:function(){return it.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:it.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:nt.sort,splice:nt.splice},ft.extend=ft.fn.extend=function(){var t,e,n,l,i,r,o=arguments[0]||{},s=1,a=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||ft.isFunction(o)||(o={}),s===a&&(o=this,s--);a>s;s++)if(null!=(i=arguments[s]))for(l in i)t=o[l],n=i[l],o!==n&&(u&&n&&(ft.isPlainObject(n)||(e=ft.isArray(n)))?(e?(e=!1,r=t&&ft.isArray(t)?t:[]):r=t&&ft.isPlainObject(t)?t:{},o[l]=ft.extend(u,r,n)):void 0!==n&&(o[l]=n));return o},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!dt.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return void 0===e||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?at[ut.call(t)]||"object":typeof t},globalEval:function(e){e&&ft.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var l,i=0;if(n(t))for(l=t.length;l>i&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var l=e||[];return null!=t&&(n(Object(t))?ft.merge(l,"string"==typeof t?[t]:t):ot.call(l,t)),l},inArray:function(t,e,n){var l;if(e){if(st)return st.call(e,t,n);for(l=e.length,n=n?0>n?Math.max(0,l+n):n:0;l>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,l=0,i=t.length;n>l;)t[i++]=e[l++];if(n!==n)for(;void 0!==e[l];)t[i++]=e[l++];return t.length=i,t},grep:function(t,e,n){for(var l,i=[],r=0,o=t.length,s=!n;o>r;r++)l=!e(t[r],r),l!==s&&i.push(t[r]);return i},map:function(t,e,l){var i,r,o=0,s=[];if(n(t))for(i=t.length;i>o;o++)r=e(t[o],o,l),null!=r&&s.push(r);else for(o in t)r=e(t[o],o,l),null!=r&&s.push(r);return rt.apply([],s)},guid:1,proxy:function(t,e){var n,l,i;return"string"==typeof e&&(i=t[e],e=t,t=i),ft.isFunction(t)?(n=it.call(arguments,2),l=function(){return t.apply(e||this,n.concat(it.call(arguments)))},l.guid=t.guid=t.guid||ft.guid++,l):void 0},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=nt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){at["[object "+e+"]"]=e.toLowerCase()});var yt=function(t){function e(t,e,n,l){var i,r,o,s,a,u,d,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!l&&((e?e.ownerDocument||e:R)!==O&&E(e),e=e||O,$)){if(11!==g&&(u=vt.exec(t)))if(i=u[1]){if(9===g){if(!(o=e.getElementById(i)))return n;if(o.id===i)return n.push(o),n}else if(p&&(o=p.getElementById(i))&&L(e,o)&&o.id===i)return n.push(o),n}else{if(u[2])return J.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(i)),n}if(x.qsa&&!W[t+" "]&&(!F||!F.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,"\\$&"):e.setAttribute("id",s=B),d=S(t),r=d.length,a=ht.test(s)?"#"+s:"[id='"+s+"']";r--;)d[r]=a+" "+h(d[r]);f=d.join(","),p=yt.test(t)&&c(e.parentNode)||e}if(f)try{return J.apply(n,p.querySelectorAll(f)),n}catch(m){}finally{s===B&&e.removeAttribute("id")}}}return A(t.replace(st,"$1"),e,n,l)}function n(){function t(n,l){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=l}var e=[];return t}function l(t){return t[B]=!0,t}function i(t){var e=O.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),l=n.length;l--;)_.attrHandle[n[l]]=e}function o(t,e){var n=e&&t,l=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(l)return l;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function a(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return l(function(e){return e=+e,l(function(n,l){for(var i,r=t([],n.length,e),o=r.length;o--;)n[i=r[o]]&&(n[i]=!(l[i]=n[i]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,l="";n>e;e++)l+=t[e].value;return l}function f(t,e,n){var l=e.dir,i=n&&"parentNode"===l,r=H++;return e.first?function(e,n,r){for(;e=e[l];)if(1===e.nodeType||i)return t(e,n,r)}:function(e,n,o){var s,a,u,c=[z,r];if(o){for(;e=e[l];)if((1===e.nodeType||i)&&t(e,n,o))return!0}else for(;e=e[l];)if(1===e.nodeType||i){if(u=e[B]||(e[B]={}),a=u[e.uniqueID]||(u[e.uniqueID]={}),(s=a[l])&&s[0]===z&&s[1]===r)return c[2]=s[2];if(a[l]=c,c[2]=t(e,n,o))return!0}}}function p(t){return t.length>1?function(e,n,l){for(var i=t.length;i--;)if(!t[i](e,n,l))return!1;return!0}:t[0]}function g(t,n,l){for(var i=0,r=n.length;r>i;i++)e(t,n[i],l);return l}function m(t,e,n,l,i){for(var r,o=[],s=0,a=t.length,u=null!=e;a>s;s++)(r=t[s])&&(n&&!n(r,l,i)||(o.push(r),u&&e.push(s)));return o}function v(t,e,n,i,r,o){return i&&!i[B]&&(i=v(i)),r&&!r[B]&&(r=v(r,o)),l(function(l,o,s,a){var u,c,d,h=[],f=[],p=o.length,v=l||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!l&&e?v:m(v,h,t,s,a),b=n?r||(l?t:p||i)?[]:o:y;if(n&&n(y,b,s,a),i)for(u=m(b,f),i(u,[],s,a),c=u.length;c--;)(d=u[c])&&(b[f[c]]=!(y[f[c]]=d));if(l){if(r||t){if(r){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);r(null,b=[],u,a)}for(c=b.length;c--;)(d=b[c])&&(u=r?tt(l,d):h[c])>-1&&(l[u]=!(o[u]=d))}}else b=m(b===o?b.splice(p,b.length):b),r?r(null,o,b,a):J.apply(o,b)})}function y(t){for(var e,n,l,i=t.length,r=_.relative[t[0].type],o=r||_.relative[" "],s=r?1:0,a=f(function(t){return t===e},o,!0),u=f(function(t){return tt(e,t)>-1},o,!0),c=[function(t,n,l){var i=!r&&(l||n!==D)||((e=n).nodeType?a(t,n,l):u(t,n,l));return e=null,i}];i>s;s++)if(n=_.relative[t[s].type])c=[f(p(c),n)];else{if(n=_.filter[t[s].type].apply(null,t[s].matches),n[B]){for(l=++s;i>l&&!_.relative[t[l].type];l++);return v(s>1&&p(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,l>s&&y(t.slice(s,l)),i>l&&y(t=t.slice(l)),i>l&&h(t))}c.push(n)}return p(c)}function b(t,n){var i=n.length>0,r=t.length>0,o=function(l,o,s,a,u){var c,d,h,f=0,p="0",g=l&&[],v=[],y=D,b=l||r&&_.find.TAG("*",u),w=z+=null==y?1:Math.random()||.1,x=b.length;for(u&&(D=o===O||o||u);p!==x&&null!=(c=b[p]);p++){if(r&&c){for(d=0,o||c.ownerDocument===O||(E(c),s=!$);h=t[d++];)if(h(c,o||O,s)){a.push(c);break}u&&(z=w)}i&&((c=!h&&c)&&f--,l&&g.push(c))}if(f+=p,i&&p!==f){for(d=0;h=n[d++];)h(g,v,o,s);if(l){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=Z.call(a));v=m(v)}J.apply(a,v),u&&!l&&v.length>0&&f+n.length>1&&e.uniqueSort(a)}return u&&(z=w,D=y),g};return i?l(o):o}var w,x,_,C,k,S,T,A,D,M,j,E,O,I,$,F,P,N,L,B="sizzle"+1*new Date,R=t.document,z=0,H=0,q=n(),U=n(),W=n(),V=function(t,e){return t===e&&(j=!0),0},Y=1<<31,X={}.hasOwnProperty,G=[],Z=G.pop,K=G.push,J=G.push,Q=G.slice,tt=function(t,e){for(var n=0,l=t.length;l>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",lt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it="\\["+nt+"*("+lt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+lt+"))|)"+nt+"*\\]",rt=":("+lt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",ot=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),at=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(rt),ht=new RegExp("^"+lt+"$"),ft={ID:new RegExp("^#("+lt+")"),CLASS:new RegExp("^\\.("+lt+")"),TAG:new RegExp("^("+lt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var l="0x"+e-65536;return l!==l||n?e:0>l?String.fromCharCode(l+65536):String.fromCharCode(l>>10|55296,1023&l|56320)},_t=function(){E()};try{J.apply(G=Q.call(R.childNodes),R.childNodes),G[R.childNodes.length].nodeType}catch(Ct){J={apply:G.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,l=0;t[n++]=e[l++];);t.length=n-1}}}x=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},E=e.setDocument=function(t){var e,n,l=t?t.ownerDocument||t:R;return l!==O&&9===l.nodeType&&l.documentElement?(O=l,I=O.documentElement,$=!k(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),x.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=i(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(O.getElementsByClassName),x.getById=i(function(t){return I.appendChild(t).id=B,!O.getElementsByName||!O.getElementsByName(B).length}),x.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&$){var n=e.getElementById(t);return n?[n]:[]}},_.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,l=[],i=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[i++];)1===n.nodeType&&l.push(n);return l}return r},_.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&$?e.getElementsByClassName(t):void 0},P=[],F=[],(x.qsa=mt.test(O.querySelectorAll))&&(i(function(t){I.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||F.push("~="),t.querySelectorAll(":checked").length||F.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||F.push(".#.+[+~]")}),i(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(x.matchesSelector=mt.test(N=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&i(function(t){x.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),P.push("!=",rt)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),e=mt.test(I.compareDocumentPosition),L=e||mt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,l=e&&e.parentNode;return t===l||!(!l||1!==l.nodeType||!(n.contains?n.contains(l):t.compareDocumentPosition&&16&t.compareDocumentPosition(l)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return j=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===R&&L(R,t)?-1:e===O||e.ownerDocument===R&&L(R,e)?1:M?tt(M,t)-tt(M,e):0:4&n?-1:1)}:function(t,e){if(t===e)return j=!0,0;var n,l=0,i=t.parentNode,r=e.parentNode,s=[t],a=[e];if(!i||!r)return t===O?-1:e===O?1:i?-1:r?1:M?tt(M,t)-tt(M,e):0;if(i===r)return o(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[l]===a[l];)l++;return l?o(s[l],a[l]):s[l]===R?-1:a[l]===R?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&E(t),n=n.replace(ct,"='$1']"),x.matchesSelector&&$&&!W[n+" "]&&(!P||!P.test(n))&&(!F||!F.test(n)))try{var l=N.call(t,n);if(l||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return l}catch(i){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&E(t),L(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&E(t);var n=_.attrHandle[e.toLowerCase()],l=n&&X.call(_.attrHandle,e.toLowerCase())?n(t,e,!$):void 0;return void 0!==l?l:x.attributes||!$?t.getAttribute(e):(l=t.getAttributeNode(e))&&l.specified?l.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],l=0,i=0;if(j=!x.detectDuplicates,M=!x.sortStable&&t.slice(0),t.sort(V),j){for(;e=t[i++];)e===t[i]&&(l=n.push(i));for(;l--;)t.splice(n[l],1)}return M=null,t},C=e.getText=function(t){var e,n="",l=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[l++];)n+=C(e);return n},_=e.selectors={cacheLength:50,createPseudo:l,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,l){return function(i){var r=e.attr(i,t);return null==r?"!="===n:n?(r+="","="===n?r===l:"!="===n?r!==l:"^="===n?l&&0===r.indexOf(l):"*="===n?l&&r.indexOf(l)>-1:"$="===n?l&&r.slice(-l.length)===l:"~="===n?(" "+r.replace(ot," ")+" ").indexOf(l)>-1:"|="===n?r===l||r.slice(0,l.length+1)===l+"-":!1):!0}},CHILD:function(t,e,n,l,i){var r="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===l&&0===i?function(t){return!!t.parentNode}:function(e,n,a){var u,c,d,h,f,p,g=r!==o?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!a&&!s,b=!1;if(m){if(r){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(h=m,d=h[B]||(h[B]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[t]||[],f=u[0]===z&&u[1],b=f&&u[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){c[t]=[z,f,b];break}}else if(y&&(h=e,d=h[B]||(h[B]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[t]||[],f=u[0]===z&&u[1],b=f),b===!1)for(;(h=++f&&h&&h[g]||(b=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(d=h[B]||(h[B]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),c[t]=[z,b]),h!==e)););return b-=i,b===l||b%l===0&&b/l>=0}}},PSEUDO:function(t,n){var i,r=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[B]?r(n):r.length>1?(i=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var l,i=r(t,n),o=i.length;o--;)l=tt(t,i[o]),t[l]=!(e[l]=i[o])}):function(t){return r(t,0,i)}):r}},pseudos:{
not:l(function(t){var e=[],n=[],i=T(t.replace(st,"$1"));return i[B]?l(function(t,e,n,l){for(var r,o=i(t,null,l,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,l,r){return e[0]=t,i(e,null,r,n),e[0]=null,!n.pop()}}),has:l(function(t){return function(n){return e(t,n).length>0}}),contains:l(function(t){return t=t.replace(wt,xt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:l(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,xt).toLowerCase(),function(e){var n;do if(n=$?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var l=0>n?n+e:n;--l>=0;)t.push(l);return t}),gt:u(function(t,e,n){for(var l=0>n?n+e:n;++l<e;)t.push(l);return t})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=a(w);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,S=e.tokenize=function(t,n){var l,i,r,o,s,a,u,c=U[t+" "];if(c)return n?0:c.slice(0);for(s=t,a=[],u=_.preFilter;s;){l&&!(i=at.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),l=!1,(i=ut.exec(s))&&(l=i.shift(),r.push({value:l,type:i[0].replace(st," ")}),s=s.slice(l.length));for(o in _.filter)!(i=ft[o].exec(s))||u[o]&&!(i=u[o](i))||(l=i.shift(),r.push({value:l,type:o,matches:i}),s=s.slice(l.length));if(!l)break}return n?s.length:s?e.error(t):U(t,a).slice(0)},T=e.compile=function(t,e){var n,l=[],i=[],r=W[t+" "];if(!r){for(e||(e=S(t)),n=e.length;n--;)r=y(e[n]),r[B]?l.push(r):i.push(r);r=W(t,b(i,l)),r.selector=t}return r},A=e.select=function(t,e,n,l){var i,r,o,s,a,u="function"==typeof t&&t,d=!l&&S(t=u.selector||t);if(n=n||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&x.getById&&9===e.nodeType&&$&&_.relative[r[1].type]){if(e=(_.find.ID(o.matches[0].replace(wt,xt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(i=ft.needsContext.test(t)?0:r.length;i--&&(o=r[i],!_.relative[s=o.type]);)if((a=_.find[s])&&(l=a(o.matches[0].replace(wt,xt),yt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(i,1),t=l.length&&h(r),!t)return J.apply(n,l),n;break}}return(u||T(t,d))(l,e,!$,n,!e||yt.test(t)&&c(e.parentNode)||e),n},x.sortStable=B.split("").sort(V).join("")===B,x.detectDuplicates=!!j,E(),x.sortDetached=i(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,n){var l;return n?void 0:t[e]===!0?e.toLowerCase():(l=t.getAttributeNode(e))&&l.specified?l.value:null}),e}(t);ft.find=yt,ft.expr=yt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=yt.uniqueSort,ft.text=yt.getText,ft.isXMLDoc=yt.isXML,ft.contains=yt.contains;var bt=function(t,e,n){for(var l=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&ft(t).is(n))break;l.push(t)}return l},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},xt=ft.expr.match.needsContext,_t=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ct=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var l=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===l.nodeType?ft.find.matchesSelector(l,t)?[l]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n=[],l=this,i=l.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;i>e;e++)if(ft.contains(l[e],this))return!0}));for(e=0;i>e;e++)ft.find(t,l[e],n);return n=this.pushStack(i>1?ft.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(l(this,t||[],!1))},not:function(t){return this.pushStack(l(this,t||[],!0))},is:function(t){return!!l(this,"string"==typeof t&&xt.test(t)?ft(t):t||[],!1).length}});var kt,St=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Tt=ft.fn.init=function(t,e,n){var l,i;if(!t)return this;if(n=n||kt,"string"==typeof t){if(l="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:St.exec(t),!l||!l[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(l[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(l[1],e&&e.nodeType?e.ownerDocument||e:lt,!0)),_t.test(l[1])&&ft.isPlainObject(e))for(l in e)ft.isFunction(this[l])?this[l](e[l]):this.attr(l,e[l]);return this}if(i=lt.getElementById(l[2]),i&&i.parentNode){if(i.id!==l[2])return kt.find(t);this.length=1,this[0]=i}return this.context=lt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ft):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this))};Tt.prototype=ft.fn,kt=ft(lt);var At=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,n=ft(t,this),l=n.length;return this.filter(function(){for(e=0;l>e;e++)if(ft.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,l=0,i=this.length,r=[],o=xt.test(t)||"string"!=typeof t?ft(t,e||this.context):0;i>l;l++)for(n=this[l];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&ft.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?ft.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(n,l){var i=ft.map(this,e,n);return"Until"!==t.slice(-5)&&(l=n),l&&"string"==typeof l&&(i=ft.filter(l,i)),this.length>1&&(Dt[t]||(i=ft.uniqueSort(i)),At.test(t)&&(i=i.reverse())),this.pushStack(i)}});var Mt=/\S+/g;ft.Callbacks=function(t){t="string"==typeof t?r(t):ft.extend({},t);var e,n,l,i,o=[],s=[],a=-1,u=function(){for(i=t.once,l=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)o[a].apply(n[0],n[1])===!1&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function l(e){ft.each(e,function(e,n){ft.isFunction(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==ft.type(n)&&l(n)})}(arguments),n&&!e&&u()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;(n=ft.inArray(e,o,n))>-1;)o.splice(n,1),a>=n&&a--}),this},has:function(t){return t?ft.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=!0,n||c.disable(),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!l}};return c},ft.extend({Deferred:function(t){var e=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],n="pending",l={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ft.Deferred(function(n){ft.each(e,function(e,r){var o=ft.isFunction(t[e])&&t[e];i[r[1]](function(){var t=o&&o.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this===l?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ft.extend(t,l):l}},i={};return l.pipe=l.then,ft.each(e,function(t,r){var o=r[2],s=r[3];l[r[1]]=o.add,s&&o.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?l:this,arguments),this},i[r[0]+"With"]=o.fireWith}),l.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,l,i=0,r=it.call(arguments),o=r.length,s=1!==o||t&&ft.isFunction(t.promise)?o:0,a=1===s?t:ft.Deferred(),u=function(t,n,l){return function(i){n[t]=this,l[t]=arguments.length>1?it.call(arguments):i,l===e?a.notifyWith(n,l):--s||a.resolveWith(n,l)}};if(o>1)for(e=new Array(o),n=new Array(o),l=new Array(o);o>i;i++)r[i]&&ft.isFunction(r[i].promise)?r[i].promise().progress(u(i,n,e)).done(u(i,l,r)).fail(a.reject):--s;return s||a.resolveWith(l,r),a.promise()}});var jt;ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(t===!0?--ft.readyWait:ft.isReady)||(ft.isReady=!0,t!==!0&&--ft.readyWait>0||(jt.resolveWith(lt,[ft]),ft.fn.triggerHandler&&(ft(lt).triggerHandler("ready"),ft(lt).off("ready"))))}}),ft.ready.promise=function(e){if(!jt)if(jt=ft.Deferred(),"complete"===lt.readyState||"loading"!==lt.readyState&&!lt.documentElement.doScroll)t.setTimeout(ft.ready);else if(lt.addEventListener)lt.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s);else{lt.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&lt.documentElement}catch(l){}n&&n.doScroll&&!function i(){if(!ft.isReady){try{n.doScroll("left")}catch(e){return t.setTimeout(i,50)}o(),ft.ready()}}()}return jt.promise(e)},ft.ready.promise();var Et;for(Et in ft(dt))break;dt.ownFirst="0"===Et,dt.inlineBlockNeedsLayout=!1,ft(function(){var t,e,n,l;n=lt.getElementsByTagName("body")[0],n&&n.style&&(e=lt.createElement("div"),l=lt.createElement("div"),l.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(l).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(l))}),function(){var t=lt.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(e){dt.deleteExpando=!1}t=null}();var Ot=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e},It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando],!!t&&!u(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),ft.fn.extend({data:function(t,e){var n,l,i,r=this[0],o=r&&r.attributes;if(void 0===t){if(this.length&&(i=ft.data(r),1===r.nodeType&&!ft._data(r,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(l=o[n].name,0===l.indexOf("data-")&&(l=ft.camelCase(l.slice(5)),a(r,l,i[l])));ft._data(r,"parsedAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ft.data(this,t)}):arguments.length>1?this.each(function(){ft.data(this,t,e)}):r?a(r,t,ft.data(r,t)):void 0},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,n){var l;return t?(e=(e||"fx")+"queue",l=ft._data(t,e),n&&(!l||ft.isArray(n)?l=ft._data(t,e,ft.makeArray(n)):l.push(n)),l||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),l=n.length,i=n.shift(),r=ft._queueHooks(t,e),o=function(){ft.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),l--),i&&("fx"===e&&n.unshift("inprogress"),delete r.stop,i.call(t,o,r)),!l&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ft._data(t,n)||ft._data(t,n,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,n)})})}}),ft.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ft.queue(this[0],t):void 0===e?this:this.each(function(){var n=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,l=1,i=ft.Deferred(),r=this,o=this.length,s=function(){--l||i.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)n=ft._data(r[o],t+"queueHooks"),n&&n.empty&&(l++,n.empty.add(s));return s(),i.promise(e)}}),function(){var t;dt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,l;return n=lt.getElementsByTagName("body")[0],n&&n.style?(e=lt.createElement("div"),l=lt.createElement("div"),l.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(l).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(lt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(l),t):void 0}}();var Ft=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=new RegExp("^(?:([+-])=|)("+Ft+")([a-z%]*)$","i"),Nt=["Top","Right","Bottom","Left"],Lt=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},Bt=function(t,e,n,l,i,r,o){var s=0,a=t.length,u=null==n;if("object"===ft.type(n)){i=!0;for(s in n)Bt(t,e,s,n[s],!0,r,o)}else if(void 0!==l&&(i=!0,ft.isFunction(l)||(o=!0),u&&(o?(e.call(t,l),e=null):(u=e,e=function(t,e,n){return u.call(ft(t),n)})),e))for(;a>s;s++)e(t[s],n,o?l:l.call(t[s],s,e(t[s],n)));return i?t:u?e.call(t):a?e(t[0],n):r},Rt=/^(?:checkbox|radio)$/i,zt=/<([\w:-]+)/,Ht=/^$|\/(?:java|ecma)script/i,qt=/^\s+/,Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=lt.createElement("div"),e=lt.createDocumentFragment(),n=lt.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===t.firstChild.nodeType,dt.tbody=!t.getElementsByTagName("tbody").length,dt.htmlSerialize=!!t.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==lt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),dt.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),n=lt.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),dt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!t.addEventListener,t[ft.expando]=1,dt.attributes=!t.getAttribute(ft.expando)}();var Wt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Wt.optgroup=Wt.option,Wt.tbody=Wt.tfoot=Wt.colgroup=Wt.caption=Wt.thead,Wt.th=Wt.td;var Vt=/<|&#?\w+;/,Yt=/<tbody/i;!function(){var e,n,l=lt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(dt[e]=n in t)||(l.setAttribute(n,"t"),dt[e]=l.attributes[n].expando===!1);l=null}();var Xt=/^(?:input|select|textarea)$/i,Gt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^(?:focusinfocus|focusoutblur)$/,Jt=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,l,i){var r,o,s,a,u,c,d,h,f,p,g,m=ft._data(t);if(m){for(n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=ft.guid++),(o=m.events)||(o=m.events={}),(c=m.handle)||(c=m.handle=function(t){return"undefined"==typeof ft||t&&ft.event.triggered===t.type?void 0:ft.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(Mt)||[""],s=e.length;s--;)r=Jt.exec(e[s])||[],f=g=r[1],p=(r[2]||"").split(".").sort(),f&&(u=ft.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,u=ft.event.special[f]||{},d=ft.extend({type:f,origType:g,data:l,handler:n,guid:n.guid,selector:i,needsContext:i&&ft.expr.match.needsContext.test(i),namespace:p.join(".")},a),(h=o[f])||(h=o[f]=[],h.delegateCount=0,u.setup&&u.setup.call(t,l,p,c)!==!1||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,d):h.push(d),ft.event.global[f]=!0);t=null}},remove:function(t,e,n,l,i){var r,o,s,a,u,c,d,h,f,p,g,m=ft.hasData(t)&&ft._data(t);if(m&&(c=m.events)){for(e=(e||"").match(Mt)||[""],u=e.length;u--;)if(s=Jt.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(d=ft.event.special[f]||{},f=(l?d.delegateType:d.bindType)||f,h=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)o=h[r],!i&&g!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||l&&l!==o.selector&&("**"!==l||!o.selector)||(h.splice(r,1),o.selector&&h.delegateCount--,d.remove&&d.remove.call(t,o));a&&!h.length&&(d.teardown&&d.teardown.call(t,p,m.handle)!==!1||ft.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)ft.event.remove(t,f+e[u],n,l,!0);ft.isEmptyObject(c)&&(delete m.handle,ft._removeData(t,"events"))}},trigger:function(e,n,l,i){var r,o,s,a,u,c,d,h=[l||lt],f=ct.call(e,"type")?e.type:e,p=ct.call(e,"namespace")?e.namespace.split("."):[];if(s=c=l=l||lt,3!==l.nodeType&&8!==l.nodeType&&!Kt.test(f+ft.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),o=f.indexOf(":")<0&&"on"+f,e=e[ft.expando]?e:new ft.Event(f,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=l),n=null==n?[e]:ft.makeArray(n,[e]),u=ft.event.special[f]||{},i||!u.trigger||u.trigger.apply(l,n)!==!1)){if(!i&&!u.noBubble&&!ft.isWindow(l)){for(a=u.delegateType||f,Kt.test(a+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),c=s;c===(l.ownerDocument||lt)&&h.push(c.defaultView||c.parentWindow||t)}for(d=0;(s=h[d++])&&!e.isPropagationStopped();)e.type=d>1?a:u.bindType||f,r=(ft._data(s,"events")||{})[e.type]&&ft._data(s,"handle"),r&&r.apply(s,n),r=o&&s[o],r&&r.apply&&Ot(s)&&(e.result=r.apply(s,n),e.result===!1&&e.preventDefault());if(e.type=f,!i&&!e.isDefaultPrevented()&&(!u._default||u._default.apply(h.pop(),n)===!1)&&Ot(l)&&o&&l[f]&&!ft.isWindow(l)){c=l[o],c&&(l[o]=null),ft.event.triggered=f;try{l[f]()}catch(g){}ft.event.triggered=void 0,c&&(l[o]=c)}return e.result}},dispatch:function(t){t=ft.event.fix(t);var e,n,l,i,r,o=[],s=it.call(arguments),a=(ft._data(this,"events")||{})[t.type]||[],u=ft.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(o=ft.event.handlers.call(this,t,a),e=0;(i=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,l=((ft.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==l&&(t.result=l)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,l,i,r,o=[],s=e.delegateCount,a=t.target;if(s&&a.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;a!=this;a=a.parentNode||this)if(1===a.nodeType&&(a.disabled!==!0||"click"!==t.type)){for(l=[],n=0;s>n;n++)r=e[n],i=r.selector+" ",void 0===l[i]&&(l[i]=r.needsContext?ft(i,this).index(a)>-1:ft.find(i,this,null,[a]).length),l[i]&&l.push(r);l.length&&o.push({elem:a,handlers:l})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},fix:function(t){if(t[ft.expando])return t;var e,n,l,i=t.type,r=t,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=Zt.test(i)?this.mouseHooks:Gt.test(i)?this.keyHooks:{}),l=o.props?this.props.concat(o.props):this.props,t=new ft.Event(r),e=l.length;e--;)n=l[e],t[n]=r[n];return t.target||(t.target=r.srcElement||lt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,l,i,r=e.button,o=e.fromElement;return null==t.pageX&&null!=e.clientX&&(l=t.target.ownerDocument||lt,i=l.documentElement,n=l.body,t.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?e.toElement:o),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===w()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var l=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(l,null,e),l.isDefaultPrevented()&&n.preventDefault()}},ft.removeEvent=lt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var l="on"+e;t.detachEvent&&("undefined"==typeof t[l]&&(t[l]=null),t.detachEvent(l,n))},ft.Event=function(t,e){return this instanceof ft.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?y:b):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),void(this[ft.expando]=!0)):new ft.Event(t,e)},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,l=this,i=t.relatedTarget,r=t.handleObj;return i&&(i===l||ft.contains(l,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),dt.submit||(ft.event.special.submit={setup:function(){return ft.nodeName(this,"form")?!1:void ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):void 0;n&&!ft._data(n,"submit")&&(ft.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ft._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){return ft.nodeName(this,"form")?!1:void ft.event.remove(this,"._submit")}}),dt.change||(ft.event.special.change={setup:function(){return Xt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1):void ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;Xt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ft.event.remove(this,"._change"),!Xt.test(this.nodeName)}}),dt.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var l=this.ownerDocument||this,i=ft._data(l,e);i||l.addEventListener(t,n,!0),ft._data(l,e,(i||0)+1)},teardown:function(){var l=this.ownerDocument||this,i=ft._data(l,e)-1;i?ft._data(l,e,i):(l.removeEventListener(t,n,!0),ft._removeData(l,e))}}}),ft.fn.extend({on:function(t,e,n,l){return x(this,t,e,n,l)},one:function(t,e,n,l){return x(this,t,e,n,l,1)},off:function(t,e,n){var l,i;if(t&&t.preventDefault&&t.handleObj)return l=t.handleObj,ft(t.delegateTarget).off(l.namespace?l.origType+"."+l.namespace:l.origType,l.selector,l.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=b),this.each(function(){ft.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ft.event.trigger(t,e,n,!0):void 0}});var Qt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+Ut+")[\\s/>]","i"),ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ne=/<script|<style|<link/i,le=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oe=f(lt),se=oe.appendChild(lt.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(ee,"<$1></$2>")},clone:function(t,e,n){var l,i,r,o,s,a=ft.contains(t.ownerDocument,t);if(dt.html5Clone||ft.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(se.innerHTML=t.outerHTML,se.removeChild(r=se.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(l=p(r),s=p(t),o=0;null!=(i=s[o]);++o)l[o]&&T(i,l[o]);if(e)if(n)for(s=s||p(t),l=l||p(r),o=0;null!=(i=s[o]);o++)S(i,l[o]);else S(t,r);return l=p(r,"script"),l.length>0&&g(l,!a&&p(t,"script")),l=s=i=null,r},cleanData:function(t,e){for(var n,l,i,r,o=0,s=ft.expando,a=ft.cache,u=dt.attributes,c=ft.event.special;null!=(n=t[o]);o++)if((e||Ot(n))&&(i=n[s],r=i&&a[i])){if(r.events)for(l in r.events)c[l]?ft.event.remove(n,l):ft.removeEvent(n,l,r.handle);a[i]&&(delete a[i],u||"undefined"==typeof n.removeAttribute?n[s]=void 0:n.removeAttribute(s),nt.push(i))}}}),ft.fn.extend({domManip:A,detach:function(t){return D(this,t,!0)},remove:function(t){return D(this,t)},text:function(t){return Bt(this,function(t){return void 0===t?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||lt).createTextNode(t))},null,t,arguments.length)},append:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,t);e.appendChild(t)}})},prepend:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Bt(this,function(t){var e=this[0]||{},n=0,l=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Qt,""):void 0;if("string"==typeof t&&!ne.test(t)&&(dt.htmlSerialize||!te.test(t))&&(dt.leadingWhitespace||!qt.test(t))&&!Wt[(zt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;l>n;n++)e=this[n]||{},1===e.nodeType&&(ft.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return A(this,arguments,function(e){var n=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(p(this)),n&&n.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var n,l=0,i=[],r=ft(t),o=r.length-1;o>=l;l++)n=l===o?this:this.clone(!0),ft(r[l])[e](n),ot.apply(i,n.get());return this.pushStack(i)}});var ae,ue={HTML:"block",BODY:"block"},ce=/^margin/,de=new RegExp("^("+Ft+")(?!px)[a-z%]+$","i"),he=function(t,e,n,l){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];i=n.apply(t,l||[]);for(r in e)t.style[r]=o[r];return i},fe=lt.documentElement;!function(){function e(){var e,c,d=lt.documentElement;d.appendChild(a),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=i=s=!1,l=o=!0,t.getComputedStyle&&(c=t.getComputedStyle(u),n="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,i="4px"===(c||{width:"4px"}).width,u.style.marginRight="50%",l="4px"===(c||{marginRight:"4px"}).marginRight,e=u.appendChild(lt.createElement("div")),e.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",u.style.width="1px",o=!parseFloat((t.getComputedStyle(e)||{}).marginRight),u.removeChild(e)),u.style.display="none",r=0===u.getClientRects().length,r&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",
e=u.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",r=0===e[0].offsetHeight,r&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),d.removeChild(a)}var n,l,i,r,o,s,a=lt.createElement("div"),u=lt.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===u.style.opacity,dt.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===u.style.backgroundClip,a=lt.createElement("div"),a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",a.appendChild(u),dt.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,ft.extend(dt,{reliableHiddenOffsets:function(){return null==n&&e(),r},boxSizingReliable:function(){return null==n&&e(),i},pixelMarginRight:function(){return null==n&&e(),l},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),o},reliableMarginLeft:function(){return null==n&&e(),s}}))}();var pe,ge,me=/^(top|right|bottom|left)$/;t.getComputedStyle?(pe=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},ge=function(t,e,n){var l,i,r,o,s=t.style;return n=n||pe(t),o=n?n.getPropertyValue(e)||n[e]:void 0,""!==o&&void 0!==o||ft.contains(t.ownerDocument,t)||(o=ft.style(t,e)),n&&!dt.pixelMarginRight()&&de.test(o)&&ce.test(e)&&(l=s.width,i=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=l,s.minWidth=i,s.maxWidth=r),void 0===o?o:o+""}):fe.currentStyle&&(pe=function(t){return t.currentStyle},ge=function(t,e,n){var l,i,r,o,s=t.style;return n=n||pe(t),o=n?n[e]:void 0,null==o&&s&&s[e]&&(o=s[e]),de.test(o)&&!me.test(e)&&(l=s.left,i=t.runtimeStyle,r=i&&i.left,r&&(i.left=t.currentStyle.left),s.left="fontSize"===e?"1em":o,o=s.pixelLeft+"px",s.left=l,r&&(i.left=r)),void 0===o?o:o+""||"auto"});var ve=/alpha\([^)]*\)/i,ye=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,we=new RegExp("^("+Ft+")(.*)$","i"),xe={position:"absolute",visibility:"hidden",display:"block"},_e={letterSpacing:"0",fontWeight:"400"},Ce=["Webkit","O","Moz","ms"],ke=lt.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ge(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,l){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,r,o,s=ft.camelCase(e),a=t.style;if(e=ft.cssProps[s]||(ft.cssProps[s]=O(s)||s),o=ft.cssHooks[e]||ft.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(t,!1,l))?i:a[e];if(r=typeof n,"string"===r&&(i=Pt.exec(n))&&i[1]&&(n=h(t,e,i),r="number"),null!=n&&n===n&&("number"===r&&(n+=i&&i[3]||(ft.cssNumber[s]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(a[e]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(t,n,l)))))try{a[e]=n}catch(u){}}},css:function(t,e,n,l){var i,r,o,s=ft.camelCase(e);return e=ft.cssProps[s]||(ft.cssProps[s]=O(s)||s),o=ft.cssHooks[e]||ft.cssHooks[s],o&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=ge(t,e,l)),"normal"===r&&e in _e&&(r=_e[e]),""===n||n?(i=parseFloat(r),n===!0||isFinite(i)?i||0:r):r}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,n,l){return n?be.test(ft.css(t,"display"))&&0===t.offsetWidth?he(t,xe,function(){return P(t,e,l)}):P(t,e,l):void 0},set:function(t,n,l){var i=l&&pe(t);return $(t,n,l?F(t,e,l,dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,i),i):0)}}}),dt.opacity||(ft.cssHooks.opacity={get:function(t,e){return ye.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,l=t.currentStyle,i=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=l&&l.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ft.trim(r.replace(ve,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||l&&!l.filter)||(n.filter=ve.test(r)?r.replace(ve,i):r+" "+i)}}),ft.cssHooks.marginRight=E(dt.reliableMarginRight,function(t,e){return e?he(t,{display:"inline-block"},ge,[t,"marginRight"]):void 0}),ft.cssHooks.marginLeft=E(dt.reliableMarginLeft,function(t,e){return e?(parseFloat(ge(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-he(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px":void 0}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(n){for(var l=0,i={},r="string"==typeof n?n.split(" "):[n];4>l;l++)i[t+Nt[l]+e]=r[l]||r[l-2]||r[0];return i}},ce.test(t)||(ft.cssHooks[t+e].set=$)}),ft.fn.extend({css:function(t,e){return Bt(this,function(t,e,n){var l,i,r={},o=0;if(ft.isArray(e)){for(l=pe(t),i=e.length;i>o;o++)r[e[o]]=ft.css(t,e[o],!1,l);return r}return void 0!==n?ft.style(t,e,n):ft.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Lt(this)?ft(this).show():ft(this).hide()})}}),ft.Tween=N,N.prototype={constructor:N,init:function(t,e,n,l,i,r){this.elem=t,this.prop=n,this.easing=i||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=l,this.unit=r||(ft.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=N.prototype.init,ft.fx.step={};var Se,Te,Ae=/^(?:toggle|show|hide)$/,De=/queueHooks$/;ft.Animation=ft.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,Pt.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(Mt);for(var n,l=0,i=t.length;i>l;l++)n=t[l],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[z],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),ft.speed=function(t,e,n){var l=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return l.duration=ft.fx.off?0:"number"==typeof l.duration?l.duration:l.duration in ft.fx.speeds?ft.fx.speeds[l.duration]:ft.fx.speeds._default,null!=l.queue&&l.queue!==!0||(l.queue="fx"),l.old=l.complete,l.complete=function(){ft.isFunction(l.old)&&l.old.call(this),l.queue&&ft.dequeue(this,l.queue)},l},ft.fn.extend({fadeTo:function(t,e,n,l){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:e},t,n,l)},animate:function(t,e,n,l){var i=ft.isEmptyObject(t),r=ft.speed(e,n,l),o=function(){var e=q(this,ft.extend({},t),r);(i||ft._data(this,"finish"))&&e.stop(!0)};return o.finish=o,i||r.queue===!1?this.each(o):this.queue(r.queue,o)},stop:function(t,e,n){var l=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",r=ft.timers,o=ft._data(this);if(i)o[i]&&o[i].stop&&l(o[i]);else for(i in o)o[i]&&o[i].stop&&De.test(i)&&l(o[i]);for(i=r.length;i--;)r[i].elem!==this||null!=t&&r[i].queue!==t||(r[i].anim.stop(n),e=!1,r.splice(i,1));!e&&n||ft.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ft._data(this),l=n[t+"queue"],i=n[t+"queueHooks"],r=ft.timers,o=l?l.length:0;for(n.finish=!0,ft.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;o>e;e++)l[e]&&l[e].finish&&l[e].finish.call(this);delete n.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var n=ft.fn[e];ft.fn[e]=function(t,l,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(B(e,!0),t,l,i)}}),ft.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,n,l){return this.animate(e,t,n,l)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,n=0;for(Se=ft.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||ft.fx.stop(),Se=void 0},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){Te||(Te=t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.clearInterval(Te),Te=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,n){return e=ft.fx?ft.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,l){var i=t.setTimeout(n,e);l.stop=function(){t.clearTimeout(i)}})},function(){var t,e=lt.createElement("input"),n=lt.createElement("div"),l=lt.createElement("select"),i=l.appendChild(lt.createElement("option"));n=lt.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),t=n.getElementsByTagName("a")[0],t.style.cssText="top:1px",dt.getSetAttribute="t"!==n.className,dt.style=/top/.test(t.getAttribute("style")),dt.hrefNormalized="/a"===t.getAttribute("href"),dt.checkOn=!!e.value,dt.optSelected=i.selected,dt.enctype=!!lt.createElement("form").enctype,l.disabled=!0,dt.optDisabled=!i.disabled,e=lt.createElement("input"),e.setAttribute("value",""),dt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),dt.radioValue="t"===e.value}();var Me=/\r/g,je=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,n,l,i=this[0];{if(arguments.length)return l=ft.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=l?t.call(this,n,ft(this).val()):t,null==i?i="":"number"==typeof i?i+="":ft.isArray(i)&&(i=ft.map(i,function(t){return null==t?"":t+""})),e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=ft.valHooks[i.type]||ft.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Me,""):null==n?"":n)}}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(je," ")}},select:{get:function(t){for(var e,n,l=t.options,i=t.selectedIndex,r="select-one"===t.type||0>i,o=r?null:[],s=r?i+1:l.length,a=0>i?s:r?i:0;s>a;a++)if(n=l[a],(n.selected||a===i)&&(dt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),r)return e;o.push(e)}return o},set:function(t,e){for(var n,l,i=t.options,r=ft.makeArray(e),o=i.length;o--;)if(l=i[o],ft.inArray(ft.valHooks.option.get(l),r)>-1)try{l.selected=n=!0}catch(s){l.scrollHeight}else l.selected=!1;return n||(t.selectedIndex=-1),i}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){return ft.isArray(e)?t.checked=ft.inArray(ft(t).val(),e)>-1:void 0}},dt.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ee,Oe,Ie=ft.expr.attrHandle,$e=/^(?:checked|selected)$/i,Fe=dt.getSetAttribute,Pe=dt.input;ft.fn.extend({attr:function(t,e){return Bt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var l,i,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===r&&ft.isXMLDoc(t)||(e=e.toLowerCase(),i=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?Oe:Ee)),void 0!==n?null===n?void ft.removeAttr(t,e):i&&"set"in i&&void 0!==(l=i.set(t,n,e))?l:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(l=i.get(t,e))?l:(l=ft.find.attr(t,e),null==l?void 0:l))},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,l,i=0,r=e&&e.match(Mt);if(r&&1===t.nodeType)for(;n=r[i++];)l=ft.propFix[n]||n,ft.expr.match.bool.test(n)?Pe&&Fe||!$e.test(n)?t[l]=!1:t[ft.camelCase("default-"+n)]=t[l]=!1:ft.attr(t,n,""),t.removeAttribute(Fe?n:l)}}),Oe={set:function(t,e,n){return e===!1?ft.removeAttr(t,n):Pe&&Fe||!$e.test(n)?t.setAttribute(!Fe&&ft.propFix[n]||n,n):t[ft.camelCase("default-"+n)]=t[n]=!0,n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ie[e]||ft.find.attr;Pe&&Fe||!$e.test(e)?Ie[e]=function(t,e,l){var i,r;return l||(r=Ie[e],Ie[e]=i,i=null!=n(t,e,l)?e.toLowerCase():null,Ie[e]=r),i}:Ie[e]=function(t,e,n){return n?void 0:t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),Pe&&Fe||(ft.attrHooks.value={set:function(t,e,n){return ft.nodeName(t,"input")?void(t.defaultValue=e):Ee&&Ee.set(t,e,n)}}),Fe||(Ee={set:function(t,e,n){var l=t.getAttributeNode(n);return l||t.setAttributeNode(l=t.ownerDocument.createAttribute(n)),l.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},Ie.id=Ie.name=Ie.coords=function(t,e,n){var l;return n?void 0:(l=t.getAttributeNode(e))&&""!==l.value?l.value:null},ft.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:Ee.set},ft.attrHooks.contenteditable={set:function(t,e,n){Ee.set(t,""===e?!1:e,n)}},ft.each(["width","height"],function(t,e){ft.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),dt.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ne=/^(?:input|select|textarea|button|object)$/i,Le=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Bt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ft.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),ft.extend({prop:function(t,e,n){var l,i,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,i=ft.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(l=i.set(t,n,e))?l:t[e]=n:i&&"get"in i&&null!==(l=i.get(t,e))?l:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):Ne.test(t.nodeName)||Le.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),dt.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),dt.enctype||(ft.propFix.enctype="encoding");var Be=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,n,l,i,r,o,s,a=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,U(this)))});if("string"==typeof t&&t)for(e=t.match(Mt)||[];n=this[a++];)if(i=U(n),l=1===n.nodeType&&(" "+i+" ").replace(Be," ")){for(o=0;r=e[o++];)l.indexOf(" "+r+" ")<0&&(l+=r+" ");s=ft.trim(l),i!==s&&ft.attr(n,"class",s)}return this},removeClass:function(t){var e,n,l,i,r,o,s,a=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Mt)||[];n=this[a++];)if(i=U(n),l=1===n.nodeType&&(" "+i+" ").replace(Be," ")){for(o=0;r=e[o++];)for(;l.indexOf(" "+r+" ")>-1;)l=l.replace(" "+r+" "," ");s=ft.trim(l),i!==s&&ft.attr(n,"class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(n){ft(this).toggleClass(t.call(this,n,U(this),e),e)}):this.each(function(){var e,l,i,r;if("string"===n)for(l=0,i=ft(this),r=t.match(Mt)||[];e=r[l++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=U(this),e&&ft._data(this,"__className__",e),ft.attr(this,"class",e||t===!1?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,n,l=0;for(e=" "+t+" ";n=this[l++];)if(1===n.nodeType&&(" "+U(n)+" ").replace(Be," ").indexOf(e)>-1)return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Re=t.location,ze=ft.now(),He=/\?/,qe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,l=null,i=ft.trim(e+"");return i&&!ft.trim(i.replace(qe,function(t,e,i,r){return n&&e&&(l=0),0===l?t:(n=i||e,l+=!r-!i,"")}))?Function("return "+i)():ft.error("Invalid JSON: "+e)},ft.parseXML=function(e){var n,l;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(l=new t.DOMParser,n=l.parseFromString(e,"text/xml")):(n=new t.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),n};var Ue=/#.*$/,We=/([?&])_=[^&]*/,Ve=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ye=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Xe=/^(?:GET|HEAD)$/,Ge=/^\/\//,Ze=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ke={},Je={},Qe="*/".concat("*"),tn=Re.href,en=Ze.exec(tn.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tn,type:"GET",isLocal:Ye.test(en[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,ft.ajaxSettings),e):Y(ft.ajaxSettings,t)},ajaxPrefilter:W(Ke),ajaxTransport:W(Je),ajax:function(e,n){function l(e,n,l,i){var r,d,y,b,x,C=n;2!==w&&(w=2,a&&t.clearTimeout(a),c=void 0,s=i||"",_.readyState=e>0?4:0,r=e>=200&&300>e||304===e,l&&(b=X(h,_,l)),b=G(h,b,_,r),r?(h.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(ft.lastModified[o]=x),x=_.getResponseHeader("etag"),x&&(ft.etag[o]=x)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=b.state,d=b.data,y=b.error,r=!y)):(y=C,!e&&C||(C="error",0>e&&(e=0))),_.status=e,_.statusText=(n||C)+"",r?g.resolveWith(f,[d,C,_]):g.rejectWith(f,[_,C,y]),_.statusCode(v),v=void 0,u&&p.trigger(r?"ajaxSuccess":"ajaxError",[_,h,r?d:y]),m.fireWith(f,[_,C]),u&&(p.trigger("ajaxComplete",[_,h]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,r,o,s,a,u,c,d,h=ft.ajaxSetup({},n),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?ft(f):ft.event,g=ft.Deferred(),m=ft.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,x="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!d)for(d={};e=Ve.exec(s);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||x;return c&&c.abort(e),l(0,e),this}};if(g.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,h.url=((e||h.url||tn)+"").replace(Ue,"").replace(Ge,en[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ft.trim(h.dataType||"*").toLowerCase().match(Mt)||[""],null==h.crossDomain&&(i=Ze.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===en[1]&&i[2]===en[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(en[3]||("http:"===en[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ft.param(h.data,h.traditional)),V(Ke,h,n,_),2===w)return _;u=ft.event&&h.global,u&&0===ft.active++&&ft.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Xe.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(He.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=We.test(o)?o.replace(We,"$1_="+ze++):o+(He.test(o)?"&":"?")+"_="+ze++)),h.ifModified&&(ft.lastModified[o]&&_.setRequestHeader("If-Modified-Since",ft.lastModified[o]),ft.etag[o]&&_.setRequestHeader("If-None-Match",ft.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Qe+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)_.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(f,_,h)===!1||2===w))return _.abort();x="abort";for(r in{success:1,error:1,complete:1})_[r](h[r]);if(c=V(Je,h,n,_)){if(_.readyState=1,u&&p.trigger("ajaxSend",[_,h]),2===w)return _;h.async&&h.timeout>0&&(a=t.setTimeout(function(){_.abort("timeout")},h.timeout));try{w=1,c.send(y,l)}catch(C){if(!(2>w))throw C;l(-1,C)}}else l(-1,"No Transport");return _},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,void 0,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,n,l,i){return ft.isFunction(n)&&(i=i||l,l=n,n=void 0),ft.ajax(ft.extend({url:t,type:e,dataType:i,data:n,success:l},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(t){if(ft.isFunction(t))return this.each(function(e){ft(this).wrapAll(t.call(this,e))});if(this[0]){var e=ft(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(n){ft(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:K(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var nn=/%20/g,ln=/\[\]$/,rn=/\r?\n/g,on=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,l=[],i=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,l[l.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){i(this.name,this.value)});else for(n in t)J(n,t[n],e,i);return l.join("&").replace(nn,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&sn.test(this.nodeName)&&!on.test(t)&&(this.checked||!Rt.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(rn,"\r\n")}}):{name:e.name,value:n.replace(rn,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():lt.documentMode>8?Q():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Q()||tt()}:Q;var an=0,un={},cn=ft.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in un)un[t](void 0,!0)}),dt.cors=!!cn&&"withCredentials"in cn,cn=dt.ajax=!!cn,cn&&ft.ajaxTransport(function(e){if(!e.crossDomain||dt.cors){var n;return{send:function(l,i){var r,o=e.xhr(),s=++an;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||l["X-Requested-With"]||(l["X-Requested-With"]="XMLHttpRequest");for(r in l)void 0!==l[r]&&o.setRequestHeader(r,l[r]+"");o.send(e.hasContent&&e.data||null),n=function(t,l){var r,a,u;if(n&&(l||4===o.readyState))if(delete un[s],n=void 0,o.onreadystatechange=ft.noop,l)4!==o.readyState&&o.abort();else{u={},r=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{a=o.statusText}catch(c){a=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=u.text?200:404}u&&i(r,a,u,o.getAllResponseHeaders())},e.async?4===o.readyState?t.setTimeout(n):o.onreadystatechange=un[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=lt.head||ft("head")[0]||lt.documentElement;return{send:function(l,i){e=lt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||i(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var dn=[],hn=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=dn.pop()||ft.expando+"_"+ze++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,n,l){var i,r,o,s=e.jsonp!==!1&&(hn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&hn.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(hn,"$1"+i):e.jsonp!==!1&&(e.url+=(He.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||ft.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=t[i],t[i]=function(){o=arguments},l.always(function(){void 0===r?ft(t).removeProp(i):t[i]=r,e[i]&&(e.jsonpCallback=n.jsonpCallback,dn.push(i)),o&&ft.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),ft.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||lt;var l=_t.exec(t),i=!n&&[];return l?[e.createElement(l[1])]:(l=v([t],e,i),i&&i.length&&ft(i).remove(),ft.merge([],l.childNodes))};var fn=ft.fn.load;ft.fn.load=function(t,e,n){if("string"!=typeof t&&fn)return fn.apply(this,arguments);var l,i,r,o=this,s=t.indexOf(" ");return s>-1&&(l=ft.trim(t.slice(s,t.length)),t=t.slice(0,s)),ft.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),o.length>0&&ft.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){r=arguments,o.html(l?ft("<div>").append(ft.parseHTML(t)).find(l):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,n){var l,i,r,o,s,a,u,c=ft.css(t,"position"),d=ft(t),h={};"static"===c&&(t.style.position="relative"),s=d.offset(),r=ft.css(t,"top"),a=ft.css(t,"left"),u=("absolute"===c||"fixed"===c)&&ft.inArray("auto",[r,a])>-1,u?(l=d.position(),o=l.top,i=l.left):(o=parseFloat(r)||0,i=parseFloat(a)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},s))),null!=e.top&&(h.top=e.top-s.top+o),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):d.css(h)}},ft.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,n,l={top:0,left:0},i=this[0],r=i&&i.ownerDocument;if(r)return e=r.documentElement,ft.contains(e,i)?("undefined"!=typeof i.getBoundingClientRect&&(l=i.getBoundingClientRect()),n=et(r),{top:l.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:l.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):l},position:function(){if(this[0]){var t,e,n={top:0,left:0},l=this[0];return"fixed"===ft.css(l,"position")?e=l.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n.top+=ft.css(t[0],"borderTopWidth",!0),n.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ft.css(l,"marginTop",!0),left:e.left-n.left-ft.css(l,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||fe})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ft.fn[t]=function(l){return Bt(this,function(t,l,i){var r=et(t);return void 0===i?r?e in r?r[e]:r.document.documentElement[l]:t[l]:void(r?r.scrollTo(n?ft(r).scrollLeft():i,n?i:ft(r).scrollTop()):t[l]=i)},t,l,arguments.length,null)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=E(dt.pixelPosition,function(t,n){return n?(n=ge(t,e),de.test(n)?ft(t).position()[e]+"px":n):void 0})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,l){ft.fn[l]=function(l,i){var r=arguments.length&&(n||"boolean"!=typeof l),o=n||(l===!0||i===!0?"margin":"border");return Bt(this,function(e,n,l){var i;return ft.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===l?ft.css(e,n,o):ft.style(e,n,l,o)},e,r?l:void 0,r,null)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,l){return this.on(e,t,n,l)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var pn=t.jQuery,gn=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=gn),e&&t.jQuery===ft&&(t.jQuery=pn),ft},e||(t.jQuery=t.$=ft),ft}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,l=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",
disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,l){var i=t.Event(n);return e.trigger(i,l),i.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(l){var i,r,o,s,a,u;if(n.fire(l,"ajax:before")){if(s=l.data("with-credentials")||null,a=l.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,l.is("form")){i=l.data("ujs:submit-button-formmethod")||l.attr("method"),r=l.data("ujs:submit-button-formaction")||l.attr("action"),o=t(l[0]).serializeArray();var c=l.data("ujs:submit-button");c&&(o.push(c),l.data("ujs:submit-button",null)),l.data("ujs:submit-button-formmethod",null),l.data("ujs:submit-button-formaction",null)}else l.is(n.inputChangeSelector)?(i=l.data("method"),r=l.data("url"),o=l.serialize(),l.data("params")&&(o=o+"&"+l.data("params"))):l.is(n.buttonClickSelector)?(i=l.data("method")||"get",r=l.data("url"),o=l.serialize(),l.data("params")&&(o=o+"&"+l.data("params"))):(i=l.data("method"),r=n.href(l),o=l.data("params")||null);return u={type:i||"GET",data:o,dataType:a,beforeSend:function(t,i){return i.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(l,"ajax:beforeSend",[t,i])?void l.trigger("ajax:send",t):!1},success:function(t,e,n){l.trigger("ajax:success",[t,e,n])},complete:function(t,e){l.trigger("ajax:complete",[t,e])},error:function(t,e,n){l.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(r)},s&&(u.xhrFields={withCredentials:s}),r&&(u.url=r),n.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(l){return!0}},handleMethod:function(l){var i=n.href(l),r=l.data("method"),o=l.attr("target"),s=n.csrfToken(),a=n.csrfParam(),u=t('<form method="post" action="'+i+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';a===e||s===e||n.isCrossDomain(i)||(c+='<input name="'+a+'" value="'+s+'" type="hidden" />'),o&&u.attr("target",o),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,l;n=t.is("button")?"html":"val",l=t.data("disable-with"),l!==e&&(t.data("ujs:enable-with",t[n]()),t[n](l)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,l=t.data("confirm"),i=!1;if(!l)return!0;if(n.fire(t,"confirm")){try{i=n.confirm(l)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=n.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(e,n,l){var i,r,o,s,a=t(),u=n||"input,textarea",c=e.find(u),d={};return c.each(function(){i=t(this),i.is("input[type=radio]")?(s=i.attr("name"),d[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(o=e.find('input[type=radio][name="'+s+'"]'),a=a.add(o)),d[s]=s)):(r=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val(),r===l&&(a=a.add(i)))}),a.length?a:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var l=t.data("disable-with");l!==e&&(t.data("ujs:enable-with",t.html()),t.html(l)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(l,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,l){t.crossDomain||n.CSRFProtection(l)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),l.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),l.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),l.on("click.rails",n.linkClickSelector,function(e){var l=t(this),i=l.data("method"),r=l.data("params"),o=e.metaKey||e.ctrlKey;if(!n.allowAction(l))return n.stopEverything(e);if(!o&&l.is(n.linkDisableSelector)&&n.disableElement(l),n.isRemote(l)){if(o&&(!i||"GET"===i)&&!r)return!0;var s=n.handleRemote(l);return s===!1?n.enableElement(l):s.fail(function(){n.enableElement(l)}),!1}return i?(n.handleMethod(l),!1):void 0}),l.on("click.rails",n.buttonClickSelector,function(e){var l=t(this);if(!n.allowAction(l)||!n.isRemote(l))return n.stopEverything(e);l.is(n.buttonDisableSelector)&&n.disableFormElement(l);var i=n.handleRemote(l);return i===!1?n.enableFormElement(l):i.fail(function(){n.enableFormElement(l)}),!1}),l.on("change.rails",n.inputChangeSelector,function(e){var l=t(this);return n.allowAction(l)&&n.isRemote(l)?(n.handleRemote(l),!1):n.stopEverything(e)}),l.on("submit.rails",n.formSubmitSelector,function(l){var i,r,o=t(this),s=n.isRemote(o);if(!n.allowAction(o))return n.stopEverything(l);if(o.attr("novalidate")===e)if(o.data("ujs:formnovalidate-button")===e){if(i=n.blankInputs(o,n.requiredInputSelector,!1),i&&n.fire(o,"ajax:aborted:required",[i]))return n.stopEverything(l)}else o.data("ujs:formnovalidate-button",e);if(s){if(r=n.nonBlankInputs(o,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(o)},13);var a=n.fire(o,"ajax:aborted:file",[r]);return a||setTimeout(function(){n.enableFormElements(o)},13),a}return n.handleRemote(o),!1}setTimeout(function(){n.disableFormElements(o)},13)}),l.on("click.rails",n.formInputClickSelector,function(e){var l=t(this);if(!n.allowAction(l))return n.stopEverything(e);var i=l.attr("name"),r=i?{name:i,value:l.val()}:null,o=l.closest("form");0===o.length&&(o=t("#"+l.attr("form"))),o.data("ujs:submit-button",r),o.data("ujs:formnovalidate-button",l.attr("formnovalidate")),o.data("ujs:submit-button-formaction",l.attr("formaction")),o.data("ujs:submit-button-formmethod",l.attr("formmethod"))}),l.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),l.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(t,e){function n(e,n){var i,r,o,s=e.nodeName.toLowerCase();return"area"===s?(i=e.parentNode,r=i.name,e.href&&r&&"map"===i.nodeName.toLowerCase()?(o=t("img[usemap=#"+r+"]")[0],!!o&&l(o)):!1):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||n:n)&&l(e)}function l(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var i=0,r=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,l){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),l&&l.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var l,i,r=t(this[0]);r.length&&r[0]!==document;){if(l=r.css("position"),("absolute"===l||"relative"===l||"fixed"===l)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,l){return!!t.data(e,l[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var l=t.attr(e,"tabindex"),i=isNaN(l);return(i||l>=0)&&n(e,!i)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,l){function i(e,n,l,i){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,l&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),i&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===l?["Left","Right"]:["Top","Bottom"],o=l.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+l]=function(n){return n===e?s["inner"+l].call(this):this.each(function(){t(this).css(o,i(this,n)+"px")})},t.fn["outer"+l]=function(e,n){return"number"!=typeof e?s["outer"+l].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,l){var i,r=t.ui[e].prototype;for(i in l)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([n,l[i]])},call:function(t,e,n){var l,i=t.plugins[e];if(i&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(l=0;i.length>l;l++)t.options[i[l][0]]&&i[l][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var l=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return e[l]>0?!0:(e[l]=1,i=e[l]>0,e[l]=0,i)}})}(jQuery),function(t,e){var n=0,l=Array.prototype.slice,i=t.cleanData;t.cleanData=function(e){for(var n,l=0;null!=(n=e[l]);l++)try{t(n).triggerHandler("remove")}catch(r){}i(e)},t.widget=function(n,l,i){var r,o,s,a,u={},c=n.split(".")[0];n=n.split(".")[1],r=c+"-"+n,i||(i=l,l=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},o=t[c][n],s=t[c][n]=function(t,n){return this._createWidget?(arguments.length&&this._createWidget(t,n),e):new s(t,n)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new l,a.options=t.widget.extend({},a.options),t.each(i,function(n,i){return t.isFunction(i)?(u[n]=function(){var t=function(){return l.prototype[n].apply(this,arguments)},e=function(t){return l.prototype[n].apply(this,t)};return function(){var n,l=this._super,r=this._superApply;return this._super=t,this._superApply=e,n=i.apply(this,arguments),this._super=l,this._superApply=r,n}}(),e):(u[n]=i,e)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:n},u,{constructor:s,namespace:c,widgetName:n,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var l=n.prototype;t.widget(l.namespace+"."+l.widgetName,s,n._proto)}),delete o._childConstructors):l._childConstructors.push(s),t.widget.bridge(n,s)},t.widget.extend=function(n){for(var i,r,o=l.call(arguments,1),s=0,a=o.length;a>s;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&r!==e&&(n[i]=t.isPlainObject(r)?t.isPlainObject(n[i])?t.widget.extend({},n[i],r):t.widget.extend({},r):r);return n},t.widget.bridge=function(n,i){var r=i.prototype.widgetFullName||n;t.fn[n]=function(o){var s="string"==typeof o,a=l.call(arguments,1),u=this;return o=!s&&a.length?t.widget.extend.apply(null,[o].concat(a)):o,s?this.each(function(){var l,i=t.data(this,r);return i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(l=i[o].apply(i,a),l!==i&&l!==e?(u=l&&l.jquery?u.pushStack(l.get()):l,!1):e):t.error("no such method '"+o+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,r);e?e.option(o||{})._init():t.data(this,r,new i(o,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,l){l=t(l||this.defaultElement||this)[0],this.element=t(l),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),l!==this&&(t.data(l,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===l&&this.destroy()}}),this.document=t(l.style?l.ownerDocument:l.document||l),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,l){var i,r,o,s=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(s={},i=n.split("."),n=i.shift(),i.length){for(r=s[n]=t.widget.extend({},this.options[n]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(n=i.pop(),l===e)return r[n]===e?null:r[n];r[n]=l}else{if(l===e)return this.options[n]===e?null:this.options[n];s[n]=l}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,l,i){var r,o=this;"boolean"!=typeof n&&(i=l,l=n,n=!1),i?(l=r=t(l),this.bindings=this.bindings.add(l)):(i=l,l=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return n||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):e}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var u=i.match(/^(\w+)\s*(.*)$/),c=u[1]+o.eventNamespace,d=u[2];d?r.delegate(d,c,a):l.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?l[t]:t).apply(l,arguments)}var l=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,l){var i,r,o=this.options[e];if(l=l||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(i in r)i in n||(n[i]=r[i]);return this.element.trigger(n,l),!(t.isFunction(o)&&o.apply(this.element[0],[n].concat(l))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(l,i,r){"string"==typeof i&&(i={effect:i});var o,s=i?i===!0||"number"==typeof i?n:i.effect||n:e;i=i||{},"number"==typeof i&&(i={duration:i}),o=!t.isEmptyObject(i),i.complete=r,i.delay&&l.delay(i.delay),o&&t.effects&&t.effects.effect[s]?l[e](i):s!==e&&l[s]?l[s](i.duration,i.easing,r):l.queue(function(n){t(this)[e](),r&&r.call(l[0]),n()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var l=this,i=1===n.which,r="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return i&&!r&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){l.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return l._mouseMove(t)},this._mouseUpDelegate=function(t){return l._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var n=this.options;return this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!n){var l=this._uiHash();if(this._trigger("drag",e,l)===!1)return this._mouseUp({}),!1;this.position=l.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n,l=this,i=!1,r=!1;for(t.ui.ddmanager&&!this.options.dropBehaviour&&(r=t.ui.ddmanager.drop(this,e)),this.dropped&&(r=this.dropped,this.dropped=!1),n=this.element[0];n&&(n=n.parentNode);)n===document&&(i=!0);return i||"original"!==this.options.helper?("invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){l._trigger("stop",e)!==!1&&l._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var n=this.options,l=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return l.parents("body").length||l.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),l[0]===this.element[0]||/(fixed|absolute)/.test(l.css("position"))||l.css("position","absolute"),l},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,l,i=this.options;if("parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=["document"===i.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===i.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===i.containment?0:t(window).scrollLeft())+t("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===i.containment?0:t(window).scrollTop())+(t("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||i.containment.constructor===Array)i.containment.constructor===Array&&(this.containment=i.containment);else{if(n=t(i.containment),l=n[0],!l)return;e="hidden"!==t(l).css("overflow"),this.containment=[(parseInt(t(l).css("borderLeftWidth"),10)||0)+(parseInt(t(l).css("paddingLeft"),10)||0),(parseInt(t(l).css("borderTopWidth"),10)||0)+(parseInt(t(l).css("paddingTop"),10)||0),(e?Math.max(l.scrollWidth,l.offsetWidth):l.offsetWidth)-(parseInt(t(l).css("borderRightWidth"),10)||0)-(parseInt(t(l).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(l.scrollHeight,l.offsetHeight):l.offsetHeight)-(parseInt(t(l).css("borderBottomWidth"),10)||0)-(parseInt(t(l).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(e,n){n||(n=this.position);var l="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*l+this.offset.parent.top*l-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*l,left:n.left+this.offset.relative.left*l+this.offset.parent.left*l-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*l}},_generatePosition:function(e){var n,l,i,r,o=this.options,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName),u=e.pageX,c=e.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(l=this.relative_container.offset(),n=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,r=o.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,u=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-o.grid[0]:r+o.grid[0]:r)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,n,l){return l=l||this._uiHash(),t.ui.plugin.call(this,e,[n,l]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,l)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n){var l=t(this).data("ui-draggable"),i=l.options,r=t.extend({},n,{item:l.element});l.sortables=[],t(i.connectToSortable).each(function(){var n=t.data(this,"ui-sortable");n&&!n.options.disabled&&(l.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n){var l=t(this).data("ui-draggable"),i=t.extend({},n,{item:l.element});t.each(l.sortables,function(){this.instance.isOver?(this.instance.isOver=0,l.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===l.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,i))})},drag:function(e,n){var l=t(this).data("ui-draggable"),i=this;t.each(l.sortables,function(){var r=!1,o=this;this.instance.positionAbs=l.positionAbs,this.instance.helperProportions=l.helperProportions,this.instance.offset.click=l.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,t.each(l.sortables,function(){
return this.instance.positionAbs=l.positionAbs,this.instance.helperProportions=l.helperProportions,this.instance.offset.click=l.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(r=!1),r})),r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=l.offset.click.top,this.instance.offset.click.left=l.offset.click.left,this.instance.offset.parent.left-=l.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=l.offset.parent.top-this.instance.offset.parent.top,l._trigger("toSortable",e),l.dropped=this.instance.element,l.currentItem=l.element,this.instance.fromOutside=l),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),l._trigger("fromSortable",e),l.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),n=t(this).data("ui-draggable").options;e.css("cursor")&&(n._cursor=e.css("cursor")),e.css("cursor",n.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n){var l=t(n.helper),i=t(this).data("ui-draggable").options;l.css("opacity")&&(i._opacity=l.css("opacity")),l.css("opacity",i.opacity)},stop:function(e,n){var l=t(this).data("ui-draggable").options;l._opacity&&t(n.helper).css("opacity",l._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var n=t(this).data("ui-draggable"),l=n.options,i=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(l.axis&&"x"===l.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-e.pageY<l.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+l.scrollSpeed:e.pageY-n.overflowOffset.top<l.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-l.scrollSpeed)),l.axis&&"y"===l.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-e.pageX<l.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+l.scrollSpeed:e.pageX-n.overflowOffset.left<l.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-l.scrollSpeed))):(l.axis&&"x"===l.axis||(e.pageY-t(document).scrollTop()<l.scrollSensitivity?i=t(document).scrollTop(t(document).scrollTop()-l.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<l.scrollSensitivity&&(i=t(document).scrollTop(t(document).scrollTop()+l.scrollSpeed))),l.axis&&"y"===l.axis||(e.pageX-t(document).scrollLeft()<l.scrollSensitivity?i=t(document).scrollLeft(t(document).scrollLeft()-l.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<l.scrollSensitivity&&(i=t(document).scrollLeft(t(document).scrollLeft()+l.scrollSpeed)))),i!==!1&&t.ui.ddmanager&&!l.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),n=e.options;e.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=t(this),l=n.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:l.top,left:l.left})})},drag:function(e,n){var l,i,r,o,s,a,u,c,d,h,f=t(this).data("ui-draggable"),p=f.options,g=p.snapTolerance,m=n.offset.left,v=m+f.helperProportions.width,y=n.offset.top,b=y+f.helperProportions.height;for(d=f.snapElements.length-1;d>=0;d--)s=f.snapElements[d].left,a=s+f.snapElements[d].width,u=f.snapElements[d].top,c=u+f.snapElements[d].height,m>s-g&&a+g>m&&y>u-g&&c+g>y||m>s-g&&a+g>m&&b>u-g&&c+g>b||v>s-g&&a+g>v&&y>u-g&&c+g>y||v>s-g&&a+g>v&&b>u-g&&c+g>b?("inner"!==p.snapMode&&(l=g>=Math.abs(u-b),i=g>=Math.abs(c-y),r=g>=Math.abs(s-v),o=g>=Math.abs(a-m),l&&(n.position.top=f._convertPositionTo("relative",{top:u-f.helperProportions.height,left:0}).top-f.margins.top),i&&(n.position.top=f._convertPositionTo("relative",{top:c,left:0}).top-f.margins.top),r&&(n.position.left=f._convertPositionTo("relative",{top:0,left:s-f.helperProportions.width}).left-f.margins.left),o&&(n.position.left=f._convertPositionTo("relative",{top:0,left:a}).left-f.margins.left)),h=l||i||r||o,"outer"!==p.snapMode&&(l=g>=Math.abs(u-y),i=g>=Math.abs(c-b),r=g>=Math.abs(s-m),o=g>=Math.abs(a-v),l&&(n.position.top=f._convertPositionTo("relative",{top:u,left:0}).top-f.margins.top),i&&(n.position.top=f._convertPositionTo("relative",{top:c-f.helperProportions.height,left:0}).top-f.margins.top),r&&(n.position.left=f._convertPositionTo("relative",{top:0,left:s}).left-f.margins.left),o&&(n.position.left=f._convertPositionTo("relative",{top:0,left:a-f.helperProportions.width}).left-f.margins.left)),!f.snapElements[d].snapping&&(l||i||r||o||h)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,e,t.extend(f._uiHash(),{snapItem:f.snapElements[d].item})),f.snapElements[d].snapping=l||i||r||o||h):(f.snapElements[d].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,e,t.extend(f._uiHash(),{snapItem:f.snapElements[d].item})),f.snapElements[d].snapping=!1)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,n=this.data("ui-draggable").options,l=t.makeArray(t(n.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});l.length&&(e=parseInt(t(l[0]).css("zIndex"),10)||0,t(l).each(function(n){t(this).css("zIndex",e+n)}),this.css("zIndex",e+l.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n){var l=t(n.helper),i=t(this).data("ui-draggable").options;l.css("zIndex")&&(i._zIndex=l.css("zIndex")),l.css("zIndex",i.zIndex)},stop:function(e,n){var l=t(this).data("ui-draggable").options;l._zIndex&&t(n.helper).css("zIndex",l._zIndex)}})}(jQuery),function(t){function e(t,e,n){return t>e&&e+n>t}t.widget("ui.droppable",{version:"1.10.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,n=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,n=t.ui.ddmanager.droppables[this.options.scope];n.length>e;e++)n[e]===this&&n.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){"accept"===e&&(this.accept=t.isFunction(n)?n:function(t){return t.is(n)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var l=n||t.ui.ddmanager.current,i=!1;return l&&(l.currentItem||l.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===l.options.scope&&e.accept.call(e.element[0],l.currentItem||l.element)&&t.ui.intersect(l,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(i=!0,!1):void 0}),i?!1:this.accept.call(this.element[0],l.currentItem||l.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(l)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,n,l){if(!n.offset)return!1;var i,r,o=(t.positionAbs||t.position.absolute).left,s=o+t.helperProportions.width,a=(t.positionAbs||t.position.absolute).top,u=a+t.helperProportions.height,c=n.offset.left,d=c+n.proportions.width,h=n.offset.top,f=h+n.proportions.height;switch(l){case"fit":return o>=c&&d>=s&&a>=h&&f>=u;case"intersect":return o+t.helperProportions.width/2>c&&d>s-t.helperProportions.width/2&&a+t.helperProportions.height/2>h&&f>u-t.helperProportions.height/2;case"pointer":return i=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,r=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(r,h,n.proportions.height)&&e(i,c,n.proportions.width);case"touch":return(a>=h&&f>=a||u>=h&&f>=u||h>a&&u>f)&&(o>=c&&d>=o||s>=c&&d>=s||c>o&&s>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var l,i,r=t.ui.ddmanager.droppables[e.options.scope]||[],o=n?n.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(l=0;r.length>l;l++)if(!(r[l].options.disabled||e&&!r[l].accept.call(r[l].element[0],e.currentItem||e.element))){for(i=0;s.length>i;i++)if(s[i]===r[l].element[0]){r[l].proportions.height=0;continue t}r[l].visible="none"!==r[l].element.css("display"),r[l].visible&&("mousedown"===o&&r[l]._activate.call(r[l],n),r[l].offset=r[l].element.offset(),r[l].proportions={width:r[l].element[0].offsetWidth,height:r[l].element[0].offsetHeight})}},drop:function(e,n){var l=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(l=this._drop.call(this,n)||l),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),l},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var l,i,r,o=t.ui.intersect(e,this,this.options.tolerance),s=!o&&this.isover?"isout":o&&!this.isover?"isover":null;s&&(this.options.greedy&&(i=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===i}),r.length&&(l=t.data(r[0],"ui-droppable"),l.greedyChild="isover"===s)),l&&"isover"===s&&(l.isover=!1,l.isout=!0,l._out.call(l,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),l&&"isout"===s&&(l.isout=!1,l.isover=!0,l._over.call(l,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function n(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,n,l,i,r,o=this,s=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;e.length>n;n++)l=t.trim(e[n]),r="ui-resizable-"+l,i=t("<div class='ui-resizable-handle "+r+"'></div>"),i.css({zIndex:s.zIndex}),"se"===l&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[l]=".ui-resizable-"+l,this.element.append(i);this._renderAxis=function(e){var n,l,i,r;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=t(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(l=t(this.handles[n],this.element),r=/sw|ne|nw|se|n|s/.test(n)?l.outerHeight():l.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(i,r),this._proportionallyResize()),t(this.handles[n]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),s.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){s.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,l,i=!1;for(n in this.handles)l=t(this.handles[n])[0],(l===e.target||t.contains(l,e.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(n){var l,i,r,o=this.options,s=this.element.position(),a=this.element;return this.resizing=!0,/absolute/.test(a.css("position"))?a.css({position:"absolute",top:a.css("top"),left:a.css("left")}):a.is(".ui-draggable")&&a.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),l=e(this.helper.css("left")),i=e(this.helper.css("top")),o.containment&&(l+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:l,top:i},this.size=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:l,top:i},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),a.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(e){var n,l=this.helper,i={},r=this.originalMousePosition,o=this.axis,s=this.position.top,a=this.position.left,u=this.size.width,c=this.size.height,d=e.pageX-r.left||0,h=e.pageY-r.top||0,f=this._change[o];return f?(n=f.apply(this,[e,d,h]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),this.position.top!==s&&(i.top=this.position.top+"px"),this.position.left!==a&&(i.left=this.position.left+"px"),this.size.width!==u&&(i.width=this.size.width+"px"),this.size.height!==c&&(i.height=this.size.height+"px"),l.css(i),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var n,l,i,r,o,s,a,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,l=n.length&&/textarea/i.test(n[0].nodeName),i=l&&t.ui.hasScroll(n[0],"left")?0:c.sizeDiff.height,r=l?0:c.sizeDiff.width,o={width:c.helper.width()-r,height:c.helper.height()-i},s=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,a=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(o,{top:a,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,l,i,r,o,s=this.options;o={minWidth:n(s.minWidth)?s.minWidth:0,maxWidth:n(s.maxWidth)?s.maxWidth:1/0,minHeight:n(s.minHeight)?s.minHeight:0,maxHeight:n(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,l=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>l&&(o.maxWidth=l),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),n(t.left)&&(this.position.left=t.left),n(t.top)&&(this.position.top=t.top),n(t.height)&&(this.size.height=t.height),n(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,l=this.size,i=this.axis;return n(t.height)?t.width=t.height*this.aspectRatio:n(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(l.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(l.height-t.height),t.left=e.left+(l.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,l=this.axis,i=n(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=n(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=n(t.width)&&e.minWidth&&e.minWidth>t.width,s=n(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(l),d=/nw|ne|n/.test(l);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),s&&d&&(t.top=u-e.minHeight),r&&d&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,n,l,i,r=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(i=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],n=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],l=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")],e=0;n.length>e;e++)this.borderDif[e]=(parseInt(n[e],10)||0)+(parseInt(l[e],10)||0);i.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,l=this.originalPosition;return{left:l.left+e,width:n.width-e}},n:function(t,e,n){var l=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:l.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,l){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,l]))},sw:function(e,n,l){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,l]))},ne:function(e,n,l){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,l]))},nw:function(e,n,l){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,l]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).data("ui-resizable"),l=n.options,i=n._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),o=r&&t.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,s=r?0:n.sizeDiff.width,a={width:n.size.width-s,height:n.size.height-o},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(a,c&&u?{top:c,left:u}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var l={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&t(i[0]).css({width:l.width,height:l.height}),n._updateCache(l),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var n,l,i,r,o,s,a,u=t(this).data("ui-resizable"),c=u.options,d=u.element,h=c.containment,f=h instanceof t?h.get(0):/parent/.test(h)?d.parent().get(0):h;f&&(u.containerElement=t(f),/document/.test(h)||h===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(n=t(f),l=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){l[t]=e(n.css("padding"+i))}),u.containerOffset=n.offset(),u.containerPosition=n.position(),u.containerSize={height:n.innerHeight()-l[3],width:n.innerWidth()-l[1]},i=u.containerOffset,r=u.containerSize.height,o=u.containerSize.width,s=t.ui.hasScroll(f,"left")?f.scrollWidth:o,a=t.ui.hasScroll(f)?f.scrollHeight:r,u.parentData={element:f,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,l,i,r,o=t(this).data("ui-resizable"),s=o.options,a=o.containerOffset,u=o.position,c=o._aspectRatio||e.shiftKey,d={top:0,left:0},h=o.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(d=a),u.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-d.left),c&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=s.helper?a.left:0),u.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?a.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,n=Math.abs((o._helper?o.offset.left-d.left:o.offset.left-d.left)+o.sizeDiff.width),l=Math.abs((o._helper?o.offset.top-d.top:o.offset.top-a.top)+o.sizeDiff.height),i=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),i&&r&&(n-=o.parentData.left),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,c&&(o.size.height=o.size.width/o.aspectRatio)),l+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-l,c&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),n=e.options,l=e.containerOffset,i=e.containerPosition,r=e.containerElement,o=t(e.helper),s=o.offset(),a=o.outerWidth()-e.sizeDiff.width,u=o.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(r.css("position"))&&t(this).css({left:s.left-i.left-l.left,width:a,height:u}),e._helper&&!n.animate&&/static/.test(r.css("position"))&&t(this).css({left:s.left-i.left-l.left,width:a,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),n=e.options,l=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?l(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],l(n.alsoResize)):t.each(n.alsoResize,function(t){l(t)})},resize:function(e,n){var l=t(this).data("ui-resizable"),i=l.options,r=l.originalSize,o=l.originalPosition,s={height:l.size.height-r.height||0,width:l.size.width-r.width||0,top:l.position.top-o.top||0,left:l.position.left-o.left||0},a=function(e,l){t(e).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=l&&l.length?l:e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?a(i.alsoResize):t.each(i.alsoResize,function(t,e){a(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),n=e.options,l=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:l.height,width:l.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),n=e.options,l=e.size,i=e.originalSize,r=e.originalPosition,o=e.axis,s="number"==typeof n.grid?[n.grid,n.grid]:n.grid,a=s[0]||1,u=s[1]||1,c=Math.round((l.width-i.width)/a)*a,d=Math.round((l.height-i.height)/u)*u,h=i.width+c,f=i.height+d,p=n.maxWidth&&h>n.maxWidth,g=n.maxHeight&&f>n.maxHeight,m=n.minWidth&&n.minWidth>h,v=n.minHeight&&n.minHeight>f;n.grid=s,m&&(h+=a),v&&(f+=u),p&&(h-=a),g&&(f-=u),/^(se|s|e)$/.test(o)?(e.size.width=h,e.size.height=f):/^(ne)$/.test(o)?(e.size.width=h,e.size.height=f,e.position.top=r.top-d):/^(sw)$/.test(o)?(e.size.width=h,e.size.height=f,e.position.left=r.left-c):(e.size.width=h,e.size.height=f,e.position.top=r.top-d,e.position.left=r.left-c)}})}(jQuery),function(t){function e(t,e,n){return t>e&&e+n>t}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,n){var l=null,i=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")===r?(l=t(this),!1):void 0}),t.data(e.target,r.widgetName+"-item")===r&&(l=t(e.target)),l&&(!this.options.handle||n||(t(this.options.handle,l).find("*").addBack().each(function(){this===e.target&&(i=!0)}),i))?(this.currentItem=l,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,l){var i,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),
this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!l)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,l,i,r,o=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-t(document).scrollTop()<o.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<o.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+o.scrollSpeed)),e.pageX-t(document).scrollLeft()<o.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<o.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+o.scrollSpeed))),s!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(l=this.items[n],i=l.item[0],r=this._intersectsWithPointer(l),r&&l.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==i&&!t.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],i):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(l))break;this._rearrange(e,l),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var l=this,i=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){l._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),l=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&l.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!l.length&&e.key&&l.push(e.key+"="),l.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),l=[];return e=e||{},n.each(function(){l.push(t(e.item||this).attr(e.attribute||"id")||"")}),l},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,l=this.positionAbs.top,i=l+this.helperProportions.height,r=t.left,o=r+t.width,s=t.top,a=s+t.height,u=this.offset.click.top,c=this.offset.click.left,d=l+u>s&&a>l+u&&e+c>r&&o>e+c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:e+this.helperProportions.width/2>r&&o>n-this.helperProportions.width/2&&l+this.helperProportions.height/2>s&&a>i-this.helperProportions.height/2},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),l="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&l,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(t){var n=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),l=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&l||"left"===r&&!l:i&&("down"===i&&n||"up"===i&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,l,i,r,o=[],s=[],a=this._connectWith();if(a&&e)for(n=a.length-1;n>=0;n--)for(i=t(a[n]),l=i.length-1;l>=0;l--)r=t.data(i[l],this.widgetFullName),r&&r!==this&&!r.options.disabled&&s.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(s.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(function(){o.push(this)});return t(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,l,i,r,o,s,a,u,c=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=t(h[n]),l=i.length-1;l>=0;l--)r=t.data(i[l],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(d.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(n=d.length-1;n>=0;n--)for(o=d[n][1],s=d[n][0],l=0,u=s.length;u>l;l++)a=t(s[l]),a.data(this.widgetName+"-item",o),c.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,l,i,r;for(n=this.items.length-1;n>=0;n--)l=this.items[n],l.instance!==this.currentContainer&&this.currentContainer&&l.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?t(this.options.toleranceElement,l.item):l.item,e||(l.width=i.outerWidth(),l.height=i.outerHeight()),r=i.offset(),l.left=r.left,l.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,l=e.options;l.placeholder&&l.placeholder.constructor!==String||(n=l.placeholder,l.placeholder={element:function(){var l=e.currentItem[0].nodeName.toLowerCase(),i=t(e.document[0].createElement(l)).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===l?i.append("<td colspan='99'>&#160;</td>"):"img"===l&&i.attr("src",e.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(t,i){(!n||l.forcePlaceholderSize)&&(i.height()||i.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(l.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),l.placeholder.update(e,e.placeholder)},_contactContainers:function(l){var i,r,o,s,a,u,c,d,h,f,p=null,g=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(p&&t.contains(this.containers[i].element[0],p.element[0]))continue;p=this.containers[i],g=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",l,this._uiHash(this)),this.containers[i].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",l,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(o=1e4,s=null,f=p.floating||n(this.currentItem),a=f?"left":"top",u=f?"width":"height",c=this.positionAbs[a]+this.offset.click[a],r=this.items.length-1;r>=0;r--)t.contains(this.containers[g].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(!f||e(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height))&&(d=this.items[r].item.offset()[a],h=!1,Math.abs(d-c)>Math.abs(d+this.items[r][u]-c)&&(h=!0,d+=this.items[r][u]),o>Math.abs(d-c)&&(o=Math.abs(d-c),s=this.items[r],this.direction=h?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;s?this._rearrange(l,s,null,!0):this._rearrange(l,null,this.containers[g].element,!0),this._trigger("change",l,this._uiHash()),this.containers[g]._trigger("change",l,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",l,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var n=this.options,l=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return l.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(l[0]),l[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!l[0].style.width||n.forceHelperSize)&&l.width(this.currentItem.width()),(!l[0].style.height||n.forceHelperSize)&&l.height(this.currentItem.height()),l},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,l,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(e=t(i.containment)[0],n=t(i.containment).offset(),l="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(l?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(l?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var l="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*l+this.offset.parent.top*l-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*l,left:n.left+this.offset.relative.left*l+this.offset.parent.left*l-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*l}},_generatePosition:function(e){var n,l,i=this.options,r=e.pageX,o=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,l=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=this.containment?l-this.offset.click.left>=this.containment[0]&&l-this.offset.click.left<=this.containment[2]?l:l-this.offset.click.left>=this.containment[0]?l-i.grid[0]:l+i.grid[0]:l)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_rearrange:function(t,e,n,l){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!l)})},_clear:function(t,e){this.reverting=!1;var n,l=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&l.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||l.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(l.push(function(t){this._trigger("remove",t,this._uiHash())}),l.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),l.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||l.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(l.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;l.length>n;n++)l[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;l.length>n;n++)l[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var n="ui-effects-";t.effects={effect:{}},function(t,e){function n(t,e,n){var l=d[e.type]||{};return null==t?n||!e.def?null:e.def:(t=l.floor?~~t:parseFloat(t),isNaN(t)?e.def:l.mod?(t+l.mod)%l.mod:0>t?0:t>l.max?l.max:t)}function l(n){var l=u(),i=l._rgba=[];return n=n.toLowerCase(),p(a,function(t,r){var o,s=r.re.exec(n),a=s&&r.parse(s),u=r.space||"rgba";return a?(o=l[u](a),l[c[u].cache]=o[c[u].cache],i=l._rgba=o._rgba,!1):e}),i.length?("0,0,0,0"===i.join()&&t.extend(i,r.transparent),l):r[n]}function i(t,e,n){return n=(n+1)%1,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var r,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,n,l,i){return new t.Color.fn.parse(e,n,l,i)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=u.support={},f=t("<p>")[0],p=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(i,o,s,a){if(i===e)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=t(i).css(o),o=e);var d=this,h=t.type(i),f=this._rgba=[];return o!==e&&(i=[i,o,s,a],h="array"),"string"===h?this.parse(l(i)||r._default):"array"===h?(p(c.rgba.props,function(t,e){f[e.idx]=n(i[e.idx],e)}),this):"object"===h?(i instanceof u?p(c,function(t,e){i[e.cache]&&(d[e.cache]=i[e.cache].slice())}):p(c,function(e,l){var r=l.cache;p(l.props,function(t,e){if(!d[r]&&l.to){if("alpha"===t||null==i[t])return;d[r]=l.to(d._rgba)}d[r][e.idx]=n(i[t],e,!0)}),d[r]&&0>t.inArray(null,d[r].slice(0,3))&&(d[r][3]=1,l.from&&(d._rgba=l.from(d[r])))}),this):e},is:function(t){var n=u(t),l=!0,i=this;return p(c,function(t,r){var o,s=n[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],p(r.props,function(t,n){return null!=s[n.idx]?l=s[n.idx]===o[n.idx]:e})),l}),l},_space:function(){var t=[],e=this;return p(c,function(n,l){e[l.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var l=u(t),i=l._space(),r=c[i],o=0===this.alpha()?u("transparent"):this,s=o[r.cache]||r.to(o._rgba),a=s.slice();return l=l[r.cache],p(r.props,function(t,i){var r=i.idx,o=s[r],u=l[r],c=d[i.type]||{};null!==u&&(null===o?a[r]=u:(c.mod&&(u-o>c.mod/2?o+=c.mod:o-u>c.mod/2&&(o-=c.mod)),a[r]=n((u-o)*e+o,i)))}),this[i](a)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),l=n.pop(),i=u(e)._rgba;return u(t.map(n,function(t,e){return(1-l)*i[e]+l*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),l=n.pop();return e&&n.push(~~(255*l)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,l=t[0]/255,i=t[1]/255,r=t[2]/255,o=t[3],s=Math.max(l,i,r),a=Math.min(l,i,r),u=s-a,c=s+a,d=.5*c;return e=a===s?0:l===s?60*(i-r)/u+360:i===s?60*(r-l)/u+120:60*(l-i)/u+240,n=0===u?0:.5>=d?u/c:u/(2-c),[Math.round(e)%360,n,d,null==o?1:o]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],l=t[2],r=t[3],o=.5>=l?l*(1+n):l+n-l*n,s=2*l-o;return[Math.round(255*i(s,o,e+1/3)),Math.round(255*i(s,o,e)),Math.round(255*i(s,o,e-1/3)),r]},p(c,function(l,i){var r=i.props,o=i.cache,a=i.to,c=i.from;u.fn[l]=function(l){if(a&&!this[o]&&(this[o]=a(this._rgba)),l===e)return this[o].slice();var i,s=t.type(l),d="array"===s||"object"===s?l:arguments,h=this[o].slice();return p(r,function(t,e){var l=d["object"===s?t:e.idx];null==l&&(l=h[e.idx]),h[e.idx]=n(l,e)}),c?(i=u(c(h)),i[o]=h,i):u(h)},p(r,function(e,n){u.fn[e]||(u.fn[e]=function(i){var r,o=t.type(i),a="alpha"===e?this._hsla?"hsla":"rgba":l,u=this[a](),c=u[n.idx];return"undefined"===o?c:("function"===o&&(i=i.call(this,c),o=t.type(i)),null==i&&n.empty?this:("string"===o&&(r=s.exec(i),r&&(i=c+parseFloat(r[2])*("+"===r[1]?1:-1))),u[n.idx]=i,this[a](u)))})})}),u.hook=function(e){var n=e.split(" ");p(n,function(e,n){t.cssHooks[n]={set:function(e,i){var r,o,s="";if("transparent"!==i&&("string"!==t.type(i)||(r=l(i)))){if(i=u(r||i),!h.rgba&&1!==i._rgba[3]){for(o="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&o&&o.style;)try{s=t.css(o,"backgroundColor"),o=o.parentNode}catch(a){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(a){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(n,l){e["border"+l+"Color"]=t}),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(e){var n,l,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(l=i.length;l--;)n=i[l],"string"==typeof i[n]&&(r[t.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(r[n]=i[n]);return r}function l(e,n){var l,i,o={};for(l in n)i=n[l],e[l]!==i&&(r[l]||(t.fx.step[l]||!isNaN(parseFloat(i)))&&(o[l]=i));return o}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,r,o,s){var a=t.speed(r,o,s);return this.queue(function(){var r,o=t(this),s=o.attr("class")||"",u=a.children?o.find("*").addBack():o;u=u.map(function(){var e=t(this);return{el:e,start:n(this)}}),r=function(){t.each(i,function(t,n){e[n]&&o[n+"Class"](e[n])})},r(),u=u.map(function(){return this.end=n(this.el[0]),this.diff=l(this.start,this.end),this}),o.attr("class",s),u=u.map(function(){var e=this,n=t.Deferred(),l=t.extend({},a,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,l),n.promise()}),t.when.apply(t,u.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),a.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(n,l,i,r){return l?t.effects.animateClass.call(this,{add:n},l,i,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,l,i,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},l,i,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(n){return function(l,i,r,o,s){return"boolean"==typeof i||i===e?r?t.effects.animateClass.call(this,i?{add:l}:{remove:l},r,o,s):n.apply(this,arguments):t.effects.animateClass.call(this,{toggle:l},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,l,i,r){return t.effects.animateClass.call(this,{add:n,remove:e},l,i,r)}})}(),function(){function l(e,n,l,i){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(i=n,l=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(i=l,l=n,n={}),t.isFunction(l)&&(i=l,l=null),n&&t.extend(e,n),l=l||n.duration,e.duration=t.fx.off?0:"number"==typeof l?l:l in t.fx.speeds?t.fx.speeds[l]:t.fx.speeds._default,e.complete=i||n.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"==typeof e&&!e.effect:!0}t.extend(t.effects,{version:"1.10.2",save:function(t,e){for(var l=0;e.length>l;l++)null!==e[l]&&t.data(n+e[l],t[0].style[e[l]])},restore:function(t,l){var i,r;for(r=0;l.length>r;r++)null!==l[r]&&(i=t.data(n+l[r]),i===e&&(i=""),t.css(l[r],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,l;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":l=0;break;case"center":l=.5;break;case"right":l=1;break;default:l=t[1]/e.width}return{x:l,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},l=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(o){r=document.body}return e.wrap(l),(e[0]===r||t.contains(e[0],r))&&t(r).focus(),l=e.parent(),"static"===e.css("position")?(l.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,l){n[l]=e.css(l),isNaN(parseInt(n[l],10))&&(n[l]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(i),l.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,l,i){return i=i||{},t.each(n,function(t,n){var r=e.cssUnit(n);r[0]>0&&(i[n]=r[0]*l+r[1])}),i}}),t.fn.extend({effect:function(){function e(e){function l(){t.isFunction(r)&&r.call(i[0]),t.isFunction(e)&&e()}var i=t(this),r=n.complete,s=n.mode;(i.is(":hidden")?"hide"===s:"show"===s)?(i[s](),l()):o.call(i[0],n,l)}var n=l.apply(this,arguments),i=n.mode,r=n.queue,o=t.effects.effect[n.effect];return t.fx.off||!o?i?this[i](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):r===!1?this.each(e):this.queue(r||"fx",e)},show:function(t){return function(e){if(i(e))return t.apply(this,arguments);var n=l.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(e){if(i(e))return t.apply(this,arguments);var n=l.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(e){if(i(e)||"boolean"==typeof e)return t.apply(this,arguments);var n=l.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),l=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(l=[parseFloat(n),e])}),l}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2);
}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}()}(jQuery),function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(t=i(String(t||"").toLowerCase()),!t||!t.length)return[];var e,n,l,o,a=[],u=t.split(/ +/);for(e=0,n=u.length;n>e;e++){if(l=r(u[e]),this.settings.diacritics)for(o in s)s.hasOwnProperty(o)&&(l=l.replace(new RegExp(o,"g"),s[o]));a.push({string:u[e],regex:new RegExp(l,"i")})}return a},t.prototype.iterator=function(t,e){var n;n=o(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;n>e;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,i,r,o,s;n=this,t=n.prepareSearch(t,e),r=t.tokens,i=t.options.fields,o=r.length,s=t.options.nesting;var a=function(t,e){var n,l;return t?(t=String(t||""),l=t.search(e.regex),-1===l?0:(n=e.string.length/t.length,0===l&&(n+=.5),n)):0},u=function(){var t=i.length;return t?1===t?function(t,e){return a(l(e,i[0],s),t)}:function(e,n){for(var r=0,o=0;t>r;r++)o+=a(l(n,i[r],s),e);return o/t}:function(){return 0}}();return o?1===o?function(t){return u(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,l=0;o>n;n++){if(e=u(r[n],t),0>=e)return 0;l+=e}return l/o}:function(t){for(var e=0,n=0;o>e;e++)n+=u(r[e],t);return n/o}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var i,r,o,s,a,u,c,d,h,f,p;if(o=this,t=o.prepareSearch(t,n),p=!t.query&&n.sort_empty||n.sort,h=function(t,e){return"$score"===t?e.score:l(o.items[e.id],t,n.nesting)},a=[],p)for(i=0,r=p.length;r>i;i++)(t.query||"$score"!==p[i].field)&&a.push(p[i]);if(t.query){for(f=!0,i=0,r=a.length;r>i;i++)if("$score"===a[i].field){f=!1;break}f&&a.unshift({field:"$score",direction:"desc"})}else for(i=0,r=a.length;r>i;i++)if("$score"===a[i].field){a.splice(i,1);break}for(d=[],i=0,r=a.length;r>i;i++)d.push("desc"===a[i].direction?-1:1);return u=a.length,u?1===u?(s=a[0].field,c=d[0],function(t,n){return c*e(h(s,t),h(s,n))}):function(t,n){var l,i,r;for(l=0;u>l;l++)if(r=a[l].field,i=d[l]*e(h(r,t),h(r,n)))return i;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var l=e.fields,i=e.sort,r=e.sort_empty;return l&&!o(l)&&(e.fields=[l]),i&&!o(i)&&(e.sort=[i]),r&&!o(r)&&(e.sort_empty=[r]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,l,i,r,o=this;return l=this.prepareSearch(t,e),e=l.options,t=l.query,r=e.score||o.getScoreFunction(l),t.length?o.iterator(o.items,function(t,i){n=r(t),(e.filter===!1||n>0)&&l.items.push({score:n,id:i})}):o.iterator(o.items,function(t,e){l.items.push({score:1,id:e})}),i=o.getSortFunction(l,e),i&&l.items.sort(i),l.total=l.items.length,"number"==typeof e.limit&&(l.items=l.items.slice(0,e.limit)),l};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:e>t?-1:0:(t=a(String(t||"")),e=a(String(e||"")),t>e?1:e>t?-1:0)},n=function(t){var e,n,l,i;for(e=1,n=arguments.length;n>e;e++)if(i=arguments[e])for(l in i)i.hasOwnProperty(l)&&(t[l]=i[l]);return t},l=function(t,e,n){if(t&&e){if(!n)return t[e];for(var l=e.split(".");l.length&&(t=t[l.shift()]););return t}},i=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},r=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s={a:"[a\u1e00\u1e01\u0102\u0103\xc2\xe2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\xc4\xe4\xc0\xe0\xc1\xe1\u0100\u0101\xc3\xe3\xc5\xe5\u0105\u0104\xc3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\xc7\xe7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\xf0]",e:"[e\xc9\xe9\xc8\xe8\xca\xea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\xcb\xeb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\xcd\xed\xcc\xec\u012c\u012d\xce\xee\u01cf\u01d0\xcf\xef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\xd1\xf1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\xd8\xf8\xd6\xf6\xd3\xf3\xd2\xf2\xd4\xf4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\xd5\xf5\u01ea\u01eb\u020c\u020d\u0555\u0585]",p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\xdc\xfc\xda\xfa\xd9\xf9\xdb\xfb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\xdd\xfd\u1ef2\u1ef3\u0176\u0177\u0178\xff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},a=function(){var t,e,n,l,i="",r={};for(n in s)if(s.hasOwnProperty(n))for(l=s[n].substring(2,s[n].length-1),i+=l,t=0,e=l.length;e>t;t++)r[l.charAt(t)]=n;var o=new RegExp("["+i+"]","g");return function(t){return t.replace(o,function(t){return r[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,l,i,r=this,o=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,l=t.length;l>n;n++)"string"==typeof t[n]?o.push(t[n]):(r.plugins.settings[t[n].name]=t[n].options,o.push(t[n].name));else if(t)for(i in t)t.hasOwnProperty(i)&&(r.plugins.settings[i]=t[i],o.push(i));for(;o.length;)r.require(o.shift())},t.prototype.loadPlugin=function(e){var n=this,l=n.plugins,i=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');l.requested[e]=!0,l.loaded[e]=i.fn.apply(n,[n.plugins.settings[e]||{}]),l.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var l=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,l=function(t){var e=0;if(3===t.nodeType){var i=t.data.search(n);if(i>=0&&t.data.length>0){var r=t.data.match(n),o=document.createElement("span");o.className="highlight";var s=t.splitText(i),a=(s.splitText(r[0].length),s.cloneNode(!0));o.appendChild(a),s.parentNode.replaceChild(o,s),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var u=0;u<t.childNodes.length;++u)u+=l(t.childNodes[u]);return e};return t.each(function(){l(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var i=function(){};i.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=i.prototype[e[n]]};var r=/Mac/.test(navigator.userAgent),o=65,s=13,a=27,u=37,c=38,d=80,h=39,f=40,p=78,g=8,m=46,v=16,y=r?91:17,b=r?18:17,w=9,x=1,_=2,C=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,k=function(t){return"undefined"!=typeof t},S=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},T=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},A={};A.before=function(t,e,n){var l=t[e];t[e]=function(){return n.apply(t,arguments),l.apply(t,arguments)}},A.after=function(t,e,n){var l=t[e];t[e]=function(){var e=l.apply(t,arguments);return n.apply(t,arguments),e}};var D=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},M=function(t,e){var n;return function(){var l=this,i=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(l,i)},e)}},j=function(t,e,n){var l,i=t.trigger,r={};t.trigger=function(){var n=arguments[0];return-1===e.indexOf(n)?i.apply(t,arguments):void(r[n]=arguments)},n.apply(t,[]),t.trigger=i;for(l in r)r.hasOwnProperty(l)&&i.apply(t,r[l])},E=function(t,e,n,l){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,l.apply(this,[e])})},O=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),l=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-l,e.length=l}return e},I=function(t,e,n){var l,i,r={};if(n)for(l=0,i=n.length;i>l;l++)r[n[l]]=t.css(n[l]);else r=t.css();e.css(r)},$=function(e,n){if(!e)return 0;var l=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");I(n,l,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=l.width();return l.remove(),i},F=function(t){var e=null,n=function(n,l){var i,r,o,s,a,u,c,d;n=n||window.event||{},l=l||{},n.metaKey||n.altKey||(l.force||t.data("grow")!==!1)&&(i=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,o=r>=97&&122>=r||r>=65&&90>=r||r>=48&&57>=r||32===r,r===m||r===g?(d=O(t[0]),d.length?i=i.substring(0,d.start)+i.substring(d.start+d.length):r===g&&d.start?i=i.substring(0,d.start-1)+i.substring(d.start+1):r===m&&"undefined"!=typeof d.start&&(i=i.substring(0,d.start)+i.substring(d.start+1))):o&&(u=n.shiftKey,c=String.fromCharCode(n.keyCode),c=u?c.toUpperCase():c.toLowerCase(),i+=c)),s=t.attr("placeholder"),!i&&s&&(i=s),a=$(i,t)+4,a!==e&&(e=a,t.width(a),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},P=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},N=function(t,e){e||(e={});var n="Selectize";console.error(n+": "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())},L=function(n,l){var i,r,o,s,a=this;s=n[0],s.selectize=a;var u=window.getComputedStyle&&window.getComputedStyle(s,null);if(o=u?u.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,o=o||n.parents("[dir]:first").attr("dir")||"",t.extend(a,{order:0,settings:l,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?x:_,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++L.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===l.loadThrottle?a.onSearchChange:M(a.onSearchChange,l.loadThrottle)}),a.sifter=new e(this.options,{diacritics:l.diacritics}),a.settings.options){for(i=0,r=a.settings.options.length;r>i;i++)a.registerOption(a.settings.options[i]);delete a.settings.options}if(a.settings.optgroups){for(i=0,r=a.settings.optgroups.length;r>i;i++)a.registerOptionGroup(a.settings.optgroups[i]);delete a.settings.optgroups}a.settings.mode=a.settings.mode||(1===a.settings.maxItems?"single":"multi"),"boolean"!=typeof a.settings.hideSelected&&(a.settings.hideSelected="multi"===a.settings.mode),a.initializePlugins(a.settings.plugins),a.setupCallbacks(),a.setupTemplates(),a.setup()};return i.mixin(L),"undefined"!=typeof n?n.mixin(L):N("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(L.prototype,{setup:function(){var e,n,l,i,o,s,a,u,c,d,h=this,f=h.settings,p=h.eventNS,g=t(window),m=t(document),w=h.$input;if(a=h.settings.mode,u=w.attr("class")||"",e=t("<div>").addClass(f.wrapperClass).addClass(u).addClass(a),n=t("<div>").addClass(f.inputClass).addClass("items").appendTo(e),l=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",w.is(":disabled")?"-1":h.tabIndex),s=t(f.dropdownParent||e),i=t("<div>").addClass(f.dropdownClass).addClass(a).hide().appendTo(s),o=t("<div>").addClass(f.dropdownContentClass).appendTo(i),(d=w.attr("id"))&&(l.attr("id",d+"-selectized"),t("label[for='"+d+"']").attr("for",d+"-selectized")),h.settings.copyClassesToDropdown&&i.addClass(u),e.css({width:w[0].style.width}),h.plugins.names.length&&(c="plugin-"+h.plugins.names.join(" plugin-"),e.addClass(c),i.addClass(c)),(null===f.maxItems||f.maxItems>1)&&h.tagType===x&&w.attr("multiple","multiple"),h.settings.placeholder&&l.attr("placeholder",f.placeholder),!h.settings.splitOn&&h.settings.delimiter){var _=h.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");h.settings.splitOn=new RegExp("\\s*"+_+"+\\s*")}w.attr("autocorrect")&&l.attr("autocorrect",w.attr("autocorrect")),w.attr("autocapitalize")&&l.attr("autocapitalize",w.attr("autocapitalize")),h.$wrapper=e,h.$control=n,h.$control_input=l,h.$dropdown=i,h.$dropdown_content=o,i.on("mouseenter","[data-selectable]",function(){return h.onOptionHover.apply(h,arguments)}),i.on("mousedown click","[data-selectable]",function(){return h.onOptionSelect.apply(h,arguments)}),E(n,"mousedown","*:not(input)",function(){return h.onItemSelect.apply(h,arguments)}),F(l),n.on({mousedown:function(){return h.onMouseDown.apply(h,arguments)},click:function(){return h.onClick.apply(h,arguments)}}),l.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return h.onKeyDown.apply(h,arguments)},keyup:function(){return h.onKeyUp.apply(h,arguments)},keypress:function(){return h.onKeyPress.apply(h,arguments)},resize:function(){h.positionDropdown.apply(h,[])},blur:function(){return h.onBlur.apply(h,arguments)},focus:function(){return h.ignoreBlur=!1,h.onFocus.apply(h,arguments)},paste:function(){return h.onPaste.apply(h,arguments)}}),m.on("keydown"+p,function(t){h.isCmdDown=t[r?"metaKey":"ctrlKey"],h.isCtrlDown=t[r?"altKey":"ctrlKey"],h.isShiftDown=t.shiftKey}),m.on("keyup"+p,function(t){t.keyCode===b&&(h.isCtrlDown=!1),t.keyCode===v&&(h.isShiftDown=!1),t.keyCode===y&&(h.isCmdDown=!1)}),m.on("mousedown"+p,function(t){if(h.isFocused){if(t.target===h.$dropdown[0]||t.target.parentNode===h.$dropdown[0])return!1;h.$control.has(t.target).length||t.target===h.$control[0]||h.blur(t.target)}}),g.on(["scroll"+p,"resize"+p].join(" "),function(){h.isOpen&&h.positionDropdown.apply(h,arguments)}),g.on("mousemove"+p,function(){h.ignoreHover=!1}),this.revertSettings={$children:w.children().detach(),tabindex:w.attr("tabindex")},w.attr("tabindex",-1).hide().after(h.$wrapper),t.isArray(f.items)&&(h.setValue(f.items),delete f.items),C&&w.on("invalid"+p,function(t){t.preventDefault(),h.isInvalid=!0,h.refreshState()}),h.updateOriginalInput(),h.refreshItems(),h.refreshState(),h.updatePlaceholder(),h.isSetup=!0,w.is(":disabled")&&h.disable(),h.on("change",this.onChange),w.data("selectize",h),w.addClass("selectized"),h.trigger("initialize"),f.preload===!0&&h.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,l=e.settings.optgroupLabelField,i={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[l])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},i,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]],e&&this.on(t,e))},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,l=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():l||n.setActiveItem(null),!1}else l||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;return n.isFull()||n.isInputHidden||n.isLocked?void e.preventDefault():void(n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var l=t.trim(e).split(n.settings.splitOn),i=0,r=l.length;r>i;i++)n.createItem(l[i])},0))},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target===this.$control_input[0],this);if(e.isLocked)return void(t.keyCode!==w&&t.preventDefault());switch(t.keyCode){case o:if(e.isCmdDown)return void e.selectAll();break;case a:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case p:if(!t.ctrlKey||t.altKey)break;case f:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case d:if(!t.ctrlKey||t.altKey)break;case c:if(e.$activeOption){e.ignoreHover=!0;var l=e.getAdjacentOption(e.$activeOption,-1);l.length&&e.setActiveOption(l,!0,!0)}return void t.preventDefault();case s:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case u:return void e.advanceSelection(-1,t);case h:return void e.advanceSelection(1,t);case w:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case g:case m:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(r?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(l){n.apply(e,[t,l])})))},onFocus:function(t){var e=this,n=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var l=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,l):l()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,l,i=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),l=t(e.currentTarget),l.hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):(n=l.attr("data-value"),"undefined"!=typeof n&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(n))))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input,n=e.val()!==t;n&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===x&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){var n=e?[]:["change"];j(this,n,function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var l,i,r,o,s,a,u,c,d=this;if("single"!==d.settings.mode){if(e=t(e),!e.length)return t(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if(l=n&&n.type.toLowerCase(),"mousedown"===l&&d.isShiftDown&&d.$activeItems.length){for(c=d.$control.children(".active:last"),o=Array.prototype.indexOf.apply(d.$control[0].childNodes,[c[0]]),s=Array.prototype.indexOf.apply(d.$control[0].childNodes,[e[0]]),o>s&&(u=o,o=s,s=u),i=o;s>=i;i++)a=d.$control[0].childNodes[i],-1===d.$activeItems.indexOf(a)&&(t(a).addClass("active"),d.$activeItems.push(a));n.preventDefault()}else"mousedown"===l&&d.isCtrlDown||"keydown"===l&&this.isShiftDown?e.hasClass("active")?(r=d.$activeItems.indexOf(e[0]),d.$activeItems.splice(r,1),e.removeClass("active")):d.$activeItems.push(e.addClass("active")[0]):(t(d.$activeItems).removeClass("active"),d.$activeItems=[e.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(e,n,l){var i,r,o,s,a,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,e=t(e),e.length&&(u.$activeOption=e.addClass("active"),!n&&k(n)||(i=u.$dropdown_content.height(),r=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,o=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,s=o,a=o-i+r,o+r>i+n?u.$dropdown_content.stop().animate({scrollTop:a},l?u.settings.scrollDuration:0):n>o&&u.$dropdown_content.stop().animate({scrollTop:s},l?u.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,l,i,r=this,o=r.settings,s=this.getSearchOptions();if(o.score&&(i=r.settings.score.apply(this,[e]),"function"!=typeof i))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,l=r.sifter.search(e,t.extend(s,{score:i})),r.currentResults=l):l=t.extend(!0,{},r.currentResults),o.hideSelected)for(n=l.items.length-1;n>=0;n--)-1!==r.items.indexOf(S(l.items[n].id))&&l.items.splice(n,1);return l},refreshOptions:function(e){var n,i,r,o,s,a,u,c,d,h,f,p,g,m,v,y;"undefined"==typeof e&&(e=!0);var b=this,w=t.trim(b.$control_input.val()),x=b.search(w),_=b.$dropdown_content,C=b.$activeOption&&S(b.$activeOption.attr("data-value"));for(o=x.items.length,"number"==typeof b.settings.maxOptions&&(o=Math.min(o,b.settings.maxOptions)),s={},a=[],n=0;o>n;n++)for(u=b.options[x.items[n].id],c=b.render("option",u),d=u[b.settings.optgroupField]||"",h=t.isArray(d)?d:[d],i=0,r=h&&h.length;r>i;i++)d=h[i],b.optgroups.hasOwnProperty(d)||(d=""),s.hasOwnProperty(d)||(s[d]=document.createDocumentFragment(),a.push(d)),s[d].appendChild(c);for(this.settings.lockOptgroupOrder&&a.sort(function(t,e){var n=b.optgroups[t].$order||0,l=b.optgroups[e].$order||0;return n-l}),f=document.createDocumentFragment(),n=0,o=a.length;o>n;n++)d=a[n],b.optgroups.hasOwnProperty(d)&&s[d].childNodes.length?(p=document.createDocumentFragment(),p.appendChild(b.render("optgroup_header",b.optgroups[d])),p.appendChild(s[d]),f.appendChild(b.render("optgroup",t.extend({},b.optgroups[d],{html:P(p),dom:p})))):f.appendChild(s[d]);if(_.html(f),b.settings.highlight&&x.query.length&&x.tokens.length)for(_.removeHighlight(),n=0,o=x.tokens.length;o>n;n++)l(_,x.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,o=b.items.length;o>n;n++)b.getOption(b.items[n]).addClass("selected");g=b.canCreate(w),g&&(_.prepend(b.render("option_create",{input:w})),y=t(_[0].childNodes[0])),b.hasOptions=x.items.length>0||g,b.hasOptions?(x.items.length>0?(v=C&&b.getOption(C),v&&v.length?m=v:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):_.find("[data-selectable]:first"))):m=y,b.setActiveOption(m),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var n,l,i,r=this;if(t.isArray(e))for(n=0,l=e.length;l>n;n++)r.addOption(e[n]);else(i=r.registerOption(e))&&(r.userOptions[i]=!0,r.lastQuery=null,r.trigger("option_add",i,e))},registerOption:function(t){var e=S(t[this.settings.valueField]);return"undefined"==typeof e||null===e||this.options.hasOwnProperty(e)?!1:(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=S(t[this.settings.optgroupValueField]);return e?(t.$order=t.$order||++this.order,this.optgroups[e]=t,e):!1},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var l,i,r,o,s,a,u,c=this;if(e=S(e),r=S(n[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");u=c.options[e].$order,r!==e&&(delete c.options[e],o=c.items.indexOf(e),-1!==o&&c.items.splice(o,1,r)),n.$order=n.$order||u,c.options[r]=n,s=c.renderCache.item,a=c.renderCache.option,s&&(delete s[e],delete s[r]),a&&(delete a[e],delete a[r]),-1!==c.items.indexOf(r)&&(l=c.getItem(e),i=t(c.render("item",n)),l.hasClass("active")&&i.addClass("active"),l.replaceWith(i)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=S(t);var l=n.renderCache.item,i=n.renderCache.option;l&&delete l[t],i&&delete i[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var l=this.$dropdown.find("[data-selectable]"),i=l.index(e)+n;return i>=0&&i<l.length?l.eq(i):t()},getElementWithValue:function(e,n){if(e=S(e),"undefined"!=typeof e&&null!==e)for(var l=0,i=n.length;i>l;l++)if(n[l].getAttribute("data-value")===e)return t(n[l]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var l=t.isArray(e)?e:[e],i=0,r=l.length;r>i;i++)this.isPending=r-1>i,this.addItem(l[i],n)},addItem:function(e,n){var l=n?[]:["change"];j(this,l,function(){var l,i,r,o,s,a=this,u=a.settings.mode;return e=S(e),-1!==a.items.indexOf(e)?void("single"===u&&a.close()):void(a.options.hasOwnProperty(e)&&("single"===u&&a.clear(n),"multi"===u&&a.isFull()||(l=t(a.render("item",a.options[e])),s=a.isFull(),a.items.splice(a.caretPos,0,e),a.insertAtCaret(l),(!a.isPending||!s&&a.isFull())&&a.refreshState(),a.isSetup&&(r=a.$dropdown_content.find("[data-selectable]"),a.isPending||(i=a.getOption(e),o=a.getAdjacentOption(i,1).attr("data-value"),a.refreshOptions(a.isFocused&&"single"!==u),o&&a.setActiveOption(a.getOption(o))),!r.length||a.isFull()?a.close():a.positionDropdown(),a.updatePlaceholder(),a.trigger("item_add",e,l),a.updateOriginalInput({silent:n})))))})},removeItem:function(e,n){var l,i,r,o=this;l=e instanceof t?e:o.getItem(e),e=S(l.attr("data-value")),i=o.items.indexOf(e),-1!==i&&(l.remove(),l.hasClass("active")&&(r=o.$activeItems.indexOf(l[0]),o.$activeItems.splice(r,1)),o.items.splice(i,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(e)&&o.removeOption(e,n),i<o.caretPos&&o.setCaret(o.caretPos-1),
o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:n}),o.positionDropdown(),o.trigger("item_remove",e,l))},createItem:function(e,n){var l=this,i=l.caretPos;e=e||t.trim(l.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!l.canCreate(e))return r(),!1;l.lock();var o="function"==typeof l.settings.create?this.settings.create:function(t){var e={};return e[l.settings.labelField]=t,e[l.settings.valueField]=t,e},s=D(function(t){if(l.unlock(),!t||"object"!=typeof t)return r();var e=S(t[l.settings.valueField]);return"string"!=typeof e?r():(l.setTextboxValue(""),l.addOption(t),l.setCaret(i),l.addItem(e),l.refreshOptions(n&&"single"!==l.settings.mode),void r(t))}),a=o.apply(this,[e,s]);return"undefined"!=typeof a&&s(a),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,n=e.isFull(),l=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",l).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!l)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,l,i,r=this;if(t=t||{},r.tagType===x){for(l=[],e=0,n=r.items.length;n>e;e++)i=r.options[r.items[e]][r.settings.labelField]||"",l.push('<option value="'+T(r.items[e])+'" selected="selected">'+T(i)+"</option>");l.length||this.$input.attr("multiple")||l.push('<option value="" selected="selected"></option>'),r.$input.html(l.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(t.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,l,i,r,o,s,a,u,c,d=this;if(i=e&&e.keyCode===g?-1:1,r=O(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(a=d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),o=[],d.$activeItems.length){for(c=d.$control.children(".active:"+(i>0?"last":"first")),s=d.$control.children(":not(input)").index(c),i>0&&s++,n=0,l=d.$activeItems.length;l>n;n++)o.push(t(d.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(0>i&&0===r.start&&0===r.length?o.push(d.items[d.caretPos-1]):i>0&&r.start===d.$control_input.val().length&&o.push(d.items[d.caretPos]));if(!o.length||"function"==typeof d.settings.onDelete&&d.settings.onDelete.apply(d,[o])===!1)return!1;for("undefined"!=typeof s&&d.setCaret(s);o.length;)d.removeItem(o.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),a&&(u=d.getOption(a),u.length&&d.setActiveOption(u)),!0},advanceSelection:function(t,e){var n,l,i,r,o,s,a=this;0!==t&&(a.rtl&&(t*=-1),n=t>0?"last":"first",l=O(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(r=a.$control_input.val().length,o=0>t?0===l.start&&0===l.length:l.start===r,o&&!r&&a.advanceCaret(t,e)):(s=a.$control.children(".active:"+n),s.length&&(i=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(t>0?i+1:i))))},advanceCaret:function(t,e){var n,l,i=this;0!==t&&(n=t>0?"next":"prev",i.isShiftDown?(l=i.$control_input[n](),l.length&&(i.hideInput(),i.setActiveItem(l),e&&e.preventDefault())):i.setCaret(i.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var l,i,r,o;for(r=n.$control.children(":not(input)"),l=0,i=r.length;i>l;l++)o=t(r[l]).detach(),e>l?n.$control_input.before(o):n.$control.append(o)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,l=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(l.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:l.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(e,n){var l,i,r="",o=!1,s=this;return"option"!==e&&"item"!==e||(l=S(n[s.settings.valueField]),o=!!l),o&&(k(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(l))?s.renderCache[e][l]:(r=t(s.settings.render[e].apply(this,[n,T])),"option"===e||"option_create"===e?r.attr("data-selectable",""):"optgroup"===e&&(i=n[s.settings.optgroupValueField]||"",r.attr("data-group",i)),"option"!==e&&"item"!==e||r.attr("data-value",l||""),o&&(s.renderCache[e][l]=r[0]),r[0])},clearCache:function(t){var e=this;"undefined"==typeof t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),L.count=0,L.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,l=t.extend({},n,e),i=l.dataAttr,r=l.labelField,o=l.valueField,s=l.optgroupField,a=l.optgroupLabelField,u=l.optgroupValueField,c=function(e,n){var s,a,u,c,d=e.attr(i);if(d)for(n.options=JSON.parse(d),s=0,a=n.options.length;a>s;s++)n.items.push(n.options[s][o]);else{var h=t.trim(e.val()||"");if(!l.allowEmptyOption&&!h.length)return;for(u=h.split(l.delimiter),s=0,a=u.length;a>s;s++)c={},c[r]=u[s],c[o]=u[s],n.options.push(c);n.items=u}},d=function(e,n){var c,d,h,f,p=n.options,g={},m=function(t){var e=i&&t.attr(i);return"string"==typeof e&&e.length?JSON.parse(e):null},v=function(e,i){e=t(e);var a=S(e.val());if(a||l.allowEmptyOption)if(g.hasOwnProperty(a)){if(i){var u=g[a][s];u?t.isArray(u)?u.push(i):g[a][s]=[u,i]:g[a][s]=i}}else{var c=m(e)||{};c[r]=c[r]||e.text(),c[o]=c[o]||a,c[s]=c[s]||i,g[a]=c,p.push(c),e.is(":selected")&&n.items.push(a)}},y=function(e){var l,i,r,o,s;for(e=t(e),r=e.attr("label"),r&&(o=m(e)||{},o[a]=r,o[u]=r,n.optgroups.push(o)),s=t("option",e),l=0,i=s.length;i>l;l++)v(s[l],r)};for(n.maxItems=e.attr("multiple")?null:1,f=e.children(),c=0,d=f.length;d>c;c++)h=f[c].tagName.toLowerCase(),"optgroup"===h?y(f[c]):"option"===h&&v(f[c])};return this.each(function(){if(!this.selectize){var i,r=t(this),o=this.tagName.toLowerCase(),s=r.attr("placeholder")||r.attr("data-placeholder");s||l.allowEmptyOption||(s=r.children('option[value=""]').text());var a={placeholder:s,options:[],optgroups:[],items:[]};"select"===o?d(r,a):c(r,a),i=new L(r,t.extend(!0,{},n,a,e))}})},t.fn.selectize.defaults=L.defaults,t.fn.selectize.support={validity:C},L.define("drag_drop",function(){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var e=this;e.lock=function(){var t=e.lock;return function(){var n=e.$control.data("sortable");return n&&n.disable(),t.apply(e,arguments)}}(),e.unlock=function(){var t=e.unlock;return function(){var n=e.$control.data("sortable");return n&&n.enable(),t.apply(e,arguments)}}(),e.setup=function(){var n=e.setup;return function(){n.apply(this,arguments);var l=e.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:e.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),l.css({overflow:"visible"})},stop:function(){l.css({overflow:"hidden"});var n=e.$activeItems?e.$activeItems.slice():null,i=[];l.children("[data-value]").each(function(){i.push(t(this).attr("data-value"))}),e.setValue(i),e.setActiveItem(n)}})}}()}}),L.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var l=n.setup;return function(){l.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),L.define("optgroup_columns",function(e){var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var l=e.closest("[data-group]").find("[data-selectable]"),i=l.index(e)+n;return i>=0&&i<l.length?l.eq(i):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var l,i,r,o;return!this.isOpen||e.keyCode!==u&&e.keyCode!==h?t.apply(this,arguments):(n.ignoreHover=!0,o=this.$activeOption.closest("[data-group]"),l=o.find("[data-selectable]").index(this.$activeOption),o=e.keyCode===u?o.prev("[data-group]"):o.next("[data-group]"),r=o.find("[data-selectable]"),i=r.eq(Math.min(r.length-1,l)),void(i.length&&this.setActiveOption(i)))}}();var l=function(){var t,e=l.width,n=document;return"undefined"==typeof e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=l.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},i=function(){var i,r,o,s,a,u,c;if(c=t("[data-group]",n.$dropdown_content),r=c.length,r&&n.$dropdown_content.width()){if(e.equalizeHeight){for(o=0,i=0;r>i;i++)o=Math.max(o,c.eq(i).height());c.css({height:o})}e.equalizeWidth&&(u=n.$dropdown_content.innerWidth()-l(),s=Math.round(u/r),c.css({width:s}),r>1&&(a=u-s*(r-1),c.eq(r-1).css({width:a})))}};(e.equalizeHeight||e.equalizeWidth)&&(A.after(this,"positionDropdown",i),A.after(this,"refreshOptions",i))}),L.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=function(e,n){n.className="remove-single";var l=e,i='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+T(n.title)+'">'+n.label+"</a>",r=function(t,e){return t+e};e.setup=function(){var o=l.setup;return function(){if(n.append){var s=t(l.$input.context).attr("id"),a=(t("#"+s),l.settings.render.item);l.settings.render.item=function(){return r(a.apply(e,arguments),i)}}o.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),l.isLocked||l.clear()})}}()},l=function(e,n){var l=e,i='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+T(n.title)+'">'+n.label+"</a>",r=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};e.setup=function(){var o=l.setup;return function(){if(n.append){var s=l.settings.render.item;l.settings.render.item=function(){return r(s.apply(e,arguments),i)}}o.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!l.isLocked){var n=t(e.currentTarget).parent();l.setActiveItem(n),l.deleteSelection()&&l.setCaret(l.items.length)}})}}()};return"single"===this.settings.mode?void n(this,e):void l(this,e)}),L.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var l,i;return e.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(l=this.caretPos-1,l>=0&&l<this.items.length)?(i=this.options[this.items[l]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[i])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),L}),Selectize.define("disable_options",function(t){var e=this;t=$.extend({disableOptions:[]},t),e.onFocus=function(){var n=e.onFocus;return function(){n.apply(this,arguments),$.each(t.disableOptions,function(t,n){e.$dropdown_content.find('[data-value="'+String(n)+'"]').addClass("option-disabled")})}}(),e.onOptionSelect=function(){var t=e.onOptionSelect;return function(n){var l,i;return n.preventDefault&&(n.preventDefault(),n.stopPropagation()),i=$(n.currentTarget),i.hasClass("option-disabled")?void 0:(i.hasClass("create")?e.createItem():(l=i.attr("data-value"),l&&(e.lastQuery=null,e.setTextboxValue(""),e.addItem(l),!e.settings.hideSelected&&n.type&&/mouse/.test(n.type)&&e.setActiveOption(e.getOption(l))),e.blur()),t.apply(this,arguments))}}()}),!function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}var n=function(e,n){var r=this;this.element=t(e),this.container=n.container||"body",this.language=n.language||this.element.data("date-language")||"en",this.language=this.language in l?this.language:"en",this.isRTL=l[this.language].rtl||!1,this.formatType=n.formatType||this.element.data("format-type")||"standard",this.format=i.parseFormat(n.format||this.element.data("date-format")||l[this.language].format||i.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.fontAwesome=n.fontAwesome||this.element.data("font-awesome")||!1,this.bootcssVer=n.bootcssVer||(this.isInput?this.element.is(".form-control")?3:2:this.bootcssVer=this.element.is(".input-group")?3:2),this.component=this.element.is(".date")?3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar .fa-calendar .fa-clock-o").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar .fa-calendar .fa-clock-o").parent():!1,this.componentReset=this.element.is(".date")?3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-remove .fa-times").parent():this.element.find(".add-on .icon-remove .fa-times").parent():!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=n.linkField||this.element.data("link-field")||!1,this.linkFormat=i.parseFormat(n.linkFormat||this.element.data("link-format")||i.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=n.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=n.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=n.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=n.initialDate||new Date,this.icons={leftArrow:this.fontAwesome?"fa fa-arrow-left":3===this.bootcssVer?"glyphicon-arrow-left":"icon-arrow-left",rightArrow:this.fontAwesome?"fa fa-arrow-right":3===this.bootcssVer?"glyphicon-arrow-right":"icon-arrow-right"},this.icontype=this.fontAwesome?"fa":"glyphicon",this._attachEvents(),this.formatViewType="datetime","formatViewType"in n?this.formatViewType=n.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in n?this.minView=n.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=i.convertViewMode(this.minView),this.maxView=i.modes.length-1,"maxView"in n?this.maxView=n.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=i.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in n?this.wheelViewModeNavigation=n.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in n?this.wheelViewModeNavigationInverseDirection=n.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in n?this.wheelViewModeNavigationDelay=n.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in n?this.startViewMode=n.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=i.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in n?this.viewSelect=n.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=i.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in n?this.forceParse=n.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse"));for(var o=3===this.bootcssVer?i.templateV3:i.template;-1!==o.indexOf("{iconType}");)o=o.replace("{iconType}",this.icontype);for(;-1!==o.indexOf("{leftArrow}");)o=o.replace("{leftArrow}",this.icons.leftArrow);for(;-1!==o.indexOf("{rightArrow}");)o=o.replace("{rightArrow}",this.icons.rightArrow);if(this.picker=t(o).appendTo(this.isInline?this.element:this.container).on({click:t.proxy(this.click,this),mousedown:t.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(t.fn.mousewheel?this.picker.on({mousewheel:t.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL){this.picker.addClass("datetimepicker-rtl");var s=3===this.bootcssVer?".prev span, .next span":".prev i, .next i";this.picker.find(s).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}t(document).on("mousedown",function(e){0===t(e.target).closest(".datetimepicker").length&&r.hide()}),this.autoclose=!1,"autoclose"in n?this.autoclose=n.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in n?this.keyboardNavigation=n.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=n.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=n.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(n.weekStart||this.element.data("date-weekstart")||l[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-(1/0),this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(n.startDate||this.element.data("date-startdate")),this.setEndDate(n.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(n.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.setMinutesDisabled(n.minutesDisabled||this.element.data("date-minute-disabled")),this.setHoursDisabled(n.hoursDisabled||this.element.data("date-hour-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};n.prototype={constructor:n,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:t.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]];for(var e,n,l=0;l<this._events.length;l++)e=this._events[l][0],n=this._events[l][1],e.on(n)},_detachEvents:function(){for(var t,e,n=0;n<this._events.length;n++)t=this._events[n][0],e=this._events[n][1],t.off(e);this._events=[]},show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){t>=this.startDate&&t<=this.endDate?(this.date=t,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:t,startDate:this.startDate,endDate:this.endDate})},setFormat:function(t){this.format=i.parseFormat(t,this.formatType);var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val()&&this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):(this.component&&this.element.find("input").val(e),this.element.data("date",e)),this.linkField&&t("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(t){return void 0==t&&(t=this.format),i.formatDate(this.date,t,this.language,this.formatType)},setStartDate:function(t){this.startDate=t||-(1/0),this.startDate!==-(1/0)&&(this.startDate=i.parseDate(this.startDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setEndDate:function(t){this.endDate=t||1/0,this.endDate!==1/0&&(this.endDate=i.parseDate(this.endDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this.daysOfWeekDisabled=e||[],t.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=t.map(this.daysOfWeekDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setMinutesDisabled:function(e){this.minutesDisabled=e||[],t.isArray(this.minutesDisabled)||(this.minutesDisabled=this.minutesDisabled.split(/,\s*/)),this.minutesDisabled=t.map(this.minutesDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setHoursDisabled:function(e){this.hoursDisabled=e||[],t.isArray(this.hoursDisabled)||(this.hoursDisabled=this.hoursDisabled.split(/,\s*/)),this.hoursDisabled=t.map(this.hoursDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=0;t("div").each(function(){var n=parseInt(t(this).css("zIndex"),10);n>e&&(e=n)});var n,l,i,r,o=e+10;r=this.container instanceof t?this.container.offset():t(this.container).offset(),this.component?(n=this.component.offset(),i=n.left,"bottom-left"!=this.pickerPosition&&"top-left"!=this.pickerPosition||(i+=this.component.outerWidth()-this.picker.outerWidth())):(n=this.element.offset(),i=n.left),i+220>document.body.clientWidth&&(i=document.body.clientWidth-220),l="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?n.top-this.picker.outerHeight():n.top+this.height,l-=r.top,i-=r.left,this.picker.css({top:l,left:i,zIndex:o})}},update:function(){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate,("string"==typeof t||t instanceof String)&&(t=t.replace(/^\s+|\s+$/g,""))),t||(t=new Date,e=!1),this.date=i.parseDate(t,this.format,this.language,this.formatType),e&&this.setValue(),this.date<this.startDate?this.viewDate=new Date(this.startDate):this.date>this.endDate?this.viewDate=new Date(this.endDate):this.viewDate=new Date(this.date),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow">'+l[this.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datetimepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+l[this.language].monthsShort[e++]+"</span>";this.picker.find(".datetimepicker-months td").html(t)},fill:function(){if(null!=this.date&&null!=this.viewDate){var n=new Date(this.viewDate),r=n.getUTCFullYear(),o=n.getUTCMonth(),s=n.getUTCDate(),a=n.getUTCHours(),u=n.getUTCMinutes(),c=this.startDate!==-(1/0)?this.startDate.getUTCFullYear():-(1/0),d=this.startDate!==-(1/0)?this.startDate.getUTCMonth()+1:-(1/0),h=this.endDate!==1/0?this.endDate.getUTCFullYear():1/0,f=this.endDate!==1/0?this.endDate.getUTCMonth()+1:1/0,p=new e(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),g=new Date;if(this.picker.find(".datetimepicker-days thead th:eq(1)").text(l[this.language].months[o]+" "+r),"time"==this.formatViewType){var m=a%12?a%12:12,v=(10>m?"0":"")+m,y=(10>u?"0":"")+u,b=l[this.language].meridiem[12>a?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(v+":"+y+" "+(b?b.toUpperCase():"")),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(v+":"+y+" "+(b?b.toUpperCase():""))}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(s+" "+l[this.language].months[o]+" "+r),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(s+" "+l[this.language].months[o]+" "+r);this.picker.find("tfoot th.today").text(l[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var w=e(r,o-1,28,0,0,0,0),x=i.getDaysInMonth(w.getUTCFullYear(),w.getUTCMonth());w.setUTCDate(x),w.setUTCDate(x-(w.getUTCDay()-this.weekStart+7)%7);var _=new Date(w);_.setUTCDate(_.getUTCDate()+42),_=_.valueOf();for(var C,k=[];w.valueOf()<_;)w.getUTCDay()==this.weekStart&&k.push("<tr>"),C="",w.getUTCFullYear()<r||w.getUTCFullYear()==r&&w.getUTCMonth()<o?C+=" old":(w.getUTCFullYear()>r||w.getUTCFullYear()==r&&w.getUTCMonth()>o)&&(C+=" new"),this.todayHighlight&&w.getUTCFullYear()==g.getFullYear()&&w.getUTCMonth()==g.getMonth()&&w.getUTCDate()==g.getDate()&&(C+=" today"),w.valueOf()==p&&(C+=" active"),(w.valueOf()+864e5<=this.startDate||w.valueOf()>this.endDate||-1!==t.inArray(w.getUTCDay(),this.daysOfWeekDisabled))&&(C+=" disabled"),k.push('<td class="day'+C+'">'+w.getUTCDate()+"</td>"),w.getUTCDay()==this.weekEnd&&k.push("</tr>"),w.setUTCDate(w.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(k.join("")),k=[];for(var S="",T="",A="",D=this.hoursDisabled||[],M=0;24>M;M++)if(-1===D.indexOf(M)){var j=e(r,o,s,M);C="",j.valueOf()+36e5<=this.startDate||j.valueOf()>this.endDate?C+=" disabled":a==M&&(C+=" active"),this.showMeridian&&2==l[this.language].meridiem.length?(T=12>M?l[this.language].meridiem[0]:l[this.language].meridiem[1],T!=A&&(""!=A&&k.push("</fieldset>"),k.push('<fieldset class="hour"><legend>'+T.toUpperCase()+"</legend>")),A=T,S=M%12?M%12:12,k.push('<span class="hour'+C+" hour_"+(12>M?"am":"pm")+'">'+S+"</span>"),23==M&&k.push("</fieldset>")):(S=M+":00",k.push('<span class="hour'+C+'">'+S+"</span>"))}this.picker.find(".datetimepicker-hours td").html(k.join("")),k=[],S="",T="",A="";for(var E=this.minutesDisabled||[],M=0;60>M;M+=this.minuteStep)if(-1===E.indexOf(M)){var j=e(r,o,s,a,M,0);C="",j.valueOf()<this.startDate||j.valueOf()>this.endDate?C+=" disabled":Math.floor(u/this.minuteStep)==Math.floor(M/this.minuteStep)&&(C+=" active"),this.showMeridian&&2==l[this.language].meridiem.length?(T=12>a?l[this.language].meridiem[0]:l[this.language].meridiem[1],T!=A&&(""!=A&&k.push("</fieldset>"),k.push('<fieldset class="minute"><legend>'+T.toUpperCase()+"</legend>")),A=T,S=a%12?a%12:12,k.push('<span class="minute'+C+'">'+S+":"+(10>M?"0"+M:M)+"</span>"),59==M&&k.push("</fieldset>")):(S=M+":00",k.push('<span class="minute'+C+'">'+a+":"+(10>M?"0"+M:M)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(k.join(""));var O=this.date.getUTCFullYear(),I=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");O==r&&I.eq(this.date.getUTCMonth()+2).addClass("active"),(c>r||r>h)&&I.addClass("disabled"),r==c&&I.slice(0,d+1).addClass("disabled"),r==h&&I.slice(f).addClass("disabled"),k="",r=10*parseInt(r/10,10);var $=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var M=-1;11>M;M++)k+='<span class="year'+(-1==M||10==M?" old":"")+(O==r?" active":"")+(c>r||r>h?" disabled":"")+'">'+r+"</span>",r+=1;$.html(k),this.place()}},updateNavArrows:function(){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth(),l=t.getUTCDate(),i=t.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-(1/0)&&e<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()&&l<=this.startDate.getUTCDate()&&i<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()&&l>=this.endDate.getUTCDate()&&i>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-(1/0)&&e<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()&&l<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()&&l>=this.endDate.getUTCDate()?this.picker.find(".next").css({
visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-(1/0)&&e<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-(1/0)&&e<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(e){if(e.preventDefault(),e.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var n=e.originalEvent,l=n.wheelDelta,i=l>0?1:0===l?0:-1;this.wheelViewModeNavigationInverseDirection&&(i=-i),this.showMode(i),setTimeout(t.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(n){n.stopPropagation(),n.preventDefault();var l=t(n.target).closest("span, td, th, legend");if(l.is("."+this.icontype)&&(l=t(l).parent().closest("span, td, th, legend")),1==l.length){if(l.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(l[0].nodeName.toLowerCase()){case"th":switch(l[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var r=i.modes[this.viewMode].navStep*("prev"==l[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,r);break;case 1:this.viewDate=this.moveDate(this.viewDate,r);break;case 2:this.viewDate=this.moveMonth(this.viewDate,r);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,r)}this.fill(),this.element.trigger({type:l[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"today":var o=new Date;o=e(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),0),o<this.startDate?o=this.startDate:o>this.endDate&&(o=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(o),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!l.is(".disabled")){var s=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),u=this.viewDate.getUTCDate(),c=this.viewDate.getUTCHours(),d=this.viewDate.getUTCMinutes(),h=this.viewDate.getUTCSeconds();if(l.is(".month")?(this.viewDate.setUTCDate(1),a=l.parent().find("span").index(l),u=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(a),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(e(s,a,u,c,d,h,0))):l.is(".year")?(this.viewDate.setUTCDate(1),s=parseInt(l.text(),10)||0,this.viewDate.setUTCFullYear(s),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(e(s,a,u,c,d,h,0))):l.is(".hour")?(c=parseInt(l.text(),10)||0,(l.hasClass("hour_am")||l.hasClass("hour_pm"))&&(12==c&&l.hasClass("hour_am")?c=0:12!=c&&l.hasClass("hour_pm")&&(c+=12)),this.viewDate.setUTCHours(c),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(e(s,a,u,c,d,h,0))):l.is(".minute")&&(d=parseInt(l.text().substr(l.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(d),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(e(s,a,u,c,d,h,0))),0!=this.viewMode){var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(l.is(".day")&&!l.is(".disabled")){var u=parseInt(l.text(),10)||1,s=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),c=this.viewDate.getUTCHours(),d=this.viewDate.getUTCMinutes(),h=this.viewDate.getUTCSeconds();l.is(".old")?0===a?(a=11,s-=1):a-=1:l.is(".new")&&(11==a?(a=0,s+=1):a+=1),this.viewDate.setUTCFullYear(s),this.viewDate.setUTCMonth(a,u),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(e(s,a,u,c,d,h,0))}var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(t,e){e&&"date"!=e||(this.date=t),e&&"view"!=e||(this.viewDate=t),this.fill(),this.setValue();var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),this.autoclose&&(!e||"date"==e)),this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(t,e){if(!e)return t;var n=new Date(t.valueOf());return n.setUTCMinutes(n.getUTCMinutes()+e*this.minuteStep),n},moveHour:function(t,e){if(!e)return t;var n=new Date(t.valueOf());return n.setUTCHours(n.getUTCHours()+e),n},moveDate:function(t,e){if(!e)return t;var n=new Date(t.valueOf());return n.setUTCDate(n.getUTCDate()+e),n},moveMonth:function(t,e){if(!e)return t;var n,l,i=new Date(t.valueOf()),r=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(e);if(e=e>0?1:-1,1==s)l=-1==e?function(){return i.getUTCMonth()==o}:function(){return i.getUTCMonth()!=n},n=o+e,i.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var a=0;s>a;a++)i=this.moveMonth(i,e);n=i.getUTCMonth(),i.setUTCDate(r),l=function(){return n!=i.getUTCMonth()}}for(;l();)i.setUTCDate(--r),i.setUTCMonth(n);return i},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.startDate&&t<=this.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,n,l,i=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;e=37==t.keyCode?-1:1,viewMode=this.viewMode,t.ctrlKey?viewMode+=2:t.shiftKey&&(viewMode+=1),4==viewMode?(n=this.moveYear(this.date,e),l=this.moveYear(this.viewDate,e)):3==viewMode?(n=this.moveMonth(this.date,e),l=this.moveMonth(this.viewDate,e)):2==viewMode?(n=this.moveDate(this.date,e),l=this.moveDate(this.viewDate,e)):1==viewMode?(n=this.moveHour(this.date,e),l=this.moveHour(this.viewDate,e)):0==viewMode&&(n=this.moveMinute(this.date,e),l=this.moveMinute(this.viewDate,e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=l,this.setValue(),this.update(),t.preventDefault(),i=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;e=38==t.keyCode?-1:1,viewMode=this.viewMode,t.ctrlKey?viewMode+=2:t.shiftKey&&(viewMode+=1),4==viewMode?(n=this.moveYear(this.date,e),l=this.moveYear(this.viewDate,e)):3==viewMode?(n=this.moveMonth(this.date,e),l=this.moveMonth(this.viewDate,e)):2==viewMode?(n=this.moveDate(this.date,7*e),l=this.moveDate(this.viewDate,7*e)):1==viewMode?this.showMeridian?(n=this.moveHour(this.date,6*e),l=this.moveHour(this.viewDate,6*e)):(n=this.moveHour(this.date,4*e),l=this.moveHour(this.viewDate,4*e)):0==viewMode&&(n=this.moveMinute(this.date,4*e),l=this.moveMinute(this.viewDate,4*e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=l,this.setValue(),this.update(),t.preventDefault(),i=!0);break;case 13:if(0!=this.viewMode){var r=this.viewMode;this.showMode(-1),this.fill(),r==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();t.preventDefault();break;case 9:this.hide()}if(i){var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change(),this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(t){if(t){var e=Math.max(0,Math.min(i.modes.length-1,this.viewMode+t));e>=this.minView&&e<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:e}),this.viewMode=e)}this.picker.find(">div").hide().filter(".datetimepicker-"+i.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(){this._setDate(null,"date")},convertViewModeText:function(t){switch(t){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}},t.fn.datetimepicker=function(e){var l=Array.apply(null,arguments);l.shift();var i;return this.each(function(){var r=t(this),o=r.data("datetimepicker"),s="object"==typeof e&&e;return o||r.data("datetimepicker",o=new n(this,t.extend({},t.fn.datetimepicker.defaults,s))),"string"==typeof e&&"function"==typeof o[e]&&(i=o[e].apply(o,l),void 0!==i)?!1:void 0}),void 0!==i?i:this},t.fn.datetimepicker.defaults={},t.fn.datetimepicker.Constructor=n;var l=t.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}},i={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,i.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},getDefaultFormat:function(t,e){if("standard"==t)return"input"==e?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==t)return"input"==e?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(t){if("standard"==t)return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==t)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(t,e){var n=t.replace(this.validParts(e),"\x00").split("\x00"),l=t.match(this.validParts(e));if(!n||!n.length||!l||0==l.length)throw new Error("Invalid date format.");return{separators:n,parts:l}},parseDate:function(i,r,o,s){if(i instanceof Date){var a=new Date(i.valueOf()-6e4*i.getTimezoneOffset());return a.setMilliseconds(0),a}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(i)&&(r=this.parseFormat("yyyy-mm-dd",s)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(i)&&(r=this.parseFormat("yyyy-mm-dd hh:ii",s)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(i)&&(r=this.parseFormat("yyyy-mm-dd hh:ii:ss",s)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(i)){var u,c,d=/([-+]\d+)([dmwy])/,h=i.match(/([-+]\d+)([dmwy])/g);i=new Date;for(var f=0;f<h.length;f++)switch(u=d.exec(h[f]),c=parseInt(u[1]),u[2]){case"d":i.setUTCDate(i.getUTCDate()+c);break;case"m":i=n.prototype.moveMonth.call(n.prototype,i,c);break;case"w":i.setUTCDate(i.getUTCDate()+7*c);break;case"y":i=n.prototype.moveYear.call(n.prototype,i,c)}return e(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),0)}var p,g,u,h=i&&i.match(this.nonpunctuation)||[],i=new Date(0,0,0,0,0,0,0),m={},v=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],y={hh:function(t,e){return t.setUTCHours(e)},h:function(t,e){return t.setUTCHours(e)},HH:function(t,e){return t.setUTCHours(12==e?0:e)},H:function(t,e){return t.setUTCHours(12==e?0:e)},ii:function(t,e){return t.setUTCMinutes(e)},i:function(t,e){return t.setUTCMinutes(e)},ss:function(t,e){return t.setUTCSeconds(e)},s:function(t,e){return t.setUTCSeconds(e)},yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;){if(isNaN(t.getUTCMonth()))return t;t.setUTCDate(t.getUTCDate()-1)}return t},d:function(t,e){return t.setUTCDate(e)},p:function(t,e){return t.setUTCHours(1==e?t.getUTCHours()+12:t.getUTCHours())}};if(y.M=y.MM=y.mm=y.m,y.dd=y.d,y.P=y.p,i=e(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds()),h.length==r.parts.length){for(var f=0,b=r.parts.length;b>f;f++){if(p=parseInt(h[f],10),u=r.parts[f],isNaN(p))switch(u){case"MM":g=t(l[o].months).filter(function(){var t=this.slice(0,h[f].length),e=h[f].slice(0,t.length);return t==e}),p=t.inArray(g[0],l[o].months)+1;break;case"M":g=t(l[o].monthsShort).filter(function(){var t=this.slice(0,h[f].length),e=h[f].slice(0,t.length);return t.toLowerCase()==e.toLowerCase()}),p=t.inArray(g[0],l[o].monthsShort)+1;break;case"p":case"P":p=t.inArray(h[f].toLowerCase(),l[o].meridiem)}m[u]=p}for(var w,f=0;f<v.length;f++)w=v[f],w in m&&!isNaN(m[w])&&y[w](i,m[w])}return i},formatDate:function(e,n,r,o){if(null==e)return"";var s;if("standard"==o)s={yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear(),m:e.getUTCMonth()+1,M:l[r].monthsShort[e.getUTCMonth()],MM:l[r].months[e.getUTCMonth()],d:e.getUTCDate(),D:l[r].daysShort[e.getUTCDay()],DD:l[r].days[e.getUTCDay()],p:2==l[r].meridiem.length?l[r].meridiem[e.getUTCHours()<12?0:1]:"",h:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds()},2==l[r].meridiem.length?s.H=s.h%12==0?12:s.h%12:s.H=s.h,s.HH=(s.H<10?"0":"")+s.H,s.P=s.p.toUpperCase(),s.hh=(s.h<10?"0":"")+s.h,s.ii=(s.i<10?"0":"")+s.i,s.ss=(s.s<10?"0":"")+s.s,s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m;else{if("php"!=o)throw new Error("Invalid format type.");s={y:e.getUTCFullYear().toString().substring(2),Y:e.getUTCFullYear(),F:l[r].months[e.getUTCMonth()],M:l[r].monthsShort[e.getUTCMonth()],n:e.getUTCMonth()+1,t:i.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),j:e.getUTCDate(),l:l[r].days[e.getUTCDay()],D:l[r].daysShort[e.getUTCDay()],w:e.getUTCDay(),N:0==e.getUTCDay()?7:e.getUTCDay(),S:e.getUTCDate()%10<=l[r].suffix.length?l[r].suffix[e.getUTCDate()%10-1]:"",a:2==l[r].meridiem.length?l[r].meridiem[e.getUTCHours()<12?0:1]:"",g:e.getUTCHours()%12==0?12:e.getUTCHours()%12,G:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds()},s.m=(s.n<10?"0":"")+s.n,s.d=(s.j<10?"0":"")+s.j,s.A=s.a.toString().toUpperCase(),s.h=(s.g<10?"0":"")+s.g,s.H=(s.G<10?"0":"")+s.G,s.i=(s.i<10?"0":"")+s.i,s.s=(s.s<10?"0":"")+s.s}for(var e=[],a=t.extend([],n.separators),u=0,c=n.parts.length;c>u;u++)a.length&&e.push(a.shift()),e.push(s[n.parts[u]]);return a.length&&e.push(a.shift()),e.join("")},convertViewMode:function(t){switch(t){case 4:case"decade":t=4;break;case 3:case"year":t=3;break;case 2:case"month":t=2;break;case 1:case"day":t=1;break;case 0:case"hour":t=0}return t},headTemplate:'<thead><tr><th class="prev"><i class="{leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{rightArrow}"/></th></tr></thead>',headTemplateV3:'<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};i.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+i.headTemplate+"<tbody></tbody>"+i.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"</table></div></div>",i.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+i.headTemplateV3+i.contTemplate+i.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+i.headTemplateV3+i.contTemplate+i.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+i.headTemplateV3+"<tbody></tbody>"+i.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+i.headTemplateV3+i.contTemplate+i.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+i.headTemplateV3+i.contTemplate+i.footTemplate+"</table></div></div>",t.fn.datetimepicker.DPGlobal=i,t.fn.datetimepicker.noConflict=function(){return t.fn.datetimepicker=old,this},t(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var n=t(this);n.data("datetimepicker")||(e.preventDefault(),n.datetimepicker("show"))}),t(function(){t('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery),function(){function t(t){function e(e,n,l,i,r,o){for(;r>=0&&o>r;r+=t){var s=i?i[r]:r;l=n(l,e[s],s,e)}return l}return function(n,l,i,r){l=b(l,r,4);var o=!T(n)&&y.keys(n),s=(o||n).length,a=t>0?0:s-1;return arguments.length<3&&(i=n[o?o[a]:a],a+=t),e(n,l,i,o,a,s)}}function e(t){return function(e,n,l){n=w(n,l);for(var i=S(e),r=t>0?0:i-1;r>=0&&i>r;r+=t)if(n(e[r],r,e))return r;return-1}}function n(t,e,n){return function(l,i,r){var o=0,s=S(l);if("number"==typeof r)t>0?o=r>=0?r:Math.max(r+s,o):s=r>=0?Math.min(r+1,s):r+s+1;else if(n&&r&&s)return r=n(l,i),l[r]===i?r:-1;if(i!==i)return r=e(c.call(l,o,s),y.isNaN),r>=0?r+o:-1;for(r=t>0?o:s-1;r>=0&&s>r;r+=t)if(l[r]===i)return r;return-1}}function l(t,e){var n=E.length,l=t.constructor,i=y.isFunction(l)&&l.prototype||s,r="constructor";for(y.has(t,r)&&!y.contains(e,r)&&e.push(r);n--;)r=E[n],r in t&&t[r]!==i[r]&&!y.contains(e,r)&&e.push(r)}var i=this,r=i._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,d=s.toString,h=s.hasOwnProperty,f=Array.isArray,p=Object.keys,g=a.bind,m=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,l){return t.call(e,n,l)};case 3:return function(n,l,i){return t.call(e,n,l,i)};case 4:return function(n,l,i,r){return t.call(e,n,l,i,r)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,1/0)};var x=function(t,e){return function(n){var l=arguments.length;if(2>l||null==n)return n;for(var i=1;l>i;i++)for(var r=arguments[i],o=t(r),s=o.length,a=0;s>a;a++){var u=o[a];e&&void 0!==n[u]||(n[u]=r[u])}return n}},_=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},k=Math.pow(2,53)-1,S=C("length"),T=function(t){var e=S(t);return"number"==typeof e&&e>=0&&k>=e};y.each=y.forEach=function(t,e,n){e=b(e,n);var l,i;if(T(t))for(l=0,i=t.length;i>l;l++)e(t[l],l,t);else{var r=y.keys(t);for(l=0,i=r.length;i>l;l++)e(t[r[l]],r[l],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var l=!T(t)&&y.keys(t),i=(l||t).length,r=Array(i),o=0;i>o;o++){var s=l?l[o]:o;r[o]=e(t[s],s,t)}return r},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var l;return l=T(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==l&&-1!==l?t[l]:void 0},y.filter=y.select=function(t,e,n){var l=[];return e=w(e,n),y.each(t,function(t,n,i){e(t,n,i)&&l.push(t)}),l},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var l=!T(t)&&y.keys(t),i=(l||t).length,r=0;i>r;r++){var o=l?l[r]:r;if(!e(t[o],o,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var l=!T(t)&&y.keys(t),i=(l||t).length,r=0;i>r;r++){var o=l?l[r]:r;if(e(t[o],o,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,l){return T(t)||(t=y.values(t)),("number"!=typeof n||l)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),l=y.isFunction(e);return y.map(t,function(t){var i=l?e:t[e];return null==i?i:i.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var l,i,r=-(1/0),o=-(1/0);if(null==e&&null!=t){t=T(t)?t:y.values(t);for(var s=0,a=t.length;a>s;s++)l=t[s],l>r&&(r=l)}else e=w(e,n),y.each(t,function(t,n,l){i=e(t,n,l),(i>o||i===-(1/0)&&r===-(1/0))&&(r=t,o=i)});return r},y.min=function(t,e,n){var l,i,r=1/0,o=1/0;if(null==e&&null!=t){t=T(t)?t:y.values(t);for(var s=0,a=t.length;a>s;s++)l=t[s],r>l&&(r=l)}else e=w(e,n),y.each(t,function(t,n,l){i=e(t,n,l),(o>i||i===1/0&&r===1/0)&&(r=t,o=i)});return r},y.shuffle=function(t){for(var e,n=T(t)?t:y.values(t),l=n.length,i=Array(l),r=0;l>r;r++)e=y.random(0,r),e!==r&&(i[r]=i[e]),i[e]=n[r];return i},y.sample=function(t,e,n){return null==e||n?(T(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,l){return{value:t,index:n,criteria:e(t,n,l)}}).sort(function(t,e){var n=t.criteria,l=e.criteria;if(n!==l){if(n>l||void 0===n)return 1;if(l>n||void 0===l)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,n,l){var i={};return n=w(n,l),y.each(e,function(l,r){var o=n(l,r,e);t(i,l,o)}),i}};y.groupBy=A(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=A(function(t,e,n){t[n]=e}),y.countBy=A(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):T(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:T(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var l=[],i=[];return y.each(t,function(t,n,r){(e(t,n,r)?l:i).push(t)}),[l,i]},y.first=y.head=y.take=function(t,e,n){return null!=t?null==e||n?t[0]:y.initial(t,t.length-e):void 0},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null!=t?null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e)):void 0},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var D=function(t,e,n,l){for(var i=[],r=0,o=l||0,s=S(t);s>o;o++){var a=t[o];if(T(a)&&(y.isArray(a)||y.isArguments(a))){e||(a=D(a,e,n));var u=0,c=a.length;for(i.length+=c;c>u;)i[r++]=a[u++]}else n||(i[r++]=a)}return i};y.flatten=function(t,e){return D(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,l){y.isBoolean(e)||(l=n,n=e,e=!1),null!=n&&(n=w(n,l));for(var i=[],r=[],o=0,s=S(t);s>o;o++){var a=t[o],u=n?n(a,o,t):a;e?(o&&r===u||i.push(a),r=u):n?y.contains(r,u)||(r.push(u),i.push(a)):y.contains(i,a)||i.push(a)}return i},y.union=function(){return y.uniq(D(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,l=0,i=S(t);i>l;l++){var r=t[l];if(!y.contains(e,r)){for(var o=1;n>o&&y.contains(arguments[o],r);o++);o===n&&e.push(r)}}return e},y.difference=function(t){var e=D(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,S).length||0,n=Array(e),l=0;e>l;l++)n[l]=y.pluck(t,l);return n},y.object=function(t,e){for(var n={},l=0,i=S(t);i>l;l++)e?n[t[l]]=e[l]:n[t[l][0]]=t[l][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,l){n=w(n,l,1);for(var i=n(e),r=0,o=S(t);o>r;){var s=Math.floor((r+o)/2);n(t[s])<i?r=s+1:o=s}return r},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var l=Math.max(Math.ceil((e-t)/n),0),i=Array(l),r=0;l>r;r++,t+=n)i[r]=t;return i};var M=function(t,e,n,l,i){if(!(l instanceof e))return t.apply(n,i);var r=_(t.prototype),o=t.apply(r,i);return y.isObject(o)?o:r};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),l=function(){return M(t,l,e,this,n.concat(c.call(arguments)))};return l},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var l=0,i=e.length,r=Array(i),o=0;i>o;o++)r[o]=e[o]===y?arguments[l++]:e[o];for(;l<arguments.length;)r.push(arguments[l++]);return M(t,n,this,this,r)};return n},y.bindAll=function(t){var e,n,l=arguments.length;if(1>=l)throw new Error("bindAll must be passed function names");for(e=1;l>e;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(l){var i=n.cache,r=""+(e?e.apply(this,arguments):l);return y.has(i,r)||(i[r]=t.apply(this,arguments)),i[r]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var l,i,r,o=null,s=0;n||(n={});var a=function(){s=n.leading===!1?0:y.now(),o=null,r=t.apply(l,i),o||(l=i=null)};return function(){var u=y.now();s||n.leading!==!1||(s=u);var c=e-(u-s);return l=this,i=arguments,0>=c||c>e?(o&&(clearTimeout(o),o=null),s=u,r=t.apply(l,i),o||(l=i=null)):o||n.trailing===!1||(o=setTimeout(a,c)),r}},y.debounce=function(t,e,n){var l,i,r,o,s,a=function(){var u=y.now()-o;e>u&&u>=0?l=setTimeout(a,e-u):(l=null,n||(s=t.apply(r,i),l||(r=i=null)))};return function(){r=this,i=arguments,o=y.now();var u=n&&!l;return l||(l=setTimeout(a,e)),u&&(s=t.apply(r,i),r=i=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,l=t[e].apply(this,arguments);n--;)l=t[n].call(this,l);return l}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},y.once=y.partial(y.before,2);var j=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return j&&l(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return j&&l(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,l=Array(n),i=0;n>i;i++)l[i]=t[e[i]];return l},y.mapObject=function(t,e,n){e=w(e,n);for(var l,i=y.keys(t),r=i.length,o={},s=0;r>s;s++)l=i[s],o[l]=e(t[l],l,t);return o},y.pairs=function(t){for(var e=y.keys(t),n=e.length,l=Array(n),i=0;n>i;i++)l[i]=[e[i],t[e[i]]];return l},y.invert=function(t){for(var e={},n=y.keys(t),l=0,i=n.length;i>l;l++)e[t[n[l]]]=n[l];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var l,i=y.keys(t),r=0,o=i.length;o>r;r++)if(l=i[r],e(t[l],l,t))return l},y.pick=function(t,e,n){var l,i,r={},o=t;if(null==o)return r;y.isFunction(e)?(i=y.allKeys(o),l=b(e,n)):(i=D(arguments,!1,!1,1),l=function(t,e,n){return e in n},o=Object(o));for(var s=0,a=i.length;a>s;s++){var u=i[s],c=o[u];l(c,u,o)&&(r[u]=c)}return r},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var l=y.map(D(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(l,e)}}return y.pick(t,e,n)},y.defaults=x(y.allKeys,!0),y.create=function(t,e){var n=_(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),l=n.length;if(null==t)return!l;for(var i=Object(t),r=0;l>r;r++){var o=n[r];if(e[o]!==i[o]||!(o in i))return!1}return!0};var O=function(t,e,n,l){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var i=d.call(t);if(i!==d.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var r="[object Array]"===i;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,s=e.constructor;if(o!==s&&!(y.isFunction(o)&&o instanceof o&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],l=l||[];for(var a=n.length;a--;)if(n[a]===t)return l[a]===e;if(n.push(t),l.push(e),r){if(a=t.length,a!==e.length)return!1;for(;a--;)if(!O(t[a],e[a],n,l))return!1}else{var u,c=y.keys(t);if(a=c.length,y.keys(e).length!==a)return!1;for(;a--;)if(u=c[a],!y.has(e,u)||!O(t[u],e[u],n,l))return!1}return n.pop(),l.pop(),!0};y.isEqual=function(t,e){return O(t,e)},y.isEmpty=function(t){return null==t?!0:T(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===d.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return i._=r,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=C,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var l=Array(Math.max(0,t));e=b(e,n,1);for(var i=0;t>i;i++)l[i]=e(i);return l},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$=y.invert(I),F=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",l=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,l.test(t)?t.replace(i,e):t}};y.escape=F(I),y.unescape=F($),y.result=function(t,e,n){var l=null==t?void 0:t[e];return void 0===l&&(l=n),y.isFunction(l)?l.call(t):l};var P=0;y.uniqueId=function(t){var e=++P+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,R=function(t){return"\\"+L[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var l=RegExp([(e.escape||N).source,(e.interpolate||N).source,(e.evaluate||N).source].join("|")+"|$","g"),i=0,r="__p+='";t.replace(l,function(e,n,l,o,s){return r+=t.slice(i,s).replace(B,R),i=s+e.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":l?r+="'+\n((__t=("+l+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var o=new Function(e.variable||"obj","_",r)}catch(s){throw s.source=r,s}var a=function(t){return o.call(this,t,y)},u=e.variable||"obj";return a.source="function("+u+"){\n"+r+"}",a},y.chain=function(t){var e=y(t);return e._chain=!0,e};var z=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),z(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),y.each(["concat","join","slice"],function(t){var e=o[t];y.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments));
}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function l(t){return null===t?NaN:+t}function i(t){return!isNaN(t)}function r(t){return{left:function(e,n,l,i){for(arguments.length<3&&(l=0),arguments.length<4&&(i=e.length);i>l;){var r=l+i>>>1;t(e[r],n)<0?l=r+1:i=r}return l},right:function(e,n,l,i){for(arguments.length<3&&(l=0),arguments.length<4&&(i=e.length);i>l;){var r=l+i>>>1;t(e[r],n)>0?i=r:l=r+1}return l}}}function o(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function a(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===xo||t[0]===_o?_o+t:t}function d(t){return(t+="")[0]===_o?t.slice(1):t}function h(t){return c(t)in this._}function f(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(d(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function b(t,e,n){return function(){var l=n.apply(e,arguments);return l===e?t:l}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,l=Co.length;l>n;++n){var i=Co[n]+e;if(i in t)return i}}function x(){}function _(){}function C(t){function e(){for(var e,l=n,i=-1,r=l.length;++i<r;)(e=l[i].on)&&e.apply(this,arguments);return t}var n=[],l=new u;return e.on=function(e,i){var r,o=l.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,r=n.indexOf(o)).concat(n.slice(r+1)),l.remove(e)),i&&n.push(l.set(e,{on:i})),t)},e}function k(){so.event.preventDefault()}function S(){for(var t,e=so.event;t=e.sourceEvent;)e=t;return e}function T(t){for(var e=new _,n=0,l=arguments.length;++n<l;)e[arguments[n]]=C(e);return e.of=function(n,l){return function(i){try{var r=i.sourceEvent=so.event;i.target=t,so.event=i,e[i.type].apply(n,l)}finally{so.event=r}}},e}function A(t){return So(t,Mo),t}function D(t){return"function"==typeof t?t:function(){return To(t,this)}}function M(t){return"function"==typeof t?t:function(){return Ao(t,this)}}function j(t,e){function n(){this.removeAttribute(t)}function l(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function r(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=so.ns.qualify(t),null==e?t.local?l:n:"function"==typeof e?t.local?s:o:t.local?r:i}function E(t){return t.trim().replace(/\s+/g," ")}function O(t){return new RegExp("(?:^|\\s+)"+so.requote(t)+"(?:\\s+|$)","g")}function I(t){return(t+"").trim().split(/^|\s+/)}function $(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function l(){for(var n=-1,l=e.apply(this,arguments);++n<i;)t[n](this,l)}t=I(t).map(F);var i=t.length;return"function"==typeof e?l:n}function F(t){var e=O(t);return function(n,l){if(i=n.classList)return l?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";l?(e.lastIndex=0,e.test(i)||n.setAttribute("class",E(i+" "+t))):n.setAttribute("class",E(i.replace(e," ")))}}function P(t,e,n){function l(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function r(){var l=e.apply(this,arguments);null==l?this.style.removeProperty(t):this.style.setProperty(t,l,n)}return null==e?l:"function"==typeof e?r:i}function N(t,e){function n(){delete this[t]}function l(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:l}function L(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=so.ns.qualify(t)).local?n:e}function B(){var t=this.parentNode;t&&t.removeChild(this)}function R(t){return{__data__:t}}function z(t){return function(){return Do(this,t)}}function H(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function q(t,e){for(var n=0,l=t.length;l>n;n++)for(var i,r=t[n],o=0,s=r.length;s>o;o++)(i=r[o])&&e(i,o,n);return t}function U(t){return So(t,Eo),t}function W(t){var e,n;return function(l,i,r){var o,s=t[r].update,a=s.length;for(r!=n&&(n=r,e=0),i>=e&&(e=i+1);!(o=s[e])&&++e<a;);return o}}function V(t,e,n){function l(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function i(){var i=a(e,uo(arguments));l.call(this),this.addEventListener(t,this[o]=i,i.$=n),i._=e}function r(){var e,n=new RegExp("^__on([^.]+)"+so.requote(t)+"$");for(var l in this)if(e=l.match(n)){var i=this[l];this.removeEventListener(e[1],i,i.$),delete this[l]}}var o="__on"+t,s=t.indexOf("."),a=Y;s>0&&(t=t.slice(0,s));var u=Oo.get(t);return u&&(t=u,a=X),s?e?i:l:e?x:r}function Y(t,e){return function(n){var l=so.event;so.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{so.event=l}}}function X(t,e){var n=Y(t,e);return function(t){var e=this,l=t.relatedTarget;l&&(l===e||8&l.compareDocumentPosition(e))||n.call(e,t)}}function G(n){var l=".dragsuppress-"+ ++$o,i="click"+l,r=so.select(e(n)).on("touchmove"+l,k).on("dragstart"+l,k).on("selectstart"+l,k);if(null==Io&&(Io="onselectstart"in n?!1:w(n.style,"userSelect")),Io){var o=t(n).style,s=o[Io];o[Io]="none"}return function(t){if(r.on(l,null),Io&&(o[Io]=s),t){var e=function(){r.on(i,null)};r.on(i,function(){k(),e()},!0),setTimeout(e,0)}}}function Z(t,n){n.changedTouches&&(n=n.changedTouches[0]);var l=t.ownerSVGElement||t;if(l.createSVGPoint){var i=l.createSVGPoint();if(0>Fo){var r=e(t);if(r.scrollX||r.scrollY){l=so.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=l[0][0].getScreenCTM();Fo=!(o.f||o.e),l.remove()}}return Fo?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function K(){return so.event.changedTouches[0].identifier}function J(t){return t>0?1:0>t?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?Lo:Math.acos(t)}function et(t){return t>1?zo:-1>t?-zo:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function lt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function rt(t){return(t=Math.sin(t/2))*t}function ot(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):xt(""+t,_t,st):new st(t,e,n)}function at(t,e,n){function l(t){return t>360?t-=360:0>t&&(t+=360),60>t?r+(o-r)*t/60:180>t?o:240>t?r+(o-r)*(240-t)/60:r}function i(t){return Math.round(255*l(t))}var r,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+e):n+e-n*e,r=2*n-o,new vt(i(t+120),i(t),i(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof dt?ft(t.l,t.a,t.b):ft((t=Ct((t=so.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new dt(n,Math.cos(t*=Ho)*e,Math.sin(t)*e)}function dt(t,e,n){return this instanceof dt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof dt?new dt(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):Ct((t=vt(t)).r,t.g,t.b):new dt(t,e,n)}function ht(t,e,n){var l=(t+16)/116,i=l+e/500,r=l-n/200;return i=pt(i)*Qo,l=pt(l)*ts,r=pt(r)*es,new vt(mt(3.2404542*i-1.5371385*l-.4985314*r),mt(-.969266*i+1.8760108*l+.041556*r),mt(.0556434*i-.2040259*l+1.0572252*r))}function ft(t,e,n){return t>0?new ut(Math.atan2(n,e)*qo,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):xt(""+t,vt,at):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function bt(t){return yt(t)+""}function wt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var l,i,r,o=0,s=0,a=0;if(l=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=l[2].split(","),l[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(St(i[0]),St(i[1]),St(i[2]))}return(r=is.get(t))?e(r.r,r.g,r.b):(null==t||"#"!==t.charAt(0)||isNaN(r=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&r)>>4,o=o>>4|o,s=240&r,s=s>>4|s,a=15&r,a=a<<4|a):7===t.length&&(o=(16711680&r)>>16,s=(65280&r)>>8,a=255&r)),e(o,s,a))}function _t(t,e,n){var l,i,r=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-r,a=(o+r)/2;return s?(i=.5>a?s/(o+r):s/(2-o-r),l=t==o?(e-n)/s+(n>e?6:0):e==o?(n-t)/s+2:(t-e)/s+4,l*=60):(l=NaN,i=a>0&&1>a?0:l),new st(l,i,a)}function Ct(t,e,n){t=kt(t),e=kt(e),n=kt(n);var l=gt((.4124564*t+.3575761*e+.1804375*n)/Qo),i=gt((.2126729*t+.7151522*e+.072175*n)/ts),r=gt((.0193339*t+.119192*e+.9503041*n)/es);return dt(116*i-16,500*(l-i),200*(i-r))}function kt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function St(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Tt(t){return"function"==typeof t?t:function(){return t}}function At(t){return function(e,n,l){return 2===arguments.length&&"function"==typeof n&&(l=n,n=null),Dt(e,n,t,l)}}function Dt(t,e,n,l){function i(){var t,e=a.status;if(!e&&jt(a)||e>=200&&300>e||304===e){try{t=n.call(r,a)}catch(l){return void o.error.call(r,l)}o.load.call(r,t)}else o.error.call(r,a)}var r={},o=so.dispatch("beforesend","progress","load","error"),s={},a=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in a||!/^(http(s)?:)?\/\//.test(t)||(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=i:a.onreadystatechange=function(){a.readyState>3&&i()},a.onprogress=function(t){var e=so.event;so.event=t;try{o.progress.call(r,a)}finally{so.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.responseType=function(t){return arguments.length?(u=t,r):u},r.response=function(t){return n=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(uo(arguments)))}}),r.send=function(n,l,i){if(2===arguments.length&&"function"==typeof l&&(i=l,l=null),a.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),a.setRequestHeader)for(var c in s)a.setRequestHeader(c,s[c]);return null!=e&&a.overrideMimeType&&a.overrideMimeType(e),null!=u&&(a.responseType=u),null!=i&&r.on("error",i).on("load",function(t){i(null,t)}),o.beforesend.call(r,a),a.send(null==l?null:l),r},r.abort=function(){return a.abort(),r},so.rebind(r,o,"on"),null==l?r:r.get(Mt(l))}function Mt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function jt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Et(t,e,n){var l=arguments.length;2>l&&(e=0),3>l&&(n=Date.now());var i=n+e,r={c:t,t:i,n:null};return os?os.n=r:rs=r,os=r,ss||(as=clearTimeout(as),ss=1,us(Ot)),r}function Ot(){var t=It(),e=$t()-t;e>24?(isFinite(e)&&(clearTimeout(as),as=setTimeout(Ot,e)),ss=0):(ss=1,us(Ot))}function It(){for(var t=Date.now(),e=rs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function $t(){for(var t,e=rs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:rs=e.n;return os=t,n}function Ft(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Pt(t,e){var n=Math.pow(10,3*wo(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Nt(t){var e=t.decimal,n=t.thousands,l=t.grouping,i=t.currency,r=l&&n?function(t,e){for(var i=t.length,r=[],o=0,s=l[0],a=0;i>0&&s>0&&(a+s+1>e&&(s=Math.max(1,e-a)),r.push(t.substring(i-=s,i+s)),!((a+=s+1)>e));)s=l[o=(o+1)%l.length];return r.reverse().join(n)}:y;return function(t){var n=ds.exec(t),l=n[1]||" ",o=n[2]||">",s=n[3]||"-",a=n[4]||"",u=n[5],c=+n[6],d=n[7],h=n[8],f=n[9],p=1,g="",m="",v=!1,y=!0;switch(h&&(h=+h.substring(1)),(u||"0"===l&&"="===o)&&(u=l="0",o="="),f){case"n":d=!0,f="g";break;case"%":p=100,m="%",f="f";break;case"p":p=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===a&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,h=0;break;case"s":p=-1,f="r"}"$"===a&&(g=i[0],m=i[1]),"r"!=f||h||(f="g"),null!=h&&("g"==f?h=Math.max(1,Math.min(21,h)):"e"!=f&&"f"!=f||(h=Math.max(0,Math.min(20,h)))),f=hs.get(f)||Lt;var b=u&&d;return function(t){var n=m;if(v&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var a=so.formatPrefix(t,h);t=a.scale(t),n=a.symbol+m}else t*=p;t=f(t,h);var w,x,_=t.lastIndexOf(".");if(0>_){var C=y?t.lastIndexOf("e"):-1;0>C?(w=t,x=""):(w=t.substring(0,C),x=t.substring(C))}else w=t.substring(0,_),x=e+t.substring(_+1);!u&&d&&(w=r(w,1/0));var k=g.length+w.length+x.length+(b?0:i.length),S=c>k?new Array(k=c-k+1).join(l):"";return b&&(w=r(S+w,S.length?c-x.length:1/0)),i+=g,t=w+x,("<"===o?i+t+S:">"===o?S+i+t:"^"===o?S.substring(0,k>>=1)+i+t+S.substring(k):i+(b?t:S+t))+n}}}function Lt(t){return t+""}function Bt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Rt(t,e,n){function l(e){var n=t(e),l=r(n,1);return l-e>e-n?n:l}function i(n){return e(n=t(new ps(n-1)),1),n}function r(t,n){return e(t=new ps(+t),n),t}function o(t,l,r){var o=i(t),s=[];if(r>1)for(;l>o;)n(o)%r||s.push(new Date(+o)),e(o,1);else for(;l>o;)s.push(new Date(+o)),e(o,1);return s}function s(t,e,n){try{ps=Bt;var l=new Bt;return l._=t,o(l,e,n)}finally{ps=Date}}t.floor=t,t.round=l,t.ceil=i,t.offset=r,t.range=o;var a=t.utc=zt(t);return a.floor=a,a.round=zt(l),a.ceil=zt(i),a.offset=zt(r),a.range=s,t}function zt(t){return function(e,n){try{ps=Bt;var l=new Bt;return l._=e,t(l,n)._}finally{ps=Date}}}function Ht(t){function e(t){function e(e){for(var n,i,r,o=[],s=-1,a=0;++s<l;)37===t.charCodeAt(s)&&(o.push(t.slice(a,s)),null!=(i=ms[n=t.charAt(++s)])&&(n=t.charAt(++s)),(r=D[n])&&(n=r(e,null==i?"e"===n?" ":"0":i)),o.push(n),a=s+1);return o.push(t.slice(a,s)),o.join("")}var l=t.length;return e.parse=function(e){var l={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(l,t,e,0);if(i!=e.length)return null;"p"in l&&(l.H=l.H%12+12*l.p);var r=null!=l.Z&&ps!==Bt,o=new(r?Bt:ps);return"j"in l?o.setFullYear(l.y,0,l.j):"W"in l||"U"in l?("w"in l||(l.w="W"in l?1:0),o.setFullYear(l.y,0,1),o.setFullYear(l.y,0,"W"in l?(l.w+6)%7+7*l.W-(o.getDay()+5)%7:l.w+7*l.U-(o.getDay()+6)%7)):o.setFullYear(l.y,l.m,l.d),o.setHours(l.H+(l.Z/100|0),l.M+l.Z%100,l.S,l.L),r?o._:o},e.toString=function(){return t},e}function n(t,e,n,l){for(var i,r,o,s=0,a=e.length,u=n.length;a>s;){if(l>=u)return-1;if(i=e.charCodeAt(s++),37===i){if(o=e.charAt(s++),r=M[o in ms?e.charAt(s++):o],!r||(l=r(t,n,l))<0)return-1}else if(i!=n.charCodeAt(l++))return-1}return l}function l(t,e,n){_.lastIndex=0;var l=_.exec(e.slice(n));return l?(t.w=C.get(l[0].toLowerCase()),n+l[0].length):-1}function i(t,e,n){w.lastIndex=0;var l=w.exec(e.slice(n));return l?(t.w=x.get(l[0].toLowerCase()),n+l[0].length):-1}function r(t,e,n){T.lastIndex=0;var l=T.exec(e.slice(n));return l?(t.m=A.get(l[0].toLowerCase()),n+l[0].length):-1}function o(t,e,n){k.lastIndex=0;var l=k.exec(e.slice(n));return l?(t.m=S.get(l[0].toLowerCase()),n+l[0].length):-1}function s(t,e,l){return n(t,D.c.toString(),e,l)}function a(t,e,l){return n(t,D.x.toString(),e,l)}function u(t,e,l){return n(t,D.X.toString(),e,l)}function c(t,e,n){var l=b.get(e.slice(n,n+=2).toLowerCase());return null==l?-1:(t.p=l,n)}var d=t.dateTime,h=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ps=Bt;var e=new ps;return e._=t,l(e)}finally{ps=Date}}var l=e(t);return n.parse=function(t){try{ps=Bt;var e=l.parse(t);return e&&e._}finally{ps=Date}},n.toString=l.toString,n},e.multi=e.utc.multi=ae;var b=so.map(),w=Ut(g),x=Wt(g),_=Ut(m),C=Wt(m),k=Ut(v),S=Wt(v),T=Ut(y),A=Wt(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var D={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(d),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+fs.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(fs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(fs.mondayOfYear(t),e,2)},x:e(h),X:e(f),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},M={a:l,A:i,b:r,B:o,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:re,m:Qt,M:le,p:c,S:ie,U:Yt,w:Vt,W:Xt,x:a,X:u,y:Zt,Y:Gt,Z:Kt,"%":se};return e}function qt(t,e,n){var l=0>t?"-":"",i=(l?-t:t)+"",r=i.length;return l+(n>r?new Array(n-r+1).join(e)+i:i)}function Ut(t){return new RegExp("^(?:"+t.map(so.requote).join("|")+")","i")}function Wt(t){for(var e=new u,n=-1,l=t.length;++n<l;)e.set(t[n].toLowerCase(),n);return e}function Vt(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n,n+1));return l?(t.w=+l[0],n+l[0].length):-1}function Yt(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n));return l?(t.U=+l[0],n+l[0].length):-1}function Xt(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n));return l?(t.W=+l[0],n+l[0].length):-1}function Gt(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n,n+4));return l?(t.y=+l[0],n+l[0].length):-1}function Zt(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n,n+2));return l?(t.y=Jt(+l[0]),n+l[0].length):-1}function Kt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function Qt(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n,n+2));return l?(t.m=l[0]-1,n+l[0].length):-1}function te(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n,n+2));return l?(t.d=+l[0],n+l[0].length):-1}function ee(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n,n+3));return l?(t.j=+l[0],n+l[0].length):-1}function ne(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n,n+2));return l?(t.H=+l[0],n+l[0].length):-1}function le(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n,n+2));return l?(t.M=+l[0],n+l[0].length):-1}function ie(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n,n+2));return l?(t.S=+l[0],n+l[0].length):-1}function re(t,e,n){vs.lastIndex=0;var l=vs.exec(e.slice(n,n+3));return l?(t.L=+l[0],n+l[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",l=wo(e)/60|0,i=wo(e)%60;return n+qt(l,"0",2)+qt(i,"0",2)}function se(t,e,n){ys.lastIndex=0;var l=ys.exec(e.slice(n,n+1));return l?n+l[0].length:-1}function ae(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,l=t[n];!l[1](e);)l=t[++n];return l[0](e)}}function ue(){}function ce(t,e,n){var l=n.s=t+e,i=l-t,r=l-i;n.t=t-r+(e-i)}function de(t,e){t&&_s.hasOwnProperty(t.type)&&_s[t.type](t,e)}function he(t,e,n){var l,i=-1,r=t.length-n;for(e.lineStart();++i<r;)l=t[i],e.point(l[0],l[1],l[2]);e.lineEnd()}function fe(t,e){var n=-1,l=t.length;for(e.polygonStart();++n<l;)he(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=Ho,e=e*Ho/2+Lo/4;var n=t-l,o=n>=0?1:-1,s=o*n,a=Math.cos(e),u=Math.sin(e),c=r*u,d=i*a+c*Math.cos(s),h=c*o*Math.sin(s);ks.add(Math.atan2(h,d)),l=t,i=a,r=u}var e,n,l,i,r;Ss.point=function(o,s){Ss.point=t,l=(e=o)*Ho,i=Math.cos(s=(n=s)*Ho/2+Lo/4),r=Math.sin(s)},Ss.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],l=Math.cos(n);return[l*Math.cos(e),l*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function be(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function we(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function _e(t,e){return wo(t[0]-e[0])<Po&&wo(t[1]-e[1])<Po}function Ce(t,e){t*=Ho;var n=Math.cos(e*=Ho);ke(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ke(t,e,n){++Ts,Ds+=(t-Ds)/Ts,Ms+=(e-Ms)/Ts,js+=(n-js)/Ts}function Se(){function t(t,i){t*=Ho;var r=Math.cos(i*=Ho),o=r*Math.cos(t),s=r*Math.sin(t),a=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*a-l*s)*u+(u=l*o-e*a)*u+(u=e*s-n*o)*u),e*o+n*s+l*a);As+=u,Es+=u*(e+(e=o)),Os+=u*(n+(n=s)),Is+=u*(l+(l=a)),ke(e,n,l)}var e,n,l;Ns.point=function(i,r){i*=Ho;var o=Math.cos(r*=Ho);e=o*Math.cos(i),n=o*Math.sin(i),l=Math.sin(r),Ns.point=t,ke(e,n,l)}}function Te(){Ns.point=Ce}function Ae(){function t(t,e){t*=Ho;var n=Math.cos(e*=Ho),o=n*Math.cos(t),s=n*Math.sin(t),a=Math.sin(e),u=i*a-r*s,c=r*o-l*a,d=l*s-i*o,h=Math.sqrt(u*u+c*c+d*d),f=l*o+i*s+r*a,p=h&&-tt(f)/h,g=Math.atan2(h,f);$s+=p*u,Fs+=p*c,Ps+=p*d,As+=g,Es+=g*(l+(l=o)),Os+=g*(i+(i=s)),Is+=g*(r+(r=a)),ke(l,i,r)}var e,n,l,i,r;Ns.point=function(o,s){e=o,n=s,Ns.point=t,o*=Ho;var a=Math.cos(s*=Ho);l=a*Math.cos(o),i=a*Math.sin(o),r=Math.sin(s),ke(l,i,r)},Ns.lineEnd=function(){t(e,n),Ns.lineEnd=Te,Ns.point=Ce}}function De(t,e){function n(n,l){return n=t(n,l),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,l){return n=e.invert(n,l),n&&t.invert(n[0],n[1])}),n}function Me(){return!0}function je(t,e,n,l,i){var r=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],l=t[e];if(_e(n,l)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var a=new Oe(n,t,null,!0),u=new Oe(n,null,a,!1);a.o=u,r.push(a),o.push(u),a=new Oe(l,t,null,!1),u=new Oe(l,null,a,!0),a.o=u,r.push(a),o.push(u)}}),o.sort(e),Ee(r),Ee(o),r.length){for(var s=0,a=n,u=o.length;u>s;++s)o[s].e=a=!a;for(var c,d,h=r[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,u=c.length;u>s;++s)i.point((d=c[s])[0],d[1]);else l(f.x,f.n.x,1,i);f=f.n}else{if(p){c=f.p.z;for(var s=c.length-1;s>=0;--s)i.point((d=c[s])[0],d[1])}else l(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);i.lineEnd()}}}function Ee(t){if(e=t.length){for(var e,n,l=0,i=t[0];++l<e;)i.n=n=t[l],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Oe(t,e,n,l){this.x=t,this.z=e,this.o=n,this.e=l,this.v=!1,this.n=this.p=null}function Ie(t,e,n,l){return function(i,r){function o(e,n){var l=i(e,n);t(e=l[0],n=l[1])&&r.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function a(){y.point=s,m.lineStart()}function u(){y.point=o,m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);w.point(n[0],n[1])}function d(){w.lineStart(),g=[]}function h(){c(g[0][0],g[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),l=n.length;if(g.pop(),p.push(g),g=null,l)if(1&e){t=n[0];var i,l=t.length-1,o=-1;if(l>0){for(x||(r.polygonStart(),x=!0),r.lineStart();++o<l;)r.point((i=t[o])[0],i[1]);r.lineEnd()}}else l>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter($e))}var f,p,g,m=e(r),v=i.invert(l[0],l[1]),y={point:o,lineStart:a,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=d,y.lineEnd=h,f=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=a,y.lineEnd=u,f=so.merge(f);var t=Re(v,p);f.length?(x||(r.polygonStart(),x=!0),je(f,Pe,t,n,r)):t&&(x||(r.polygonStart(),x=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),x&&(r.polygonEnd(),x=!1),f=p=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}},b=Fe(),w=e(b),x=!1;return y}}function $e(t){return t.length>1}function Fe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:x,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Pe(t,e){return((t=t.x)[0]<0?t[1]-zo-Po:zo-t[1])-((e=e.x)[0]<0?e[1]-zo-Po:zo-e[1])}function Ne(t){var e,n=NaN,l=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,o){var s=r>0?Lo:-Lo,a=wo(r-n);wo(a-Lo)<Po?(t.point(n,l=(l+o)/2>0?zo:-zo),t.point(i,l),t.lineEnd(),t.lineStart(),t.point(s,l),t.point(r,l),e=0):i!==s&&a>=Lo&&(wo(n-i)<Po&&(n-=i*Po),wo(r-s)<Po&&(r-=s*Po),l=Le(n,l,r,o),t.point(i,l),t.lineEnd(),t.lineStart(),t.point(s,l),e=0),t.point(n=r,l=o),i=s},lineEnd:function(){t.lineEnd(),n=l=NaN},clean:function(){return 2-e}}}function Le(t,e,n,l){var i,r,o=Math.sin(t-n);return wo(o)>Po?Math.atan((Math.sin(e)*(r=Math.cos(l))*Math.sin(n)-Math.sin(l)*(i=Math.cos(e))*Math.sin(t))/(i*r*o)):(e+l)/2}function Be(t,e,n,l){var i;if(null==t)i=n*zo,l.point(-Lo,i),l.point(0,i),l.point(Lo,i),l.point(Lo,0),l.point(Lo,-i),l.point(0,-i),l.point(-Lo,-i),l.point(-Lo,0),l.point(-Lo,i);else if(wo(t[0]-e[0])>Po){var r=t[0]<e[0]?Lo:-Lo;i=n*r/2,l.point(-r,i),l.point(0,i),l.point(r,i)}else l.point(e[0],e[1])}function Re(t,e){var n=t[0],l=t[1],i=[Math.sin(n),-Math.cos(n),0],r=0,o=0;ks.reset();for(var s=0,a=e.length;a>s;++s){var u=e[s],c=u.length;if(c)for(var d=u[0],h=d[0],f=d[1]/2+Lo/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+Lo/4,b=Math.sin(y),w=Math.cos(y),x=v-h,_=x>=0?1:-1,C=_*x,k=C>Lo,S=p*b;if(ks.add(Math.atan2(S*_*Math.sin(C),g*w+S*Math.cos(C))),r+=k?x+_*Bo:x,k^h>=n^v>=n){var T=ve(ge(d),ge(t));we(T);var A=ve(i,T);we(A);var D=(k^x>=0?-1:1)*et(A[2]);(l>D||l===D&&(T[0]||T[1]))&&(o+=k^x>=0?1:-1)}if(!m++)break;h=v,p=b,g=w,d=t}}return(-Po>r||Po>r&&0>ks)^1&o}function ze(t){function e(t,e){return Math.cos(t)*Math.cos(e)>r}function n(t){var n,r,a,u,c;return{lineStart:function(){u=a=!1,c=1},point:function(d,h){var f,p=[d,h],g=e(d,h),m=o?g?0:i(d,h):g?i(d+(0>d?Lo:-Lo),h):0;if(!n&&(u=a=g)&&t.lineStart(),g!==a&&(f=l(n,p),(_e(n,f)||_e(p,f))&&(p[0]+=Po,p[1]+=Po,g=e(p[0],p[1]))),g!==a)c=0,g?(t.lineStart(),f=l(p,n),t.point(f[0],f[1])):(f=l(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(s&&n&&o^g){var v;m&r||!(v=l(p,n,!0))||(c=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&_e(n,p)||t.point(p[0],p[1]),n=p,a=g,r=m},lineEnd:function(){a&&t.lineEnd(),n=null},clean:function(){return c|(u&&a)<<1}}}function l(t,e,n){var l=ge(t),i=ge(e),o=[1,0,0],s=ve(l,i),a=me(s,s),u=s[0],c=a-u*u;if(!c)return!n&&t;var d=r*a/c,h=-r*u/c,f=ve(o,s),p=be(o,d),g=be(s,h);ye(p,g);var m=f,v=me(p,m),y=me(m,m),b=v*v-y*(me(p,p)-1);if(!(0>b)){var w=Math.sqrt(b),x=be(m,(-v-w)/y);if(ye(x,p),x=xe(x),!n)return x;var _,C=t[0],k=e[0],S=t[1],T=e[1];C>k&&(_=C,C=k,k=_);var A=k-C,D=wo(A-Lo)<Po,M=D||Po>A;if(!D&&S>T&&(_=S,S=T,T=_),M?D?S+T>0^x[1]<(wo(x[0]-C)<Po?S:T):S<=x[1]&&x[1]<=T:A>Lo^(C<=x[0]&&x[0]<=k)){var j=be(m,(-v+w)/y);return ye(j,p),[x,xe(j)]}}}function i(e,n){var l=o?t:Lo-t,i=0;return-l>e?i|=1:e>l&&(i|=2),-l>n?i|=4:n>l&&(i|=8),i}var r=Math.cos(t),o=r>0,s=wo(r)>Po,a=gn(t,6*Ho);return Ie(e,n,a,o?[0,-t]:[-Lo,t-Lo])}function He(t,e,n,l){return function(i){var r,o=i.a,s=i.b,a=o.x,u=o.y,c=s.x,d=s.y,h=0,f=1,p=c-a,g=d-u;if(r=t-a,p||!(r>0)){if(r/=p,0>p){if(h>r)return;f>r&&(f=r)}else if(p>0){if(r>f)return;r>h&&(h=r)}if(r=n-a,p||!(0>r)){if(r/=p,0>p){if(r>f)return;r>h&&(h=r)}else if(p>0){if(h>r)return;f>r&&(f=r)}if(r=e-u,g||!(r>0)){if(r/=g,0>g){if(h>r)return;f>r&&(f=r)}else if(g>0){if(r>f)return;r>h&&(h=r)}if(r=l-u,g||!(0>r)){if(r/=g,0>g){if(r>f)return;r>h&&(h=r)}else if(g>0){if(h>r)return;f>r&&(f=r)}return h>0&&(i.a={x:a+h*p,y:u+h*g}),1>f&&(i.b={x:a+f*p,y:u+f*g}),i}}}}}}function qe(t,e,n,l){function i(l,i){return wo(l[0]-t)<Po?i>0?0:3:wo(l[0]-n)<Po?i>0?2:1:wo(l[1]-e)<Po?i>0?1:0:i>0?3:2}function r(t,e){return o(t.x,e.x)}function o(t,e){var n=i(t,1),l=i(e,1);return n!==l?n-l:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function a(t){for(var e=0,n=m.length,l=t[1],i=0;n>i;++i)for(var r,o=1,s=m[i],a=s.length,u=s[0];a>o;++o)r=s[o],u[1]<=l?r[1]>l&&Q(u,r,t)>0&&++e:r[1]<=l&&Q(u,r,t)<0&&--e,u=r;return 0!==e}function u(r,s,a,u){var c=0,d=0;if(null==r||(c=i(r,a))!==(d=i(s,a))||o(r,s)<0^a>0){do u.point(0===c||3===c?t:n,c>1?l:e);while((c=(c+a+4)%4)!==d)}else u.point(s[0],s[1])}function c(i,r){return i>=t&&n>=i&&r>=e&&l>=r}function d(t,e){c(t,e)&&s.point(t,e)}function h(){M.point=p,m&&m.push(v=[]),k=!0,C=!1,x=_=NaN}function f(){g&&(p(y,b),w&&C&&A.rejoin(),g.push(A.buffer())),M.point=d,C&&s.lineEnd()}function p(t,e){t=Math.max(-Bs,Math.min(Bs,t)),e=Math.max(-Bs,Math.min(Bs,e));var n=c(t,e);if(m&&v.push([t,e]),k)y=t,b=e,w=n,k=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&C)s.point(t,e);else{var l={a:{x:x,y:_},b:{x:t,y:e}};D(l)?(C||(s.lineStart(),s.point(l.a.x,l.a.y)),s.point(l.b.x,l.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(t,e),S=!1)}x=t,_=e,C=n}var g,m,v,y,b,w,x,_,C,k,S,T=s,A=Fe(),D=He(t,e,n,l),M={point:d,lineStart:h,lineEnd:f,polygonStart:function(){s=A,g=[],m=[],S=!0},polygonEnd:function(){s=T,g=so.merge(g);var e=a([t,l]),n=S&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),i&&je(g,r,e,u,s),s.polygonEnd()),g=m=v=null}};return M}}function Ue(t){var e=0,n=Lo/3,l=sn(t),i=l(e,n);return i.parallels=function(t){return arguments.length?l(e=t[0]*Lo/180,n=t[1]*Lo/180):[e/Lo*180,n/Lo*180]},i}function We(t,e){function n(t,e){var n=Math.sqrt(r-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}var l=Math.sin(t),i=(l+Math.sin(e))/2,r=1+l*(2*i-l),o=Math.sqrt(r)/i;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,et((r-(t*t+n*n)*i*i)/(2*i))]},n}function Ve(){function t(t,e){zs+=i*t-l*e,l=t,i=e}var e,n,l,i;Vs.point=function(r,o){Vs.point=t,e=l=r,n=i=o},Vs.lineEnd=function(){t(e,n)}}function Ye(t,e){Hs>t&&(Hs=t),t>Us&&(Us=t),qs>e&&(qs=e),e>Ws&&(Ws=e)}function Xe(){function t(t,e){o.push("M",t,",",e,r)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function l(){s.point=t}function i(){o.push("Z")}var r=Ge(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:l,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=l,s.point=t},pointRadius:function(t){return r=Ge(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Ge(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ze(t,e){Ds+=t,Ms+=e,++js}function Ke(){function t(t,l){var i=t-e,r=l-n,o=Math.sqrt(i*i+r*r);Es+=o*(e+t)/2,Os+=o*(n+l)/2,Is+=o,Ze(e=t,n=l)}var e,n;Xs.point=function(l,i){Xs.point=t,Ze(e=l,n=i)}}function Je(){Xs.point=Ze}function Qe(){function t(t,e){var n=t-l,r=e-i,o=Math.sqrt(n*n+r*r);Es+=o*(l+t)/2,Os+=o*(i+e)/2,Is+=o,o=i*t-l*e,$s+=o*(l+t),Fs+=o*(i+e),Ps+=3*o,Ze(l=t,i=e)}var e,n,l,i;Xs.point=function(r,o){Xs.point=t,Ze(e=l=r,n=i=o)},Xs.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Bo)}function n(e,n){t.moveTo(e,n),s.point=l}function l(e,n){t.lineTo(e,n)}function i(){s.point=e}function r(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return o=t,s},result:x};return s}function en(t){function e(t){return(s?l:n)(t)}function n(e){return rn(e,function(n,l){n=t(n,l),e.point(n[0],n[1])})}function l(e){function n(n,l){n=t(n,l),e.point(n[0],n[1])}function l(){b=NaN,k.point=r,e.lineStart()}function r(n,l){var r=ge([n,l]),o=t(n,l);i(b,w,y,x,_,C,b=o[0],w=o[1],y=n,x=r[0],_=r[1],C=r[2],s,e),e.point(b,w)}function o(){k.point=n,e.lineEnd()}function a(){l(),k.point=u,k.lineEnd=c}function u(t,e){r(d=t,h=e),f=b,p=w,g=x,m=_,v=C,k.point=r}function c(){i(b,w,y,x,_,C,f,p,d,g,m,v,s,e),k.lineEnd=o,o()}var d,h,f,p,g,m,v,y,b,w,x,_,C,k={point:n,lineStart:l,lineEnd:o,polygonStart:function(){e.polygonStart(),k.lineStart=a},polygonEnd:function(){e.polygonEnd(),k.lineStart=l}};return k}function i(e,n,l,s,a,u,c,d,h,f,p,g,m,v){var y=c-e,b=d-n,w=y*y+b*b;if(w>4*r&&m--){var x=s+f,_=a+p,C=u+g,k=Math.sqrt(x*x+_*_+C*C),S=Math.asin(C/=k),T=wo(wo(C)-1)<Po||wo(l-h)<Po?(l+h)/2:Math.atan2(_,x),A=t(T,S),D=A[0],M=A[1],j=D-e,E=M-n,O=b*j-y*E;
(O*O/w>r||wo((y*j+b*E)/w-.5)>.3||o>s*f+a*p+u*g)&&(i(e,n,l,s,a,u,D,M,T,x/=k,_/=k,C,m,v),v.point(D,M),i(D,M,T,x,_,C,c,d,h,f,p,g,m,v))}}var r=.5,o=Math.cos(30*Ho),s=16;return e.precision=function(t){return arguments.length?(s=(r=t*t)>0&&16,e):Math.sqrt(r)},e}function nn(t){var e=en(function(e,n){return t([e*qo,n*qo])});return function(t){return an(e(t))}}function ln(t){this.stream=t}function rn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*Ho,t[1]*Ho),[t[0]*h+a,u-t[1]*h]}function n(t){return t=s.invert((t[0]-a)/h,(u-t[1])/h),t&&[t[0]*qo,t[1]*qo]}function l(){s=De(o=dn(v,b,w),r);var t=r(g,m);return a=f-t[0]*h,u=p+t[1]*h,i()}function i(){return c&&(c.valid=!1,c=null),e}var r,o,s,a,u,c,d=en(function(t,e){return t=r(t,e),[t[0]*h+a,u-t[1]*h]}),h=150,f=480,p=250,g=0,m=0,v=0,b=0,w=0,x=Ls,_=y,C=null,k=null;return e.stream=function(t){return c&&(c.valid=!1),c=an(x(o,d(_(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(C=t,Ls):ze((C=+t)*Ho),i()):C},e.clipExtent=function(t){return arguments.length?(k=t,_=t?qe(t[0][0],t[0][1],t[1][0],t[1][1]):y,i()):k},e.scale=function(t){return arguments.length?(h=+t,l()):h},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],l()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ho,m=t[1]%360*Ho,l()):[g*qo,m*qo]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ho,b=t[1]%360*Ho,w=t.length>2?t[2]%360*Ho:0,l()):[v*qo,b*qo,w*qo]},so.rebind(e,d,"precision"),function(){return r=t.apply(this,arguments),e.invert=r.invert&&n,l()}}function an(t){return rn(t,function(e,n){t.point(e*Ho,n*Ho)})}function un(t,e){return[t,e]}function cn(t,e){return[t>Lo?t-Bo:-Lo>t?t+Bo:t,e]}function dn(t,e,n){return t?e||n?De(fn(t),pn(e,n)):fn(t):e||n?pn(e,n):cn}function hn(t){return function(e,n){return e+=t,[e>Lo?e-Bo:-Lo>e?e+Bo:e,n]}}function fn(t){var e=hn(t);return e.invert=hn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,a=Math.sin(t)*n,u=Math.sin(e),c=u*l+s*i;return[Math.atan2(a*r-c*o,s*l-u*i),et(c*r+a*o)]}var l=Math.cos(t),i=Math.sin(t),r=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,a=Math.sin(t)*n,u=Math.sin(e),c=u*r-a*o;return[Math.atan2(a*r+u*o,s*l+c*i),et(c*l-s*i)]},n}function gn(t,e){var n=Math.cos(t),l=Math.sin(t);return function(i,r,o,s){var a=o*e;null!=i?(i=mn(n,i),r=mn(n,r),(o>0?r>i:i>r)&&(i+=o*Bo)):(i=t+o*Bo,r=t-.5*a);for(var u,c=i;o>0?c>r:r>c;c-=a)s.point((u=xe([n,-l*Math.cos(c),-l*Math.sin(c)]))[0],u[1])}}function mn(t,e){var n=ge(e);n[0]-=t,we(n);var l=tt(-n[1]);return((-n[2]<0?-l:l)+2*Math.PI-Po)%(2*Math.PI)}function vn(t,e,n){var l=so.range(t,e-Po,n).concat(e);return function(t){return l.map(function(e){return[t,e]})}}function yn(t,e,n){var l=so.range(t,e-Po,n).concat(e);return function(t){return l.map(function(e){return[e,t]})}}function bn(t){return t.source}function wn(t){return t.target}function xn(t,e,n,l){var i=Math.cos(e),r=Math.sin(e),o=Math.cos(l),s=Math.sin(l),a=i*Math.cos(t),u=i*Math.sin(t),c=o*Math.cos(n),d=o*Math.sin(n),h=2*Math.asin(Math.sqrt(rt(l-e)+i*o*rt(n-t))),f=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*f,n=Math.sin(h-t)*f,l=n*a+e*c,i=n*u+e*d,o=n*r+e*s;return[Math.atan2(i,l)*qo,Math.atan2(o,Math.sqrt(l*l+i*i))*qo]}:function(){return[t*qo,e*qo]};return p.distance=h,p}function _n(){function t(t,i){var r=Math.sin(i*=Ho),o=Math.cos(i),s=wo((t*=Ho)-e),a=Math.cos(s);Gs+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=l*r-n*o*a)*s),n*r+l*o*a),e=t,n=r,l=o}var e,n,l;Zs.point=function(i,r){e=i*Ho,n=Math.sin(r*=Ho),l=Math.cos(r),Zs.point=t},Zs.lineEnd=function(){Zs.point=Zs.lineEnd=x}}function Cn(t,e){function n(e,n){var l=Math.cos(e),i=Math.cos(n),r=t(l*i);return[r*i*Math.sin(e),r*Math.sin(n)]}return n.invert=function(t,n){var l=Math.sqrt(t*t+n*n),i=e(l),r=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*r,l*o),Math.asin(l&&n*r/l)]},n}function kn(t,e){function n(t,e){o>0?-zo+Po>e&&(e=-zo+Po):e>zo-Po&&(e=zo-Po);var n=o/Math.pow(i(e),r);return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var l=Math.cos(t),i=function(t){return Math.tan(Lo/4+t/2)},r=t===e?Math.sin(t):Math.log(l/Math.cos(e))/Math.log(i(e)/i(t)),o=l*Math.pow(i(t),r)/r;return r?(n.invert=function(t,e){var n=o-e,l=J(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(o/l,1/r))-zo]},n):Tn}function Sn(t,e){function n(t,e){var n=r-e;return[n*Math.sin(i*t),r-n*Math.cos(i*t)]}var l=Math.cos(t),i=t===e?Math.sin(t):(l-Math.cos(e))/(e-t),r=l/i+t;return wo(i)<Po?un:(n.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/i,r-J(i)*Math.sqrt(t*t+n*n)]},n)}function Tn(t,e){return[t,Math.log(Math.tan(Lo/4+e/2))]}function An(t){var e,n=on(t),l=n.scale,i=n.translate,r=n.clipExtent;return n.scale=function(){var t=l.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=r.apply(n,arguments);if(o===n){if(e=null==t){var s=Lo*l(),a=i();r([[a[0]-s,a[1]-s],[a[0]+s,a[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function Dn(t,e){return[Math.log(Math.tan(Lo/4+e/2)),-t]}function Mn(t){return t[0]}function jn(t){return t[1]}function En(t){for(var e=t.length,n=[0,1],l=2,i=2;e>i;i++){for(;l>1&&Q(t[n[l-2]],t[n[l-1]],t[i])<=0;)--l;n[l++]=i}return n.slice(0,l)}function On(t,e){return t[0]-e[0]||t[1]-e[1]}function In(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function $n(t,e,n,l){var i=t[0],r=n[0],o=e[0]-i,s=l[0]-r,a=t[1],u=n[1],c=e[1]-a,d=l[1]-u,h=(s*(a-u)-d*(i-r))/(d*o-s*c);return[i+h*o,a+h*c]}function Fn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Pn(){ll(this),this.edge=this.site=this.circle=null}function Nn(t){var e=aa.pop()||new Pn;return e.site=t,e}function Ln(t){Xn(t),ra.remove(t),aa.push(t),ll(t)}function Bn(t){var e=t.circle,n=e.x,l=e.cy,i={x:n,y:l},r=t.P,o=t.N,s=[t];Ln(t);for(var a=r;a.circle&&wo(n-a.circle.x)<Po&&wo(l-a.circle.cy)<Po;)r=a.P,s.unshift(a),Ln(a),a=r;s.unshift(a),Xn(a);for(var u=o;u.circle&&wo(n-u.circle.x)<Po&&wo(l-u.circle.cy)<Po;)o=u.N,s.push(u),Ln(u),u=o;s.push(u),Xn(u);var c,d=s.length;for(c=1;d>c;++c)u=s[c],a=s[c-1],tl(u.edge,a.site,u.site,i);a=s[0],u=s[d-1],u.edge=Jn(a.site,u.site,null,i),Yn(a),Yn(u)}function Rn(t){for(var e,n,l,i,r=t.x,o=t.y,s=ra._;s;)if(l=zn(s,o)-r,l>Po)s=s.L;else{if(i=r-Hn(s,o),!(i>Po)){l>-Po?(e=s.P,n=s):i>-Po?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var a=Nn(t);if(ra.insert(e,a),e||n){if(e===n)return Xn(e),n=Nn(e.site),ra.insert(a,n),a.edge=n.edge=Jn(e.site,a.site),Yn(e),void Yn(n);if(!n)return void(a.edge=Jn(e.site,a.site));Xn(e),Xn(n);var u=e.site,c=u.x,d=u.y,h=t.x-c,f=t.y-d,p=n.site,g=p.x-c,m=p.y-d,v=2*(h*m-f*g),y=h*h+f*f,b=g*g+m*m,w={x:(m*y-f*b)/v+c,y:(h*b-g*y)/v+d};tl(n.edge,u,p,w),a.edge=Jn(u,t,null,w),n.edge=Jn(t,p,null,w),Yn(e),Yn(n)}}function zn(t,e){var n=t.site,l=n.x,i=n.y,r=i-e;if(!r)return l;var o=t.P;if(!o)return-(1/0);n=o.site;var s=n.x,a=n.y,u=a-e;if(!u)return s;var c=s-l,d=1/r-1/u,h=c/u;return d?(-h+Math.sqrt(h*h-2*d*(c*c/(-2*u)-a+u/2+i-r/2)))/d+l:(l+s)/2}function Hn(t,e){var n=t.N;if(n)return zn(n,e);var l=t.site;return l.y===e?l.x:1/0}function qn(t){this.site=t,this.edges=[]}function Un(t){for(var e,n,l,i,r,o,s,a,u,c,d=t[0][0],h=t[1][0],f=t[0][1],p=t[1][1],g=ia,m=g.length;m--;)if(r=g[m],r&&r.prepare())for(s=r.edges,a=s.length,o=0;a>o;)c=s[o].end(),l=c.x,i=c.y,u=s[++o%a].start(),e=u.x,n=u.y,(wo(l-e)>Po||wo(i-n)>Po)&&(s.splice(o,0,new el(Qn(r.site,c,wo(l-d)<Po&&p-i>Po?{x:d,y:wo(e-d)<Po?n:p}:wo(i-p)<Po&&h-l>Po?{x:wo(n-p)<Po?e:h,y:p}:wo(l-h)<Po&&i-f>Po?{x:h,y:wo(e-h)<Po?n:f}:wo(i-f)<Po&&l-d>Po?{x:wo(n-f)<Po?e:d,y:f}:null),r.site,null)),++a)}function Wn(t,e){return e.angle-t.angle}function Vn(){ll(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(t){var e=t.P,n=t.N;if(e&&n){var l=e.site,i=t.site,r=n.site;if(l!==r){var o=i.x,s=i.y,a=l.x-o,u=l.y-s,c=r.x-o,d=r.y-s,h=2*(a*d-u*c);if(!(h>=-No)){var f=a*a+u*u,p=c*c+d*d,g=(d*f-u*p)/h,m=(a*p-c*f)/h,d=m+s,v=ua.pop()||new Vn;v.arc=t,v.site=i,v.x=g+o,v.y=d+Math.sqrt(g*g+m*m),v.cy=d,t.circle=v;for(var y=null,b=sa._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}sa.insert(y,v),y||(oa=v)}}}}function Xn(t){var e=t.circle;e&&(e.P||(oa=e.N),sa.remove(e),ua.push(e),ll(e),t.circle=null)}function Gn(t){for(var e,n=la,l=He(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Zn(e,t)||!l(e)||wo(e.a.x-e.b.x)<Po&&wo(e.a.y-e.b.y)<Po)&&(e.a=e.b=null,n.splice(i,1))}function Zn(t,e){var n=t.b;if(n)return!0;var l,i,r=t.a,o=e[0][0],s=e[1][0],a=e[0][1],u=e[1][1],c=t.l,d=t.r,h=c.x,f=c.y,p=d.x,g=d.y,m=(h+p)/2,v=(f+g)/2;if(g===f){if(o>m||m>=s)return;if(h>p){if(r){if(r.y>=u)return}else r={x:m,y:a};n={x:m,y:u}}else{if(r){if(r.y<a)return}else r={x:m,y:u};n={x:m,y:a}}}else if(l=(h-p)/(g-f),i=v-l*m,-1>l||l>1)if(h>p){if(r){if(r.y>=u)return}else r={x:(a-i)/l,y:a};n={x:(u-i)/l,y:u}}else{if(r){if(r.y<a)return}else r={x:(u-i)/l,y:u};n={x:(a-i)/l,y:a}}else if(g>f){if(r){if(r.x>=s)return}else r={x:o,y:l*o+i};n={x:s,y:l*s+i}}else{if(r){if(r.x<o)return}else r={x:s,y:l*s+i};n={x:o,y:l*o+i}}return t.a=r,t.b=n,!0}function Kn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Jn(t,e,n,l){var i=new Kn(t,e);return la.push(i),n&&tl(i,t,e,n),l&&tl(i,e,t,l),ia[t.i].edges.push(new el(i,t,e)),ia[e.i].edges.push(new el(i,e,t)),i}function Qn(t,e,n){var l=new Kn(t,null);return l.a=e,l.b=n,la.push(l),l}function tl(t,e,n,l){t.a||t.b?t.l===n?t.b=l:t.a=l:(t.a=l,t.l=e,t.r=n)}function el(t,e,n){var l=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-l.x,l.y-i.y):Math.atan2(l.x-i.x,i.y-l.y)}function nl(){this._=null}function ll(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function il(t,e){var n=e,l=e.R,i=n.U;i?i.L===n?i.L=l:i.R=l:t._=l,l.U=i,n.U=l,n.R=l.L,n.R&&(n.R.U=n),l.L=n}function rl(t,e){var n=e,l=e.L,i=n.U;i?i.L===n?i.L=l:i.R=l:t._=l,l.U=i,n.U=l,n.L=l.R,n.L&&(n.L.U=n),l.R=n}function ol(t){for(;t.L;)t=t.L;return t}function sl(t,e){var n,l,i,r=t.sort(al).pop();for(la=[],ia=new Array(t.length),ra=new nl,sa=new nl;;)if(i=oa,r&&(!i||r.y<i.y||r.y===i.y&&r.x<i.x))r.x===n&&r.y===l||(ia[r.i]=new qn(r),Rn(r),n=r.x,l=r.y),r=t.pop();else{if(!i)break;Bn(i.arc)}e&&(Gn(e),Un(e));var o={cells:ia,edges:la};return ra=sa=la=ia=null,o}function al(t,e){return e.y-t.y||e.x-t.x}function ul(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function cl(t){return t.x}function dl(t){return t.y}function hl(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fl(t,e,n,l,i,r){if(!t(e,n,l,i,r)){var o=.5*(n+i),s=.5*(l+r),a=e.nodes;a[0]&&fl(t,a[0],n,l,o,s),a[1]&&fl(t,a[1],o,l,i,s),a[2]&&fl(t,a[2],n,s,o,r),a[3]&&fl(t,a[3],o,s,i,r)}}function pl(t,e,n,l,i,r,o){var s,a=1/0;return function u(t,c,d,h,f){if(!(c>r||d>o||l>h||i>f)){if(p=t.point){var p,g=e-t.x,m=n-t.y,v=g*g+m*m;if(a>v){var y=Math.sqrt(a=v);l=e-y,i=n-y,r=e+y,o=n+y,s=p}}for(var b=t.nodes,w=.5*(c+h),x=.5*(d+f),_=e>=w,C=n>=x,k=C<<1|_,S=k+4;S>k;++k)if(t=b[3&k])switch(3&k){case 0:u(t,c,d,w,x);break;case 1:u(t,w,d,h,x);break;case 2:u(t,c,x,w,f);break;case 3:u(t,w,x,h,f)}}}(t,l,i,r,o),s}function gl(t,e){t=so.rgb(t),e=so.rgb(e);var n=t.r,l=t.g,i=t.b,r=e.r-n,o=e.g-l,s=e.b-i;return function(t){return"#"+wt(Math.round(n+r*t))+wt(Math.round(l+o*t))+wt(Math.round(i+s*t))}}function ml(t,e){var n,l={},i={};for(n in t)n in e?l[n]=bl(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in l)i[n]=l[n](t);return i}}function vl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yl(t,e){var n,l,i,r=da.lastIndex=ha.lastIndex=0,o=-1,s=[],a=[];for(t+="",e+="";(n=da.exec(t))&&(l=ha.exec(e));)(i=l.index)>r&&(i=e.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(l=l[0])?s[o]?s[o]+=l:s[++o]=l:(s[++o]=null,a.push({i:o,x:vl(n,l)})),r=ha.lastIndex;return r<e.length&&(i=e.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?a[0]?(e=a[0].x,function(t){return e(t)+""}):function(){return e}:(e=a.length,function(t){for(var n,l=0;e>l;++l)s[(n=a[l]).i]=n.x(t);return s.join("")})}function bl(t,e){for(var n,l=so.interpolators.length;--l>=0&&!(n=so.interpolators[l](t,e)););return n}function wl(t,e){var n,l=[],i=[],r=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)l.push(bl(t[n],e[n]));for(;r>n;++n)i[n]=t[n];for(;o>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=l[n](t);return i}}function xl(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function _l(t){return function(e){return 1-t(1-e)}}function Cl(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function kl(t){return t*t}function Sl(t){return t*t*t}function Tl(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Al(t){return function(e){return Math.pow(e,t)}}function Dl(t){return 1-Math.cos(t*zo)}function Ml(t){return Math.pow(2,10*(t-1))}function jl(t){return 1-Math.sqrt(1-t*t)}function El(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Bo*Math.asin(1/t):(t=1,n=e/4),function(l){return 1+t*Math.pow(2,-10*l)*Math.sin((l-n)*Bo/e)}}function Ol(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Il(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function $l(t,e){t=so.hcl(t),e=so.hcl(e);var n=t.h,l=t.c,i=t.l,r=e.h-n,o=e.c-l,s=e.l-i;return isNaN(o)&&(o=0,l=isNaN(l)?e.c:l),isNaN(r)?(r=0,n=isNaN(n)?e.h:n):r>180?r-=360:-180>r&&(r+=360),function(t){return ct(n+r*t,l+o*t,i+s*t)+""}}function Fl(t,e){t=so.hsl(t),e=so.hsl(e);var n=t.h,l=t.s,i=t.l,r=e.h-n,o=e.s-l,s=e.l-i;return isNaN(o)&&(o=0,l=isNaN(l)?e.s:l),isNaN(r)?(r=0,n=isNaN(n)?e.h:n):r>180?r-=360:-180>r&&(r+=360),function(t){return at(n+r*t,l+o*t,i+s*t)+""}}function Pl(t,e){t=so.lab(t),e=so.lab(e);var n=t.l,l=t.a,i=t.b,r=e.l-n,o=e.a-l,s=e.b-i;return function(t){return ht(n+r*t,l+o*t,i+s*t)+""}}function Nl(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ll(t){var e=[t.a,t.b],n=[t.c,t.d],l=Rl(e),i=Bl(e,n),r=Rl(zl(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,l*=-1,i*=-1),this.rotate=(l?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*qo,this.translate=[t.e,t.f],this.scale=[l,r],this.skew=r?Math.atan2(i,r)*qo:0}function Bl(t,e){return t[0]*e[0]+t[1]*e[1]}function Rl(t){var e=Math.sqrt(Bl(t,t));return e&&(t[0]/=e,t[1]/=e),e}function zl(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hl(t){return t.length?t.pop()+",":""}function ql(t,e,n,l){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");l.push({i:i-4,x:vl(t[0],e[0])},{i:i-2,x:vl(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Ul(t,e,n,l){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),l.push({i:n.push(Hl(n)+"rotate(",null,")")-2,x:vl(t,e)})):e&&n.push(Hl(n)+"rotate("+e+")")}function Wl(t,e,n,l){t!==e?l.push({i:n.push(Hl(n)+"skewX(",null,")")-2,x:vl(t,e)}):e&&n.push(Hl(n)+"skewX("+e+")")}function Vl(t,e,n,l){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Hl(n)+"scale(",null,",",null,")");l.push({i:i-4,x:vl(t[0],e[0])},{i:i-2,x:vl(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Hl(n)+"scale("+e+")")}function Yl(t,e){var n=[],l=[];return t=so.transform(t),e=so.transform(e),ql(t.translate,e.translate,n,l),Ul(t.rotate,e.rotate,n,l),Wl(t.skew,e.skew,n,l),Vl(t.scale,e.scale,n,l),t=e=null,function(t){for(var e,i=-1,r=l.length;++i<r;)n[(e=l[i]).i]=e.x(t);return n.join("")}}function Xl(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Gl(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Zl(t){for(var e=t.source,n=t.target,l=Jl(e,n),i=[e];e!==l;)e=e.parent,i.push(e);for(var r=i.length;n!==l;)i.splice(r,0,n),n=n.parent;return i}function Kl(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Jl(t,e){if(t===e)return t;for(var n=Kl(t),l=Kl(e),i=n.pop(),r=l.pop(),o=null;i===r;)o=i,i=n.pop(),r=l.pop();return o}function Ql(t){t.fixed|=2}function ti(t){t.fixed&=-7}function ei(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ni(t){t.fixed&=-5}function li(t,e,n){var l=0,i=0;if(t.charge=0,!t.leaf)for(var r,o=t.nodes,s=o.length,a=-1;++a<s;)r=o[a],null!=r&&(li(r,e,n),t.charge+=r.charge,l+=r.charge*r.cx,i+=r.charge*r.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,l+=u*t.point.x,i+=u*t.point.y}t.cx=l/t.charge,t.cy=i/t.charge}function ii(t,e){return so.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ci,t}function ri(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(l=i.length))for(var l,i;--l>=0;)n.push(i[l])}function oi(t,e){for(var n=[t],l=[];null!=(t=n.pop());)if(l.push(t),(r=t.children)&&(i=r.length))for(var i,r,o=-1;++o<i;)n.push(r[o]);for(;null!=(t=l.pop());)e(t)}function si(t){return t.children}function ai(t){return t.value}function ui(t,e){return e.value-t.value}function ci(t){return so.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function di(t){return t.x}function hi(t){return t.y}function fi(t,e,n){t.y0=e,t.y=n}function pi(t){return so.range(t.length)}function gi(t){for(var e=-1,n=t[0].length,l=[];++e<n;)l[e]=0;return l}function mi(t){for(var e,n=1,l=0,i=t[0][1],r=t.length;r>n;++n)(e=t[n][1])>i&&(l=n,i=e);return l}function vi(t){return t.reduce(yi,0)}function yi(t,e){return t+e[1]}function bi(t,e){return wi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function wi(t,e){for(var n=-1,l=+t[0],i=(t[1]-l)/e,r=[];++n<=e;)r[n]=i*n+l;return r}function xi(t){return[so.min(t),so.max(t)]}function _i(t,e){return t.value-e.value}function Ci(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ki(t,e){t._pack_next=e,e._pack_prev=t}function Si(t,e){var n=e.x-t.x,l=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+l*l}function Ti(t){function e(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(u=n.length)){var n,l,i,r,o,s,a,u,c=1/0,d=-(1/0),h=1/0,f=-(1/0);if(n.forEach(Ai),l=n[0],l.x=-l.r,l.y=0,e(l),u>1&&(i=n[1],i.x=i.r,i.y=0,e(i),u>2))for(r=n[2],ji(l,i,r),e(r),Ci(l,r),l._pack_prev=r,Ci(r,i),i=l._pack_next,o=3;u>o;o++){ji(l,i,r=n[o]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Si(s,r)){p=1;break}if(1==p)for(a=l._pack_prev;a!==s._pack_prev&&!Si(a,r);a=a._pack_prev,m++);p?(m>g||g==m&&i.r<l.r?ki(l,i=s):ki(l=a,i),o--):(Ci(l,r),i=r,e(r))}var v=(c+d)/2,y=(h+f)/2,b=0;for(o=0;u>o;o++)r=n[o],r.x-=v,r.y-=y,b=Math.max(b,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=b,n.forEach(Di)}}function Ai(t){t._pack_next=t._pack_prev=t}function Di(t){delete t._pack_next,delete t._pack_prev}function Mi(t,e,n,l){var i=t.children;if(t.x=e+=l*t.x,t.y=n+=l*t.y,t.r*=l,i)for(var r=-1,o=i.length;++r<o;)Mi(i[r],e,n,l)}function ji(t,e,n){var l=t.r+n.r,i=e.x-t.x,r=e.y-t.y;if(l&&(i||r)){var o=e.r+n.r,s=i*i+r*r;o*=o,l*=l;var a=.5+(l-o)/(2*s),u=Math.sqrt(Math.max(0,2*o*(l+s)-(l-=s)*l-o*o))/(2*s);n.x=t.x+a*i+u*r,n.y=t.y+a*r-u*i}else n.x=t.x+l,n.y=t.y}function Ei(t,e){return t.parent==e.parent?1:2}function Oi(t){var e=t.children;return e.length?e[0]:t.t}function Ii(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function $i(t,e,n){var l=n/(e.i-t.i);e.c-=l,e.s+=n,t.c+=l,e.z+=n,e.m+=n}function Fi(t){for(var e,n=0,l=0,i=t.children,r=i.length;--r>=0;)e=i[r],e.z+=n,e.m+=n,n+=e.s+(l+=e.c)}function Pi(t,e,n){return t.a.parent===e.parent?t.a:n}function Ni(t){return 1+so.max(t,function(t){return t.y})}function Li(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Bi(t){var e=t.children;return e&&e.length?Bi(e[0]):t}function Ri(t){var e,n=t.children;return n&&(e=n.length)?Ri(n[e-1]):t}function zi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Hi(t,e){var n=t.x+e[3],l=t.y+e[0],i=t.dx-e[1]-e[3],r=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>r&&(l+=r/2,r=0),{x:n,y:l,dx:i,dy:r}}function qi(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ui(t){return t.rangeExtent?t.rangeExtent():qi(t.range())}function Wi(t,e,n,l){var i=n(t[0],t[1]),r=l(e[0],e[1]);return function(t){return r(i(t))}}function Vi(t,e){var n,l=0,i=t.length-1,r=t[l],o=t[i];return r>o&&(n=l,l=i,i=n,n=r,r=o,o=n),t[l]=e.floor(r),t[i]=e.ceil(o),t}function Yi(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Ca}function Xi(t,e,n,l){var i=[],r=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)i.push(n(t[o-1],t[o])),r.push(l(e[o-1],e[o]));return function(e){var n=so.bisect(t,e,1,s)-1;return r[n](i[n](e))}}function Gi(t,e,n,l){function i(){var i=Math.min(t.length,e.length)>2?Xi:Wi,a=l?Gl:Xl;return o=i(t,e,a,n),s=i(e,t,a,bl),r}function r(t){return o(t)}var o,s;return r.invert=function(t){return s(t)},r.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},r.range=function(t){return arguments.length?(e=t,i()):e},r.rangeRound=function(t){return r.range(t).interpolate(Nl)},r.clamp=function(t){return arguments.length?(l=t,i()):l},r.interpolate=function(t){return arguments.length?(n=t,i()):n},r.ticks=function(e){return Qi(t,e)},r.tickFormat=function(e,n){return tr(t,e,n)},r.nice=function(e){return Ki(t,e),i()},r.copy=function(){return Gi(t,e,n,l)},i()}function Zi(t,e){return so.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ki(t,e){return Vi(t,Yi(Ji(t,e)[2]))}function Ji(t,e){null==e&&(e=10);var n=qi(t),l=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(l/e)/Math.LN10)),r=e/l*i;return.15>=r?i*=10:.35>=r?i*=5:.75>=r&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Qi(t,e){return so.range.apply(so,Ji(t,e))}function tr(t,e,n){var l=Ji(t,e);if(n){var i=ds.exec(n);if(i.shift(),"s"===i[8]){var r=so.formatPrefix(Math.max(wo(l[0]),wo(l[1])));return i[7]||(i[7]="."+er(r.scale(l[2]))),i[8]="f",n=so.format(i.join("")),function(t){return n(r.scale(t))+r.symbol}}i[7]||(i[7]="."+nr(i[8],l)),n=i.join("")}else n=",."+er(l[2])+"f";return so.format(n)}function er(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function nr(t,e){var n=er(e[2]);return t in ka?Math.abs(n-er(Math.max(wo(e[0]),wo(e[1]))))+ +("e"!==t):n-2*("%"===t)}function lr(t,e,n,l){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function r(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(i(e))}return o.invert=function(e){return r(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((l=e.map(Number)).map(i)),o):l},o.base=function(n){return arguments.length?(e=+n,t.domain(l.map(i)),o):e},o.nice=function(){var e=Vi(l.map(i),n?Math:Ta);return t.domain(e),l=e.map(r),o},o.ticks=function(){var t=qi(l),o=[],s=t[0],a=t[1],u=Math.floor(i(s)),c=Math.ceil(i(a)),d=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var h=1;d>h;h++)o.push(r(u)*h);o.push(r(u))}else for(o.push(r(u));u++<c;)for(var h=d-1;h>0;h--)o.push(r(u)*h);for(u=0;o[u]<s;u++);for(c=o.length;o[c-1]>a;c--);o=o.slice(u,c)}return o},o.tickFormat=function(t,n){if(!arguments.length)return Sa;arguments.length<2?n=Sa:"function"!=typeof n&&(n=so.format(n));var l=Math.max(1,e*t/o.ticks().length);return function(t){var o=t/r(Math.round(i(t)));return e-.5>o*e&&(o*=e),l>=o?n(t):""}},o.copy=function(){return lr(t.copy(),e,n,l)},Zi(o,t)}function ir(t,e,n){function l(e){return t(i(e))}var i=rr(e),r=rr(1/e);return l.invert=function(e){return r(t.invert(e))},l.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),l):n},l.ticks=function(t){return Qi(n,t)},l.tickFormat=function(t,e){return tr(n,t,e)},l.nice=function(t){return l.domain(Ki(n,t))},l.exponent=function(o){return arguments.length?(i=rr(e=o),r=rr(1/e),t.domain(n.map(i)),l):e},l.copy=function(){return ir(t.copy(),e,n)},Zi(l,t)}function rr(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function or(t,e){function n(n){return r[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%r.length]}function l(e,n){return so.range(t.length).map(function(t){return e+n*t})}var i,r,o;return n.domain=function(l){if(!arguments.length)return t;t=[],i=new u;for(var r,o=-1,s=l.length;++o<s;)i.has(r=l[o])||i.set(r,t.push(r));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(r=t,o=0,e={t:"range",a:arguments},n):r},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var a=i[0],u=i[1],c=t.length<2?(a=(a+u)/2,0):(u-a)/(t.length-1+s);return r=l(a+c*s/2,c),o=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var a=i[0],u=i[1],c=t.length<2?(a=u=Math.round((a+u)/2),0):(u-a)/(t.length-1+s)|0;return r=l(a+Math.round(c*s/2+(u-a-(t.length-1+s)*c)/2),c),o=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,a){arguments.length<2&&(s=0),arguments.length<3&&(a=s);var u=i[1]<i[0],c=i[u-0],d=i[1-u],h=(d-c)/(t.length-s+2*a);return r=l(c+h*a,h),u&&r.reverse(),o=h*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,a){arguments.length<2&&(s=0),arguments.length<3&&(a=s);var u=i[1]<i[0],c=i[u-0],d=i[1-u],h=Math.floor((d-c)/(t.length-s+2*a));return r=l(c+Math.round((d-c-(t.length-s)*h)/2),h),u&&r.reverse(),o=Math.round(h*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return qi(e.a[0])},n.copy=function(){return or(t,e)},n.domain(t)}function sr(t,e){function r(){var n=0,l=e.length;for(s=[];++n<l;)s[n-1]=so.quantile(t,n/l);return o}function o(t){return isNaN(t=+t)?void 0:e[so.bisect(s,t)]}var s;return o.domain=function(e){return arguments.length?(t=e.map(l).filter(i).sort(n),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.quantiles=function(){return s},o.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},o.copy=function(){return sr(t,e)},r()}function ar(t,e,n){function l(e){return n[Math.max(0,Math.min(o,Math.floor(r*(e-t))))]}function i(){return r=n.length/(e-t),o=n.length-1,l}var r,o;return l.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},l.range=function(t){return arguments.length?(n=t,i()):n},l.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/r+t,[e,e+1/r]},l.copy=function(){return ar(t,e,n)},i()}function ur(t,e){function n(n){return n>=n?e[so.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ur(t,e)},n}function cr(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Qi(t,e)},e.tickFormat=function(e,n){return tr(t,e,n)},e.copy=function(){return cr(t)},e}function dr(){return 0}function hr(t){return t.innerRadius}function fr(t){return t.outerRadius}function pr(t){return t.startAngle}function gr(t){return t.endAngle}function mr(t){return t&&t.padAngle}function vr(t,e,n,l){return(t-n)*e-(e-l)*t>0?0:1}function yr(t,e,n,l,i){var r=t[0]-e[0],o=t[1]-e[1],s=(i?l:-l)/Math.sqrt(r*r+o*o),a=s*o,u=-s*r,c=t[0]+a,d=t[1]+u,h=e[0]+a,f=e[1]+u,p=(c+h)/2,g=(d+f)/2,m=h-c,v=f-d,y=m*m+v*v,b=n-l,w=c*f-h*d,x=(0>v?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),_=(w*v-m*x)/y,C=(-w*m-v*x)/y,k=(w*v+m*x)/y,S=(-w*m+v*x)/y,T=_-p,A=C-g,D=k-p,M=S-g;return T*T+A*A>D*D+M*M&&(_=k,C=S),[[_-a,C-u],[_*n/b,C*n/b]]}function br(t){function e(e){function o(){u.push("M",r(t(c),s))}for(var a,u=[],c=[],d=-1,h=e.length,f=Tt(n),p=Tt(l);++d<h;)i.call(this,a=e[d],d)?c.push([+f.call(this,a,d),+p.call(this,a,d)]):c.length&&(o(),c=[]);return c.length&&o(),u.length?u.join(""):null}var n=Mn,l=jn,i=Me,r=wr,o=r.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(l=t,e):l},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?r=t:(r=Oa.get(t)||wr).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function wr(t){return t.length>1?t.join("L"):t+"Z"}function xr(t){return t.join("L")+"Z"}function _r(t){for(var e=0,n=t.length,l=t[0],i=[l[0],",",l[1]];++e<n;)i.push("H",(l[0]+(l=t[e])[0])/2,"V",l[1]);return n>1&&i.push("H",l[0]),i.join("")}function Cr(t){for(var e=0,n=t.length,l=t[0],i=[l[0],",",l[1]];++e<n;)i.push("V",(l=t[e])[1],"H",l[0]);return i.join("")}function kr(t){for(var e=0,n=t.length,l=t[0],i=[l[0],",",l[1]];++e<n;)i.push("H",(l=t[e])[0],"V",l[1]);return i.join("")}function Sr(t,e){return t.length<4?wr(t):t[1]+Dr(t.slice(1,-1),Mr(t,e))}function Tr(t,e){return t.length<3?xr(t):t[0]+Dr((t.push(t[0]),t),Mr([t[t.length-2]].concat(t,[t[1]]),e))}function Ar(t,e){return t.length<3?wr(t):t[0]+Dr(t,Mr(t,e))}function Dr(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return wr(t);var n=t.length!=e.length,l="",i=t[0],r=t[1],o=e[0],s=o,a=1;if(n&&(l+="Q"+(r[0]-2*o[0]/3)+","+(r[1]-2*o[1]/3)+","+r[0]+","+r[1],i=t[1],a=2),e.length>1){s=e[1],r=t[a],a++,l+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1];for(var u=2;u<e.length;u++,a++)r=t[a],s=e[u],l+="S"+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1]}if(n){var c=t[a];l+="Q"+(r[0]+2*s[0]/3)+","+(r[1]+2*s[1]/3)+","+c[0]+","+c[1]}return l}function Mr(t,e){for(var n,l=[],i=(1-e)/2,r=t[0],o=t[1],s=1,a=t.length;++s<a;)n=r,r=o,o=t[s],l.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return l}function jr(t){if(t.length<3)return wr(t);var e=1,n=t.length,l=t[0],i=l[0],r=l[1],o=[i,i,i,(l=t[1])[0]],s=[r,r,r,l[1]],a=[i,",",r,"L",$r(Fa,o),",",$r(Fa,s)];for(t.push(t[n-1]);++e<=n;)l=t[e],o.shift(),o.push(l[0]),s.shift(),s.push(l[1]),Fr(a,o,s);return t.pop(),a.push("L",l),a.join("")}function Er(t){if(t.length<4)return wr(t);for(var e,n=[],l=-1,i=t.length,r=[0],o=[0];++l<3;)e=t[l],r.push(e[0]),o.push(e[1]);for(n.push($r(Fa,r)+","+$r(Fa,o)),--l;++l<i;)e=t[l],r.shift(),r.push(e[0]),o.shift(),o.push(e[1]),Fr(n,r,o);return n.join("")}function Or(t){for(var e,n,l=-1,i=t.length,r=i+4,o=[],s=[];++l<4;)n=t[l%i],o.push(n[0]),s.push(n[1]);for(e=[$r(Fa,o),",",$r(Fa,s)],--l;++l<r;)n=t[l%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Fr(e,o,s);return e.join("")}function Ir(t,e){var n=t.length-1;if(n)for(var l,i,r=t[0][0],o=t[0][1],s=t[n][0]-r,a=t[n][1]-o,u=-1;++u<=n;)l=t[u],i=u/n,l[0]=e*l[0]+(1-e)*(r+i*s),l[1]=e*l[1]+(1-e)*(o+i*a);return jr(t)}function $r(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Fr(t,e,n){t.push("C",$r(Ia,e),",",$r(Ia,n),",",$r($a,e),",",$r($a,n),",",$r(Fa,e),",",$r(Fa,n))}function Pr(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Nr(t){for(var e=0,n=t.length-1,l=[],i=t[0],r=t[1],o=l[0]=Pr(i,r);++e<n;)l[e]=(o+(o=Pr(i=r,r=t[e+1])))/2;return l[e]=o,l}function Lr(t){for(var e,n,l,i,r=[],o=Nr(t),s=-1,a=t.length-1;++s<a;)e=Pr(t[s],t[s+1]),wo(e)<Po?o[s]=o[s+1]=0:(n=o[s]/e,l=o[s+1]/e,i=n*n+l*l,i>9&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*l));for(s=-1;++s<=a;)i=(t[Math.min(a,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),r.push([i||0,o[s]*i||0]);return r}function Br(t){return t.length<3?wr(t):t[0]+Dr(t,Lr(t))}function Rr(t){for(var e,n,l,i=-1,r=t.length;++i<r;)e=t[i],n=e[0],l=e[1]-zo,e[0]=n*Math.cos(l),e[1]=n*Math.sin(l);return t}function zr(t){function e(e){function a(){g.push("M",s(t(v),d),c,u(t(m.reverse()),d),"Z")}for(var h,f,p,g=[],m=[],v=[],y=-1,b=e.length,w=Tt(n),x=Tt(i),_=n===l?function(){return f}:Tt(l),C=i===r?function(){return p}:Tt(r);++y<b;)o.call(this,h=e[y],y)?(m.push([f=+w.call(this,h,y),p=+x.call(this,h,y)]),v.push([+_.call(this,h,y),+C.call(this,h,y)])):m.length&&(a(),m=[],v=[]);return m.length&&a(),g.length?g.join(""):null}var n=Mn,l=Mn,i=0,r=jn,o=Me,s=wr,a=s.key,u=s,c="L",d=.7;return e.x=function(t){return arguments.length?(n=l=t,e):l},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(l=t,e):l},e.y=function(t){return arguments.length?(i=r=t,e):r},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?s=t:(s=Oa.get(t)||wr).key,u=s.reverse||s,c=s.closed?"M":"L",e):a},e.tension=function(t){return arguments.length?(d=t,e):d},e}function Hr(t){return t.radius}function qr(t){return[t.x,t.y]}function Ur(t){return function(){var e=t.apply(this,arguments),n=e[0],l=e[1]-zo;return[n*Math.cos(l),n*Math.sin(l)]}}function Wr(){return 64}function Vr(){return"circle"}function Yr(t){var e=Math.sqrt(t/Lo);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Xr(t){return function(){var e,n,l;(e=this[t])&&(l=e[n=e.active])&&(l.timer.c=null,
l.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,l.event&&l.event.interrupt.call(this,this.__data__,l.index))}}function Gr(t,e,n){return So(t,Ha),t.namespace=e,t.id=n,t}function Zr(t,e,n,l){var i=t.id,r=t.namespace;return q(t,"function"==typeof n?function(t,o,s){t[r][i].tween.set(e,l(n.call(t,t.__data__,o,s)))}:(n=l(n),function(t){t[r][i].tween.set(e,n)}))}function Kr(t){return null==t&&(t=""),function(){this.textContent=t}}function Jr(t){return null==t?"__transition__":"__transition_"+t+"__"}function Qr(t,e,n,l,i){function r(t){var e=g.delay;return c.t=e+a,t>=e?o(t-e):void(c.c=o)}function o(n){var i=p.active,r=p[i];r&&(r.timer.c=null,r.timer.t=NaN,--p.count,delete p[i],r.event&&r.event.interrupt.call(t,t.__data__,r.index));for(var o in p)if(l>+o){var u=p[o];u.timer.c=null,u.timer.t=NaN,--p.count,delete p[o]}c.c=s,Et(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,a),p.active=l,g.event&&g.event.start.call(t,t.__data__,e),f=[],g.tween.forEach(function(n,l){(l=l.call(t,t.__data__,e))&&f.push(l)}),h=g.ease,d=g.duration}function s(i){for(var r=i/d,o=h(r),s=f.length;s>0;)f[--s].call(t,o);return r>=1?(g.event&&g.event.end.call(t,t.__data__,e),--p.count?delete p[l]:delete t[n],1):void 0}var a,c,d,h,f,p=t[n]||(t[n]={active:0,count:0}),g=p[l];g||(a=i.time,c=Et(r,0,a),g=p[l]={tween:new u,time:a,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++p.count)}function to(t,e,n){t.attr("transform",function(t){var l=e(t);return"translate("+(isFinite(l)?l:n(t))+",0)"})}function eo(t,e,n){t.attr("transform",function(t){var l=e(t);return"translate(0,"+(isFinite(l)?l:n(t))+")"})}function no(t){return t.toISOString()}function lo(t,e,n){function l(e){return t(e)}function i(t,n){var l=t[1]-t[0],i=l/n,r=so.bisect(Ka,i);return r==Ka.length?[e.year,Ji(t.map(function(t){return t/31536e6}),n)[2]]:r?e[i/Ka[r-1]<Ka[r]/i?r-1:r]:[tu,Ji(t,n)[2]]}return l.invert=function(e){return io(t.invert(e))},l.domain=function(e){return arguments.length?(t.domain(e),l):t.domain().map(io)},l.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,io(+n+1),e).length}var r=l.domain(),o=qi(r),s=null==t?i(o,10):"number"==typeof t&&i(o,t);return s&&(t=s[0],e=s[1]),l.domain(Vi(r,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=io(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=io(+e+1);return e}}:t))},l.ticks=function(t,e){var n=qi(l.domain()),r=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],io(+n[1]+1),1>e?1:e)},l.tickFormat=function(){return n},l.copy=function(){return lo(t.copy(),e,n)},Zi(l,t)}function io(t){return new Date(t)}function ro(t){return JSON.parse(t.responseText)}function oo(t){var e=co.createRange();return e.selectNode(co.body),e.createContextualFragment(t.responseText)}var so={version:"3.5.11"},ao=[].slice,uo=function(t){return ao.call(t)},co=this.document;if(co)try{uo(co.documentElement.childNodes)[0].nodeType}catch(ho){uo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),co)try{co.createElement("DIV").style.setProperty("opacity",0,"")}catch(fo){var po=this.Element.prototype,go=po.setAttribute,mo=po.setAttributeNS,vo=this.CSSStyleDeclaration.prototype,yo=vo.setProperty;po.setAttribute=function(t,e){go.call(this,t,e+"")},po.setAttributeNS=function(t,e,n){mo.call(this,t,e,n+"")},vo.setProperty=function(t,e,n){yo.call(this,t,e+"",n)}}so.ascending=n,so.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},so.min=function(t,e){var n,l,i=-1,r=t.length;if(1===arguments.length){for(;++i<r;)if(null!=(l=t[i])&&l>=l){n=l;break}for(;++i<r;)null!=(l=t[i])&&n>l&&(n=l)}else{for(;++i<r;)if(null!=(l=e.call(t,t[i],i))&&l>=l){n=l;break}for(;++i<r;)null!=(l=e.call(t,t[i],i))&&n>l&&(n=l)}return n},so.max=function(t,e){var n,l,i=-1,r=t.length;if(1===arguments.length){for(;++i<r;)if(null!=(l=t[i])&&l>=l){n=l;break}for(;++i<r;)null!=(l=t[i])&&l>n&&(n=l)}else{for(;++i<r;)if(null!=(l=e.call(t,t[i],i))&&l>=l){n=l;break}for(;++i<r;)null!=(l=e.call(t,t[i],i))&&l>n&&(n=l)}return n},so.extent=function(t,e){var n,l,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(l=t[r])&&l>=l){n=i=l;break}for(;++r<o;)null!=(l=t[r])&&(n>l&&(n=l),l>i&&(i=l))}else{for(;++r<o;)if(null!=(l=e.call(t,t[r],r))&&l>=l){n=i=l;break}for(;++r<o;)null!=(l=e.call(t,t[r],r))&&(n>l&&(n=l),l>i&&(i=l))}return[n,i]},so.sum=function(t,e){var n,l=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)i(n=+t[o])&&(l+=n);else for(;++o<r;)i(n=+e.call(t,t[o],o))&&(l+=n);return l},so.mean=function(t,e){var n,r=0,o=t.length,s=-1,a=o;if(1===arguments.length)for(;++s<o;)i(n=l(t[s]))?r+=n:--a;else for(;++s<o;)i(n=l(e.call(t,t[s],s)))?r+=n:--a;return a?r/a:void 0},so.quantile=function(t,e){var n=(t.length-1)*e+1,l=Math.floor(n),i=+t[l-1],r=n-l;return r?i+r*(t[l]-i):i},so.median=function(t,e){var r,o=[],s=t.length,a=-1;if(1===arguments.length)for(;++a<s;)i(r=l(t[a]))&&o.push(r);else for(;++a<s;)i(r=l(e.call(t,t[a],a)))&&o.push(r);return o.length?so.quantile(o.sort(n),.5):void 0},so.variance=function(t,e){var n,r,o=t.length,s=0,a=0,u=-1,c=0;if(1===arguments.length)for(;++u<o;)i(n=l(t[u]))&&(r=n-s,s+=r/++c,a+=r*(n-s));else for(;++u<o;)i(n=l(e.call(t,t[u],u)))&&(r=n-s,s+=r/++c,a+=r*(n-s));return c>1?a/(c-1):void 0},so.deviation=function(){var t=so.variance.apply(this,arguments);return t?Math.sqrt(t):t};var bo=r(n);so.bisectLeft=bo.left,so.bisect=so.bisectRight=bo.right,so.bisector=function(t){return r(1===t.length?function(e,l){return n(t(e),l)}:t)},so.shuffle=function(t,e,n){(r=arguments.length)<3&&(n=t.length,2>r&&(e=0));for(var l,i,r=n-e;r;)i=Math.random()*r--|0,l=t[r+e],t[r+e]=t[i+e],t[i+e]=l;return t},so.permute=function(t,e){for(var n=e.length,l=new Array(n);n--;)l[n]=t[e[n]];return l},so.pairs=function(t){for(var e,n=0,l=t.length-1,i=t[0],r=new Array(0>l?0:l);l>n;)r[n]=[e=i,i=t[++n]];return r},so.zip=function(){if(!(l=arguments.length))return[];for(var t=-1,e=so.min(arguments,o),n=new Array(e);++t<e;)for(var l,i=-1,r=n[t]=new Array(l);++i<l;)r[i]=arguments[i][t];return n},so.transpose=function(t){return so.zip.apply(so,t)},so.keys=function(t){var e=[];for(var n in t)e.push(n);return e},so.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},so.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},so.merge=function(t){for(var e,n,l,i=t.length,r=-1,o=0;++r<i;)o+=t[r].length;for(n=new Array(o);--i>=0;)for(l=t[i],e=l.length;--e>=0;)n[--o]=l[e];return n};var wo=Math.abs;so.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var l,i=[],r=s(wo(n)),o=-1;if(t*=r,e*=r,n*=r,0>n)for(;(l=t+n*++o)>e;)i.push(l/r);else for(;(l=t+n*++o)<e;)i.push(l/r);return i},so.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var l,i=-1,r=t.length;if(1===arguments.length)for(;++i<r;)n.set(i,t[i]);else for(;++i<r;)n.set(e.call(t,l=t[i],i),l)}else for(var o in t)n.set(o,t[o]);return n};var xo="__proto__",_o="\x00";a(u,{has:h,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:f,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:d(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,d(e),this._[e])}}),so.nest=function(){function t(e,o,s){if(s>=r.length)return l?l.call(i,o):n?o.sort(n):o;for(var a,c,d,h,f=-1,p=o.length,g=r[s++],m=new u;++f<p;)(h=m.get(a=g(c=o[f])))?h.push(c):m.set(a,[c]);return e?(c=e(),d=function(n,l){c.set(n,t(e,l,s))}):(c={},d=function(n,l){c[n]=t(e,l,s)}),m.forEach(d),c}function e(t,n){if(n>=r.length)return t;var l=[],i=o[n++];return t.forEach(function(t,i){l.push({key:t,values:e(i,n)})}),i?l.sort(function(t,e){return i(t.key,e.key)}):l}var n,l,i={},r=[],o=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(so.map,n,0),0)},i.key=function(t){return r.push(t),i},i.sortKeys=function(t){return o[r.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return l=t,i},i},so.set=function(t){var e=new v;if(t)for(var n=0,l=t.length;l>n;++n)e.add(t[n]);return e},a(v,{has:h,add:function(t){return this._[c(t+="")]=!0,t},remove:f,values:p,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,d(e))}}),so.behavior={},so.rebind=function(t,e){for(var n,l=1,i=arguments.length;++l<i;)t[n=arguments[l]]=b(t,e,e[n]);return t};var Co=["webkit","ms","moz","Moz","o","O"];so.dispatch=function(){for(var t=new _,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},_.prototype.on=function(t,e){var n=t.indexOf("."),l="";if(n>=0&&(l=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(l):this[t].on(l,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(l,null);return this}},so.event=null,so.requote=function(t){return t.replace(ko,"\\$&")};var ko=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,So={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},To=function(t,e){return e.querySelector(t)},Ao=function(t,e){return e.querySelectorAll(t)},Do=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return(Do=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(To=function(t,e){return Sizzle(t,e)[0]||null},Ao=Sizzle,Do=Sizzle.matchesSelector),so.selection=function(){return so.select(co.documentElement)};var Mo=so.selection.prototype=[];Mo.select=function(t){var e,n,l,i,r=[];t=D(t);for(var o=-1,s=this.length;++o<s;){r.push(e=[]),e.parentNode=(l=this[o]).parentNode;for(var a=-1,u=l.length;++a<u;)(i=l[a])?(e.push(n=t.call(i,i.__data__,a,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return A(r)},Mo.selectAll=function(t){var e,n,l=[];t=M(t);for(var i=-1,r=this.length;++i<r;)for(var o=this[i],s=-1,a=o.length;++s<a;)(n=o[s])&&(l.push(e=uo(t.call(n,n.__data__,s,i))),e.parentNode=n);return A(l)};var jo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};so.ns={prefix:jo,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),jo.hasOwnProperty(n)?{space:jo[n],local:t}:t}},Mo.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=so.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},Mo.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),l=(t=I(t)).length,i=-1;if(e=n.classList){for(;++i<l;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<l;)if(!O(t[i]).test(e))return!1;return!0}for(e in t)this.each($(e,t[e]));return this}return this.each($(t,e))},Mo.style=function(t,n,l){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(n="");for(l in t)this.each(P(l,t[l],n));return this}if(2>i){var r=this.node();return e(r).getComputedStyle(r,null).getPropertyValue(t)}l=""}return this.each(P(t,n,l))},Mo.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Mo.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Mo.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Mo.append=function(t){return t=L(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Mo.insert=function(t,e){return t=L(t),e=D(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Mo.remove=function(){return this.each(B)},Mo.data=function(t,e){function n(t,n){var l,i,r,o=t.length,d=n.length,h=Math.min(o,d),f=new Array(d),p=new Array(d),g=new Array(o);if(e){var m,v=new u,y=new Array(o);for(l=-1;++l<o;)(i=t[l])&&(v.has(m=e.call(i,i.__data__,l))?g[l]=i:v.set(m,i),y[l]=m);for(l=-1;++l<d;)(i=v.get(m=e.call(n,r=n[l],l)))?i!==!0&&(f[l]=i,i.__data__=r):p[l]=R(r),v.set(m,!0);for(l=-1;++l<o;)l in y&&v.get(y[l])!==!0&&(g[l]=t[l])}else{for(l=-1;++l<h;)i=t[l],r=n[l],i?(i.__data__=r,f[l]=i):p[l]=R(r);for(;d>l;++l)p[l]=R(n[l]);for(;o>l;++l)g[l]=t[l]}p.update=f,p.parentNode=f.parentNode=g.parentNode=t.parentNode,s.push(p),a.push(f),c.push(g)}var l,i,r=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(l=this[0]).length);++r<o;)(i=l[r])&&(t[r]=i.__data__);return t}var s=U([]),a=A([]),c=A([]);if("function"==typeof t)for(;++r<o;)n(l=this[r],t.call(l,l.parentNode.__data__,r));else for(;++r<o;)n(l=this[r],t);return a.enter=function(){return s},a.exit=function(){return c},a},Mo.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Mo.filter=function(t){var e,n,l,i=[];"function"!=typeof t&&(t=z(t));for(var r=0,o=this.length;o>r;r++){i.push(e=[]),e.parentNode=(n=this[r]).parentNode;for(var s=0,a=n.length;a>s;s++)(l=n[s])&&t.call(l,l.__data__,s,r)&&e.push(l)}return A(i)},Mo.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,l=this[t],i=l.length-1,r=l[i];--i>=0;)(n=l[i])&&(r&&r!==n.nextSibling&&r.parentNode.insertBefore(n,r),r=n);return this},Mo.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Mo.each=function(t){return q(this,function(e,n,l){t.call(e,e.__data__,n,l)})},Mo.call=function(t){var e=uo(arguments);return t.apply(e[0]=this,e),this},Mo.empty=function(){return!this.node()},Mo.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],l=0,i=n.length;i>l;l++){var r=n[l];if(r)return r}return null},Mo.size=function(){var t=0;return q(this,function(){++t}),t};var Eo=[];so.selection.enter=U,so.selection.enter.prototype=Eo,Eo.append=Mo.append,Eo.empty=Mo.empty,Eo.node=Mo.node,Eo.call=Mo.call,Eo.size=Mo.size,Eo.select=function(t){for(var e,n,l,i,r,o=[],s=-1,a=this.length;++s<a;){l=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(r=i[u])?(e.push(l[u]=n=t.call(i.parentNode,r.__data__,u,s)),n.__data__=r.__data__):e.push(null)}return A(o)},Eo.insert=function(t,e){return arguments.length<2&&(e=W(this)),Mo.insert.call(this,t,e)},so.select=function(e){var n;return"string"==typeof e?(n=[To(e,co)],n.parentNode=co.documentElement):(n=[e],n.parentNode=t(e)),A([n])},so.selectAll=function(t){var e;return"string"==typeof t?(e=uo(Ao(t,co)),e.parentNode=co.documentElement):(e=uo(t),e.parentNode=null),A([e])},Mo.on=function(t,e,n){var l=arguments.length;if(3>l){if("string"!=typeof t){2>l&&(e=!1);for(n in t)this.each(V(n,t[n],e));return this}if(2>l)return(l=this.node()["__on"+t])&&l._;n=!1}return this.each(V(t,e,n))};var Oo=so.map({mouseenter:"mouseover",mouseleave:"mouseout"});co&&Oo.forEach(function(t){"on"+t in co&&Oo.remove(t)});var Io,$o=0;so.mouse=function(t){return Z(t,S())};var Fo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;so.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=S().changedTouches),e)for(var l,i=0,r=e.length;r>i;++i)if((l=e[i]).identifier===n)return Z(t,l)},so.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",o)}function n(t,e,n,r,o){return function(){function s(){var t,n,l=e(h,g);l&&(t=l[0]-b[0],n=l[1]-b[1],p|=t|n,b=l,f({type:"drag",x:l[0]+u[0],y:l[1]+u[1],dx:t,dy:n}))}function a(){e(h,g)&&(v.on(r+m,null).on(o+m,null),y(p),f({type:"dragend"}))}var u,c=this,d=so.event.target,h=c.parentNode,f=l.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=so.select(n(d)).on(r+m,s).on(o+m,a),y=G(d),b=e(h,g);i?(u=i.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],f({type:"dragstart"})}}var l=T(t,"drag","dragstart","dragend"),i=null,r=n(x,so.mouse,e,"mousemove","mouseup"),o=n(K,so.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},so.rebind(t,l,"on")},so.touches=function(t,e){return arguments.length<2&&(e=S().touches),e?uo(e).map(function(e){var n=Z(t,e);return n.identifier=e.identifier,n}):[]};var Po=1e-6,No=Po*Po,Lo=Math.PI,Bo=2*Lo,Ro=Bo-Po,zo=Lo/2,Ho=Lo/180,qo=180/Lo,Uo=Math.SQRT2,Wo=2,Vo=4;so.interpolateZoom=function(t,e){var n,l,i=t[0],r=t[1],o=t[2],s=e[0],a=e[1],u=e[2],c=s-i,d=a-r,h=c*c+d*d;if(No>h)l=Math.log(u/o)/Uo,n=function(t){return[i+t*c,r+t*d,o*Math.exp(Uo*t*l)]};else{var f=Math.sqrt(h),p=(u*u-o*o+Vo*h)/(2*o*Wo*f),g=(u*u-o*o-Vo*h)/(2*u*Wo*f),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);l=(v-m)/Uo,n=function(t){var e=t*l,n=lt(m),s=o/(Wo*f)*(n*it(Uo*e+m)-nt(m));return[i+s*c,r+s*d,o*n/lt(Uo*e+m)]}}return n.duration=1e3*l,n},so.behavior.zoom=function(){function t(t){t.on(E,d).on(Xo+".zoom",f).on("dblclick.zoom",p).on($,h)}function n(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function l(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function i(t){S.k=Math.max(D[0],Math.min(D[1],t))}function r(t,e){e=l(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function o(e,n,l,o){e.__chart__={x:S.x,y:S.y,k:S.k},i(Math.pow(2,o)),r(m=n,l),e=so.select(e),M>0&&(e=e.transition().duration(M)),e.call(t.event)}function s(){x&&x.domain(w.range().map(function(t){return(t-S.x)/S.k}).map(w.invert)),C&&C.domain(_.range().map(function(t){return(t-S.y)/S.k}).map(_.invert))}function a(t){j++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(t){--j||(t({type:"zoomend"}),m=null)}function d(){function t(){s=1,r(so.mouse(i),h),u(o)}function l(){d.on(O,null).on(I,null),f(s),c(o)}var i=this,o=F.of(i,arguments),s=0,d=so.select(e(i)).on(O,t).on(I,l),h=n(so.mouse(i)),f=G(i);za.call(i),a(o)}function h(){function t(){var t=so.touches(p);return f=S.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=so.event.target;so.select(e).on(w,l).on(x,s),_.push(e);for(var n=so.event.changedTouches,i=0,r=n.length;r>i;++i)m[n[i].identifier]=null;var a=t(),u=Date.now();if(1===a.length){if(500>u-b){var c=a[0];o(p,c,m[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),k()}b=u}else if(a.length>1){var c=a[0],d=a[1],h=c[0]-d[0],f=c[1]-d[1];v=h*h+f*f}}function l(){var t,e,n,l,o=so.touches(p);za.call(p);for(var s=0,a=o.length;a>s;++s,l=null)if(n=o[s],l=m[n.identifier]){if(e)break;t=n,e=l}if(l){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,d=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+l[0])/2,(e[1]+l[1])/2],i(d*f)}b=null,r(t,e),u(g)}function s(){if(so.event.touches.length){for(var e=so.event.changedTouches,n=0,l=e.length;l>n;++n)delete m[e[n].identifier];for(var i in m)return void t()}so.selectAll(_).on(y,null),C.on(E,d).on($,h),T(),c(g)}var f,p=this,g=F.of(p,arguments),m={},v=0,y=".zoom-"+so.event.changedTouches[0].identifier,w="touchmove"+y,x="touchend"+y,_=[],C=so.select(p),T=G(p);e(),a(g),C.on(E,null).on($,e)}function f(){var t=F.of(this,arguments);y?clearTimeout(y):(za.call(this),g=n(m=v||so.mouse(this)),a(t)),y=setTimeout(function(){y=null,c(t)},50),k(),i(Math.pow(2,.002*Yo())*S.k),r(m,g),u(t)}function p(){var t=so.mouse(this),e=Math.log(S.k)/Math.LN2;o(this,t,n(t),so.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,b,w,x,_,C,S={x:0,y:0,k:1},A=[960,500],D=Go,M=250,j=0,E="mousedown.zoom",O="mousemove.zoom",I="mouseup.zoom",$="touchstart.zoom",F=T(t,"zoomstart","zoom","zoomend");return Xo||(Xo="onwheel"in co?(Yo=function(){return-so.event.deltaY*(so.event.deltaMode?120:1)},"wheel"):"onmousewheel"in co?(Yo=function(){return so.event.wheelDelta},"mousewheel"):(Yo=function(){return-so.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=F.of(this,arguments),e=S;Ba?so.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},a(t)}).tween("zoom:zoom",function(){var n=A[0],l=A[1],i=m?m[0]:n/2,r=m?m[1]:l/2,o=so.interpolateZoom([(i-S.x)/S.k,(r-S.y)/S.k,n/S.k],[(i-e.x)/e.k,(r-e.y)/e.k,n/e.k]);return function(e){var l=o(e),s=n/l[2];this.__chart__=S={x:i-l[0]*s,y:r-l[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=S,a(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},s(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:null},i(+e),s(),t):S.k},t.scaleExtent=function(e){return arguments.length?(D=null==e?Go:[+e[0],+e[1]],t):D},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(A=e&&[+e[0],+e[1]],t):A},t.duration=function(e){return arguments.length?(M=+e,t):M},t.x=function(e){return arguments.length?(x=e,w=e.copy(),S={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(C=e,_=e.copy(),S={x:0,y:0,k:1},t):C},so.rebind(t,F,"on")};var Yo,Xo,Go=[0,1/0];so.color=ot,ot.prototype.toString=function(){return this.rgb()+""},so.hsl=st;var Zo=st.prototype=new ot;Zo.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Zo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Zo.rgb=function(){return at(this.h,this.s,this.l)},so.hcl=ut;var Ko=ut.prototype=new ot;Ko.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Jo*(arguments.length?t:1)))},Ko.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Jo*(arguments.length?t:1)))},Ko.rgb=function(){return ct(this.h,this.c,this.l).rgb()},so.lab=dt;var Jo=18,Qo=.95047,ts=1,es=1.08883,ns=dt.prototype=new ot;ns.brighter=function(t){return new dt(Math.min(100,this.l+Jo*(arguments.length?t:1)),this.a,this.b)},ns.darker=function(t){return new dt(Math.max(0,this.l-Jo*(arguments.length?t:1)),this.a,this.b)},ns.rgb=function(){return ht(this.l,this.a,this.b)},so.rgb=vt;var ls=vt.prototype=new ot;ls.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,l=this.b,i=30;return e||n||l?(e&&i>e&&(e=i),n&&i>n&&(n=i),l&&i>l&&(l=i),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,l/t))):new vt(i,i,i)},ls.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},ls.hsl=function(){return _t(this.r,this.g,this.b)},ls.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var is=so.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});is.forEach(function(t,e){is.set(t,yt(e))}),so.functor=Tt,so.xhr=At(y),so.dsv=function(t,e){function n(t,n,r){arguments.length<3&&(r=n,n=null);var o=Dt(t,e,null==n?l:i(n),r);return o.row=function(t){return arguments.length?o.response(null==(n=t)?l:i(t)):n},o}function l(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function r(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),a=t.charCodeAt(0);return n.parse=function(t,e){var l;return n.parseRows(t,function(t,n){if(l)return l(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");l=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return o;if(i)return i=!1,r;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var l=t.charCodeAt(n+1);return 13===l?(i=!0,10===t.charCodeAt(n+2)&&++c):10===l&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var l=t.charCodeAt(c++),s=1;if(10===l)i=!0;else if(13===l)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(l!==a)continue;return t.slice(e,c-s)}return t.slice(e)}for(var l,i,r={},o={},s=[],u=t.length,c=0,d=0;(l=n())!==o;){for(var h=[];l!==r&&l!==o;)h.push(l),l=n();e&&null==(h=e(h,d++))||s.push(h)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var l=new v,i=[];return e.forEach(function(t){for(var e in t)l.has(e)||i.push(l.add(e))}),[i.map(o).join(t)].concat(e.map(function(e){return i.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(r).join("\n")},n},so.csv=so.dsv(",","text/csv"),so.tsv=so.dsv("	","text/tab-separated-values");var rs,os,ss,as,us=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};so.timer=function(){Et.apply(this,arguments)},so.timer.flush=function(){It(),$t()},so.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var cs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Pt);so.formatPrefix=function(t,e){var n=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=so.round(t,Ft(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),cs[8+n/3]};var ds=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hs=so.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=so.round(t,Ft(t,e))).toFixed(Math.max(0,Math.min(20,Ft(t*(1+1e-15),e))))}}),fs=so.time={},ps=Date;Bt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gs.setUTCDate.apply(this._,arguments)},setDay:function(){gs.setUTCDay.apply(this._,arguments)},setFullYear:function(){gs.setUTCFullYear.apply(this._,arguments)},setHours:function(){gs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gs.setUTCSeconds.apply(this._,arguments)},setTime:function(){gs.setTime.apply(this._,arguments)}};var gs=Date.prototype;fs.year=Rt(function(t){return t=fs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),fs.years=fs.year.range,fs.years.utc=fs.year.utc.range,fs.day=Rt(function(t){var e=new ps(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),fs.days=fs.day.range,fs.days.utc=fs.day.utc.range,fs.dayOfYear=function(t){var e=fs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=fs[t]=Rt(function(t){return(t=fs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});fs[t+"s"]=n.range,fs[t+"s"].utc=n.utc.range,fs[t+"OfYear"]=function(t){var n=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(n+e)%7)/7)}}),fs.week=fs.sunday,fs.weeks=fs.sunday.range,fs.weeks.utc=fs.sunday.utc.range,fs.weekOfYear=fs.sundayOfYear;var ms={"-":"",_:" ",0:"0"},vs=/^\s*\d+/,ys=/^%/;so.locale=function(t){return{numberFormat:Nt(t),timeFormat:Ht(t)}};var bs=so.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});so.format=bs.numberFormat,so.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,ws),ce(ws.s,this.s,this),this.s?this.t+=ws.t:this.s=ws.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ws=new ue;so.geo.stream=function(t,e){t&&xs.hasOwnProperty(t.type)?xs[t.type](t,e):de(t,e)};var xs={Feature:function(t,e){de(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,l=-1,i=n.length;++l<i;)de(n[l].geometry,e)}},_s={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)t=n[l],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)he(n[l],e,0)},Polygon:function(t,e){fe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)fe(n[l],e)},GeometryCollection:function(t,e){for(var n=t.geometries,l=-1,i=n.length;++l<i;)de(n[l],e)}};so.geo.area=function(t){return Cs=0,so.geo.stream(t,Ss),Cs};var Cs,ks=new ue,Ss={sphere:function(){Cs+=4*Lo},point:x,lineStart:x,lineEnd:x,polygonStart:function(){ks.reset(),Ss.lineStart=pe},polygonEnd:function(){var t=2*ks;Cs+=0>t?4*Lo+t:t,Ss.lineStart=Ss.lineEnd=Ss.point=x}};so.geo.bounds=function(){function t(t,e){b.push(w=[c=t,h=t]),d>e&&(d=e),e>f&&(f=e)}function e(e,n){var l=ge([e*Ho,n*Ho]);if(v){var i=ve(v,l),r=[i[1],-i[0],0],o=ve(r,i);we(o),o=xe(o);var a=e-p,u=a>0?1:-1,g=o[0]*qo*u,m=wo(a)>180;if(m^(g>u*p&&u*e>g)){var y=o[1]*qo;y>f&&(f=y)}else if(g=(g+360)%360-180,m^(g>u*p&&u*e>g)){var y=-o[1]*qo;d>y&&(d=y)}else d>n&&(d=n),n>f&&(f=n);m?p>e?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e):h>=c?(c>e&&(c=e),e>h&&(h=e)):e>p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e);
}else t(e,n);v=l,p=e}function n(){x.point=e}function l(){w[0]=c,w[1]=h,x.point=t,v=null}function i(t,n){if(v){var l=t-p;y+=wo(l)>180?l+(l>0?360:-360):l}else g=t,m=n;Ss.point(t,n),e(t,n)}function r(){Ss.lineStart()}function o(){i(g,m),Ss.lineEnd(),wo(y)>Po&&(c=-(h=180)),w[0]=c,w[1]=h,v=null}function s(t,e){return(e-=t)<0?e+360:e}function a(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,d,h,f,p,g,m,v,y,b,w,x={point:t,lineStart:n,lineEnd:l,polygonStart:function(){x.point=i,x.lineStart=r,x.lineEnd=o,y=0,Ss.polygonStart()},polygonEnd:function(){Ss.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=l,0>ks?(c=-(h=180),d=-(f=90)):y>Po?f=90:-Po>y&&(d=-90),w[0]=c,w[1]=h}};return function(t){f=h=-(c=d=1/0),b=[],so.geo.stream(t,x);var e=b.length;if(e){b.sort(a);for(var n,l=1,i=b[0],r=[i];e>l;++l)n=b[l],u(n[0],i)||u(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):r.push(i=n);for(var o,n,p=-(1/0),e=r.length-1,l=0,i=r[e];e>=l;i=n,++l)n=r[l],(o=s(i[1],n[0]))>p&&(p=o,c=n[0],h=i[1])}return b=w=null,c===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,d],[h,f]]}}(),so.geo.centroid=function(t){Ts=As=Ds=Ms=js=Es=Os=Is=$s=Fs=Ps=0,so.geo.stream(t,Ns);var e=$s,n=Fs,l=Ps,i=e*e+n*n+l*l;return No>i&&(e=Es,n=Os,l=Is,Po>As&&(e=Ds,n=Ms,l=js),i=e*e+n*n+l*l,No>i)?[NaN,NaN]:[Math.atan2(n,e)*qo,et(l/Math.sqrt(i))*qo]};var Ts,As,Ds,Ms,js,Es,Os,Is,$s,Fs,Ps,Ns={sphere:x,point:Ce,lineStart:Se,lineEnd:Te,polygonStart:function(){Ns.lineStart=Ae},polygonEnd:function(){Ns.lineStart=Se}},Ls=Ie(Me,Ne,Be,[-Lo,-Lo/2]),Bs=1e9;so.geo.clipExtent=function(){var t,e,n,l,i,r,o={stream:function(t){return i&&(i.valid=!1),i=r(t),i.valid=!0,i},extent:function(s){return arguments.length?(r=qe(t=+s[0][0],e=+s[0][1],n=+s[1][0],l=+s[1][1]),i&&(i.valid=!1,i=null),o):[[t,e],[n,l]]}};return o.extent([[0,0],[960,500]])},(so.geo.conicEqualArea=function(){return Ue(We)}).raw=We,so.geo.albers=function(){return so.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},so.geo.albersUsa=function(){function t(t){var r=t[0],o=t[1];return e=null,n(r,o),e||(l(r,o),e)||i(r,o),e}var e,n,l,i,r=so.geo.albers(),o=so.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=so.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=r.scale(),n=r.translate(),l=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&l>=-.425&&-.214>l?o:i>=.166&&.234>i&&l>=-.214&&-.115>l?s:r).invert(t)},t.stream=function(t){var e=r.stream(t),n=o.stream(t),l=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),l.point(t,i)},sphere:function(){e.sphere(),n.sphere(),l.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),l.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),l.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),l.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),l.polygonEnd()}}},t.precision=function(e){return arguments.length?(r.precision(e),o.precision(e),s.precision(e),t):r.precision()},t.scale=function(e){return arguments.length?(r.scale(e),o.scale(.35*e),s.scale(e),t.translate(r.translate())):r.scale()},t.translate=function(e){if(!arguments.length)return r.translate();var u=r.scale(),c=+e[0],d=+e[1];return n=r.translate(e).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(a).point,l=o.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Po,d+.12*u+Po],[c-.214*u-Po,d+.234*u-Po]]).stream(a).point,i=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Po,d+.166*u+Po],[c-.115*u-Po,d+.234*u-Po]]).stream(a).point,t},t.scale(1070)};var Rs,zs,Hs,qs,Us,Ws,Vs={point:x,lineStart:x,lineEnd:x,polygonStart:function(){zs=0,Vs.lineStart=Ve},polygonEnd:function(){Vs.lineStart=Vs.lineEnd=Vs.point=x,Rs+=wo(zs/2)}},Ys={point:Ye,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Xs={point:Ze,lineStart:Ke,lineEnd:Je,polygonStart:function(){Xs.lineStart=Qe},polygonEnd:function(){Xs.point=Ze,Xs.lineStart=Ke,Xs.lineEnd=Je}};so.geo.path=function(){function t(t){return t&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=i(r)),so.geo.stream(t,o)),r.result()}function e(){return o=null,t}var n,l,i,r,o,s=4.5;return t.area=function(t){return Rs=0,so.geo.stream(t,i(Vs)),Rs},t.centroid=function(t){return Ds=Ms=js=Es=Os=Is=$s=Fs=Ps=0,so.geo.stream(t,i(Xs)),Ps?[$s/Ps,Fs/Ps]:Is?[Es/Is,Os/Is]:js?[Ds/js,Ms/js]:[NaN,NaN]},t.bounds=function(t){return Us=Ws=-(Hs=qs=1/0),so.geo.stream(t,i(Ys)),[[Hs,qs],[Us,Ws]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||nn(t):y,e()):n},t.context=function(t){return arguments.length?(r=null==(l=t)?new Xe:new tn(t),"function"!=typeof s&&r.pointRadius(s),e()):l},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(r.pointRadius(+e),+e),t):s},t.projection(so.geo.albersUsa()).context(null)},so.geo.transform=function(t){return{stream:function(e){var n=new ln(e);for(var l in t)n[l]=t[l];return n}}},ln.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},so.geo.projection=on,so.geo.projectionMutator=sn,(so.geo.equirectangular=function(){return on(un)}).raw=un.invert=un,so.geo.rotation=function(t){function e(e){return e=t(e[0]*Ho,e[1]*Ho),e[0]*=qo,e[1]*=qo,e}return t=dn(t[0]%360*Ho,t[1]*Ho,t.length>2?t[2]*Ho:0),e.invert=function(e){return e=t.invert(e[0]*Ho,e[1]*Ho),e[0]*=qo,e[1]*=qo,e},e},cn.invert=un,so.geo.circle=function(){function t(){var t="function"==typeof l?l.apply(this,arguments):l,e=dn(-t[0]*Ho,-t[1]*Ho,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=qo,t[1]*=qo}}),{type:"Polygon",coordinates:[i]}}var e,n,l=[0,0],i=6;return t.origin=function(e){return arguments.length?(l=e,t):l},t.angle=function(l){return arguments.length?(n=gn((e=+l)*Ho,i*Ho),t):e},t.precision=function(l){return arguments.length?(n=gn(e*Ho,(i=+l)*Ho),t):i},t.angle(90)},so.geo.distance=function(t,e){var n,l=(e[0]-t[0])*Ho,i=t[1]*Ho,r=e[1]*Ho,o=Math.sin(l),s=Math.cos(l),a=Math.sin(i),u=Math.cos(i),c=Math.sin(r),d=Math.cos(r);return Math.atan2(Math.sqrt((n=d*o)*n+(n=u*c-a*d*s)*n),a*c+u*d*s)},so.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return so.range(Math.ceil(r/m)*m,i,m).map(h).concat(so.range(Math.ceil(u/v)*v,a,v).map(f)).concat(so.range(Math.ceil(l/p)*p,n,p).filter(function(t){return wo(t%m)>Po}).map(c)).concat(so.range(Math.ceil(s/g)*g,o,g).filter(function(t){return wo(t%v)>Po}).map(d))}var n,l,i,r,o,s,a,u,c,d,h,f,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(a).slice(1),h(i).reverse().slice(1),f(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(r=+e[0][0],i=+e[1][0],u=+e[0][1],a=+e[1][1],r>i&&(e=r,r=i,i=e),u>a&&(e=u,u=a,a=e),t.precision(y)):[[r,u],[i,a]]},t.minorExtent=function(e){return arguments.length?(l=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],l>n&&(e=l,l=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(y)):[[l,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=vn(s,o,90),d=yn(l,n,y),h=vn(u,a,90),f=yn(r,i,y),t):y},t.majorExtent([[-180,-90+Po],[180,90-Po]]).minorExtent([[-180,-80-Po],[180,80+Po]])},so.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||l.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,l=bn,i=wn;return t.distance=function(){return so.geo.distance(e||l.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(l=n,e="function"==typeof n?null:n,t):l},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},so.geo.interpolate=function(t,e){return xn(t[0]*Ho,t[1]*Ho,e[0]*Ho,e[1]*Ho)},so.geo.length=function(t){return Gs=0,so.geo.stream(t,Zs),Gs};var Gs,Zs={sphere:x,point:x,lineStart:_n,lineEnd:x,polygonStart:x,polygonEnd:x},Ks=Cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(so.geo.azimuthalEqualArea=function(){return on(Ks)}).raw=Ks;var Js=Cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(so.geo.azimuthalEquidistant=function(){return on(Js)}).raw=Js,(so.geo.conicConformal=function(){return Ue(kn)}).raw=kn,(so.geo.conicEquidistant=function(){return Ue(Sn)}).raw=Sn;var Qs=Cn(function(t){return 1/t},Math.atan);(so.geo.gnomonic=function(){return on(Qs)}).raw=Qs,Tn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-zo]},(so.geo.mercator=function(){return An(Tn)}).raw=Tn;var ta=Cn(function(){return 1},Math.asin);(so.geo.orthographic=function(){return on(ta)}).raw=ta;var ea=Cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(so.geo.stereographic=function(){return on(ea)}).raw=ea,Dn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-zo]},(so.geo.transverseMercator=function(){var t=An(Dn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Dn,so.geom={},so.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Tt(n),r=Tt(l),o=t.length,s=[],a=[];for(e=0;o>e;e++)s.push([+i.call(this,t[e],e),+r.call(this,t[e],e),e]);for(s.sort(On),e=0;o>e;e++)a.push([s[e][0],-s[e][1]]);var u=En(s),c=En(a),d=c[0]===u[0],h=c[c.length-1]===u[u.length-1],f=[];for(e=u.length-1;e>=0;--e)f.push(t[s[u[e]][2]]);for(e=+d;e<c.length-h;++e)f.push(t[s[c[e]][2]]);return f}var n=Mn,l=jn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(l=t,e):l},e)},so.geom.polygon=function(t){return So(t,na),t};var na=so.geom.polygon.prototype=[];na.area=function(){for(var t,e=-1,n=this.length,l=this[n-1],i=0;++e<n;)t=l,l=this[e],i+=t[1]*l[0]-t[0]*l[1];return.5*i},na.centroid=function(t){var e,n,l=-1,i=this.length,r=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++l<i;)e=s,s=this[l],n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[r*t,o*t]},na.clip=function(t){for(var e,n,l,i,r,o,s=Fn(t),a=-1,u=this.length-Fn(this),c=this[u-1];++a<u;){for(e=t.slice(),t.length=0,i=this[a],r=e[(l=e.length-s)-1],n=-1;++n<l;)o=e[n],In(o,c,i)?(In(r,c,i)||t.push($n(r,o,c,i)),t.push(o)):In(r,c,i)&&t.push($n(r,o,c,i)),r=o;s&&t.push(t[0]),c=i}return t};var la,ia,ra,oa,sa,aa=[],ua=[];qn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Wn),e.length},el.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nl.prototype={insert:function(t,e){var n,l,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ol(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)l=n.U,n===l.L?(i=l.R,i&&i.C?(n.C=i.C=!1,l.C=!0,t=l):(t===n.R&&(il(this,n),t=n,n=t.U),n.C=!1,l.C=!0,rl(this,l))):(i=l.L,i&&i.C?(n.C=i.C=!1,l.C=!0,t=l):(t===n.L&&(rl(this,n),t=n,n=t.U),n.C=!1,l.C=!0,il(this,l))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,l,i=t.U,r=t.L,o=t.R;if(n=r?o?ol(o):r:o,i?i.L===t?i.L=n:i.R=n:this._=n,r&&o?(l=n.C,n.C=t.C,n.L=r,r.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(l=t.C,t=n),t&&(t.U=i),!l){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,il(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,rl(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,il(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,rl(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,il(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,rl(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},so.geom.voronoi=function(t){function e(t){var e=new Array(t.length),l=s[0][0],i=s[0][1],r=s[1][0],o=s[1][1];return sl(n(t),s).cells.forEach(function(n,s){var a=n.edges,u=n.site,c=e[s]=a.length?a.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=l&&u.x<=r&&u.y>=i&&u.y<=o?[[l,o],[r,o],[r,i],[l,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/Po)*Po,y:Math.round(o(t,e)/Po)*Po,i:e}})}var l=Mn,i=jn,r=l,o=i,s=ca;return t?e(t):(e.links=function(t){return sl(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return sl(n(t)).cells.forEach(function(n,l){for(var i,r,o=n.site,s=n.edges.sort(Wn),a=-1,u=s.length,c=s[u-1].edge,d=c.l===o?c.r:c.l;++a<u;)i=c,r=d,c=s[a].edge,d=c.l===o?c.r:c.l,l<r.i&&l<d.i&&ul(o,r,d)<0&&e.push([t[l],t[r.i],t[d.i]])}),e},e.x=function(t){return arguments.length?(r=Tt(l=t),e):l},e.y=function(t){return arguments.length?(o=Tt(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?ca:t,e):s===ca?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ca?null:s&&s[1]},e)};var ca=[[-1e6,-1e6],[1e6,1e6]];so.geom.delaunay=function(t){return so.geom.voronoi().triangles(t)},so.geom.quadtree=function(t,e,n,l,i){function r(t){function r(t,e,n,l,i,r,o,s){if(!isNaN(n)&&!isNaN(l))if(t.leaf){var a=t.x,c=t.y;if(null!=a)if(wo(a-n)+wo(c-l)<.01)u(t,e,n,l,i,r,o,s);else{var d=t.point;t.x=t.y=t.point=null,u(t,d,a,c,i,r,o,s),u(t,e,n,l,i,r,o,s)}else t.x=n,t.y=l,t.point=e}else u(t,e,n,l,i,r,o,s)}function u(t,e,n,l,i,o,s,a){var u=.5*(i+s),c=.5*(o+a),d=n>=u,h=l>=c,f=h<<1|d;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=hl()),d?i=u:s=u,h?o=c:a=c,r(t,e,n,l,i,o,s,a)}var c,d,h,f,p,g,m,v,y,b=Tt(s),w=Tt(a);if(null!=e)g=e,m=n,v=l,y=i;else if(v=y=-(g=m=1/0),d=[],h=[],p=t.length,o)for(f=0;p>f;++f)c=t[f],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),d.push(c.x),h.push(c.y);else for(f=0;p>f;++f){var x=+b(c=t[f],f),_=+w(c,f);g>x&&(g=x),m>_&&(m=_),x>v&&(v=x),_>y&&(y=_),d.push(x),h.push(_)}var C=v-g,k=y-m;C>k?y=m+C:v=g+k;var S=hl();if(S.add=function(t){r(S,t,+b(t,++f),+w(t,f),g,m,v,y)},S.visit=function(t){fl(t,S,g,m,v,y)},S.find=function(t){return pl(S,t[0],t[1],g,m,v,y)},f=-1,null==e){for(;++f<p;)r(S,t[f],d[f],h[f],g,m,v,y);--f}else t.forEach(S.add);return d=h=t=c=null,S}var o,s=Mn,a=jn;return(o=arguments.length)?(s=cl,a=dl,3===o&&(i=n,l=e,n=e=0),r(t)):(r.x=function(t){return arguments.length?(s=t,r):s},r.y=function(t){return arguments.length?(a=t,r):a},r.extent=function(t){return arguments.length?(null==t?e=n=l=i=null:(e=+t[0][0],n=+t[0][1],l=+t[1][0],i=+t[1][1]),r):null==e?null:[[e,n],[l,i]]},r.size=function(t){return arguments.length?(null==t?e=n=l=i=null:(e=n=0,l=+t[0],i=+t[1]),r):null==e?null:[l-e,i-n]},r)},so.interpolateRgb=gl,so.interpolateObject=ml,so.interpolateNumber=vl,so.interpolateString=yl;var da=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ha=new RegExp(da.source,"g");so.interpolate=bl,so.interpolators=[function(t,e){var n=typeof e;return("string"===n?is.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gl:yl:e instanceof ot?gl:Array.isArray(e)?wl:"object"===n&&isNaN(e)?ml:vl)(t,e)}],so.interpolateArray=wl;var fa=function(){return y},pa=so.map({linear:fa,poly:Al,quad:function(){return kl},cubic:function(){return Sl},sin:function(){return Dl},exp:function(){return Ml},circle:function(){return jl},elastic:El,back:Ol,bounce:function(){return Il}}),ga=so.map({"in":y,out:_l,"in-out":Cl,"out-in":function(t){return Cl(_l(t))}});so.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,l=e>=0?t.slice(e+1):"in";return n=pa.get(n)||fa,l=ga.get(l)||y,xl(l(n.apply(null,ao.call(arguments,1))))},so.interpolateHcl=$l,so.interpolateHsl=Fl,so.interpolateLab=Pl,so.interpolateRound=Nl,so.transform=function(t){var e=co.createElementNS(so.ns.prefix.svg,"g");return(so.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ll(n?n.matrix:ma)})(t)},Ll.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ma={a:1,b:0,c:0,d:1,e:0,f:0};so.interpolateTransform=Yl,so.layout={},so.layout.bundle=function(){return function(t){for(var e=[],n=-1,l=t.length;++n<l;)e.push(Zl(t[n]));return e}},so.layout.chord=function(){function t(){var t,u,d,h,f,p={},g=[],m=so.range(r),v=[];for(n=[],l=[],t=0,h=-1;++h<r;){for(u=0,f=-1;++f<r;)u+=i[h][f];g.push(u),v.push(so.range(r)),t+=u}for(o&&m.sort(function(t,e){return o(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Bo-c*r)/t,u=0,h=-1;++h<r;){for(d=u,f=-1;++f<r;){var y=m[h],b=v[y][f],w=i[y][b],x=u,_=u+=w*t;p[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}l[y]={index:y,startAngle:d,endAngle:u,value:g[y]},u+=c}for(h=-1;++h<r;)for(f=h-1;++f<r;){var C=p[h+"-"+f],k=p[f+"-"+h];(C.value||k.value)&&n.push(C.value<k.value?{source:k,target:C}:{source:C,target:k})}a&&e()}function e(){n.sort(function(t,e){return a((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,l,i,r,o,s,a,u={},c=0;return u.matrix=function(t){return arguments.length?(r=(i=t)&&i.length,n=l=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=l=null,u):c},u.sortGroups=function(t){return arguments.length?(o=t,n=l=null,u):o},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(a=t,n&&e(),u):a},u.chords=function(){return n||t(),n},u.groups=function(){return l||t(),l},u},so.layout.force=function(){function t(t){return function(e,n,l,i){if(e.point!==t){var r=e.cx-t.x,o=e.cy-t.y,s=i-n,a=r*r+o*o;if(a>s*s/v){if(g>a){var u=e.charge/a;t.px-=r*u,t.py-=o*u}return!0}if(e.point&&a&&g>a){var u=e.pointCharge/a;t.px-=r*u,t.py-=o*u}}return!e.charge}}function e(t){t.px=so.event.x,t.py=so.event.y,a.resume()}var n,l,i,r,o,s,a={},u=so.dispatch("start","tick","end"),c=[1,1],d=.9,h=va,f=ya,p=-30,g=ba,m=.1,v=.64,b=[],w=[];return a.tick=function(){if((i*=.99)<.005)return n=null,u.end({type:"end",alpha:i=0}),!0;var e,l,a,h,f,g,v,y,x,_=b.length,C=w.length;for(l=0;C>l;++l)a=w[l],h=a.source,f=a.target,y=f.x-h.x,x=f.y-h.y,(g=y*y+x*x)&&(g=i*o[l]*((g=Math.sqrt(g))-r[l])/g,y*=g,x*=g,f.x-=y*(v=h.weight+f.weight?h.weight/(h.weight+f.weight):.5),f.y-=x*v,h.x+=y*(v=1-v),h.y+=x*v);if((v=i*m)&&(y=c[0]/2,x=c[1]/2,l=-1,v))for(;++l<_;)a=b[l],a.x+=(y-a.x)*v,a.y+=(x-a.y)*v;if(p)for(li(e=so.geom.quadtree(b),i,s),l=-1;++l<_;)(a=b[l]).fixed||e.visit(t(a));for(l=-1;++l<_;)a=b[l],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*d,a.y-=(a.py-(a.py=a.y))*d);u.tick({type:"tick",alpha:i})},a.nodes=function(t){return arguments.length?(b=t,a):b},a.links=function(t){return arguments.length?(w=t,a):w},a.size=function(t){return arguments.length?(c=t,a):c},a.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.friction=function(t){return arguments.length?(d=+t,a):d},a.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,a):p},a.chargeDistance=function(t){return arguments.length?(g=t*t,a):Math.sqrt(g)},a.gravity=function(t){return arguments.length?(m=+t,a):m},a.theta=function(t){return arguments.length?(v=t*t,a):Math.sqrt(v)},a.alpha=function(t){return arguments.length?(t=+t,i?t>0?i=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:i=0})):t>0&&(u.start({type:"start",alpha:i=t}),n=Et(a.tick)),a):i},a.start=function(){function t(t,l){if(!n){for(n=new Array(i),a=0;i>a;++a)n[a]=[];for(a=0;u>a;++a){var r=w[a];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var o,s=n[e],a=-1,c=s.length;++a<c;)if(!isNaN(o=s[a][t]))return o;return Math.random()*l}var e,n,l,i=b.length,u=w.length,d=c[0],g=c[1];for(e=0;i>e;++e)(l=b[e]).index=e,l.weight=0;for(e=0;u>e;++e)l=w[e],"number"==typeof l.source&&(l.source=b[l.source]),"number"==typeof l.target&&(l.target=b[l.target]),++l.source.weight,++l.target.weight;for(e=0;i>e;++e)l=b[e],isNaN(l.x)&&(l.x=t("x",d)),isNaN(l.y)&&(l.y=t("y",g)),isNaN(l.px)&&(l.px=l.x),isNaN(l.py)&&(l.py=l.y);if(r=[],"function"==typeof h)for(e=0;u>e;++e)r[e]=+h.call(this,w[e],e);else for(e=0;u>e;++e)r[e]=h;if(o=[],"function"==typeof f)for(e=0;u>e;++e)o[e]=+f.call(this,w[e],e);else for(e=0;u>e;++e)o[e]=f;if(s=[],"function"==typeof p)for(e=0;i>e;++e)s[e]=+p.call(this,b[e],e);else for(e=0;i>e;++e)s[e]=p;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return l||(l=so.behavior.drag().origin(y).on("dragstart.force",Ql).on("drag.force",e).on("dragend.force",ti)),arguments.length?void this.on("mouseover.force",ei).on("mouseout.force",ni).call(l):l},so.rebind(a,u,"on")};var va=20,ya=1,ba=1/0;so.layout.hierarchy=function(){function t(i){var r,o=[i],s=[];for(i.depth=0;null!=(r=o.pop());)if(s.push(r),(u=n.call(t,r,r.depth))&&(a=u.length)){for(var a,u,c;--a>=0;)o.push(c=u[a]),c.parent=r,c.depth=r.depth+1;l&&(r.value=0),r.children=u}else l&&(r.value=+l.call(t,r,r.depth)||0),delete r.children;return oi(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),l&&(i=t.parent)&&(i.value+=t.value)}),s}var e=ui,n=si,l=ai;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(l=e,t):l},t.revalue=function(e){return l&&(ri(e,function(t){t.children&&(t.value=0)}),oi(e,function(e){var n;e.children||(e.value=+l.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},so.layout.partition=function(){function t(e,n,l,i){var r=e.children;if(e.x=n,e.y=e.depth*i,e.dx=l,e.dy=i,r&&(o=r.length)){var o,s,a,u=-1;for(l=e.value?l/e.value:0;++u<o;)t(s=r[u],n,a=s.value*l,i),n+=a}}function e(t){var n=t.children,l=0;if(n&&(i=n.length))for(var i,r=-1;++r<i;)l=Math.max(l,e(n[r]));return 1+l}function n(n,r){var o=l.call(this,n,r);return t(o[0],0,i[0],i[1]/e(o[0])),o}var l=so.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},ii(n,l)},so.layout.pie=function(){function t(o){var s,a=o.length,u=o.map(function(n,l){return+e.call(t,n,l)}),c=+("function"==typeof l?l.apply(this,arguments):l),d=("function"==typeof i?i.apply(this,arguments):i)-c,h=Math.min(Math.abs(d)/a,+("function"==typeof r?r.apply(this,arguments):r)),f=h*(0>d?-1:1),p=so.sum(u),g=p?(d-a*f)/p:0,m=so.range(a),v=[];return null!=n&&m.sort(n===wa?function(t,e){return u[e]-u[t]}:function(t,e){return n(o[t],o[e])}),m.forEach(function(t){v[t]={data:o[t],value:s=u[t],startAngle:c,endAngle:c+=s*g+f,padAngle:h}}),v}var e=Number,n=wa,l=0,i=Bo,r=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(l=e,t):l},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(r=e,t):r},t};var wa={};so.layout.stack=function(){function t(s,a){if(!(h=s.length))return s;var u=s.map(function(n,l){return e.call(t,n,l)}),c=u.map(function(e){return e.map(function(e,n){return[r.call(t,e,n),o.call(t,e,n)]})}),d=n.call(t,c,a);u=so.permute(u,d),c=so.permute(c,d);var h,f,p,g,m=l.call(t,c,a),v=u[0].length;for(p=0;v>p;++p)for(i.call(t,u[0][p],g=m[p],c[0][p][1]),f=1;h>f;++f)i.call(t,u[f][p],g+=c[f-1][p][1],c[f][p][1]);return s}var e=y,n=pi,l=gi,i=fi,r=di,o=hi;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:xa.get(e)||pi,t):n},t.offset=function(e){return arguments.length?(l="function"==typeof e?e:_a.get(e)||gi,t):l},t.x=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(i=e,t):i},t};var xa=so.map({"inside-out":function(t){var e,n,l=t.length,i=t.map(mi),r=t.map(vi),o=so.range(l).sort(function(t,e){return i[t]-i[e]}),s=0,a=0,u=[],c=[];for(e=0;l>e;++e)n=o[e],a>s?(s+=r[n],u.push(n)):(a+=r[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return so.range(t.length).reverse()},"default":pi}),_a=so.map({silhouette:function(t){var e,n,l,i=t.length,r=t[0].length,o=[],s=0,a=[];for(n=0;r>n;++n){for(e=0,l=0;i>e;e++)l+=t[e][n][1];l>s&&(s=l),o.push(l)}for(n=0;r>n;++n)a[n]=(s-o[n])/2;return a},wiggle:function(t){var e,n,l,i,r,o,s,a,u,c=t.length,d=t[0],h=d.length,f=[];for(f[0]=a=u=0,n=1;h>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,r=0,s=d[n][0]-d[n-1][0];c>e;++e){for(l=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);e>l;++l)o+=(t[l][n][1]-t[l][n-1][1])/s;r+=o*t[e][n][1]}f[n]=a-=i?r/i*s:0,u>a&&(u=a)}for(n=0;h>n;++n)f[n]-=u;return f},expand:function(t){var e,n,l,i=t.length,r=t[0].length,o=1/i,s=[];for(n=0;r>n;++n){for(e=0,l=0;i>e;e++)l+=t[e][n][1];if(l)for(e=0;i>e;e++)t[e][n][1]/=l;else for(e=0;i>e;e++)t[e][n][1]=o}for(n=0;r>n;++n)s[n]=0;return s},zero:gi});so.layout.histogram=function(){function t(t,r){for(var o,s,a=[],u=t.map(n,this),c=l.call(this,u,r),d=i.call(this,c,u,r),r=-1,h=u.length,f=d.length-1,p=e?1:1/h;++r<f;)o=a[r]=[],o.dx=d[r+1]-(o.x=d[r]),o.y=0;if(f>0)for(r=-1;++r<h;)s=u[r],s>=c[0]&&s<=c[1]&&(o=a[so.bisect(d,s,1,f)-1],o.y+=p,o.push(t[r]));return a}var e=!0,n=Number,l=xi,i=bi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(l=Tt(e),t):l},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return wi(t,e)}:Tt(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},so.layout.pack=function(){function t(t,r){var o=n.call(this,t,r),s=o[0],a=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,oi(s,function(t){t.r=+c(t.value)}),oi(s,Ti),l){var d=l*(e?1:Math.max(2*s.r/a,2*s.r/u))/2;oi(s,function(t){t.r+=d}),oi(s,Ti),oi(s,function(t){t.r-=d})}return Mi(s,a/2,u/2,e?1:1/Math.max(2*s.r/a,2*s.r/u)),o}var e,n=so.layout.hierarchy().sort(_i),l=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(l=+e,t):l},ii(t,n)},so.layout.tree=function(){function t(t,i){var c=o.call(this,t,i),d=c[0],h=e(d);if(oi(h,n),h.parent.m=-h.z,ri(h,l),u)ri(d,r);else{var f=d,p=d,g=d;ri(d,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(f,p)/2-f.x,v=a[0]/(p.x+s(p,f)/2+m),y=a[1]/(g.depth||1);ri(d,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},l=[n];null!=(e=l.pop());)for(var i,r=e.children,o=0,s=r.length;s>o;++o)l.push((r[o]=i={_:r[o],parent:e,children:(i=r[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,l=t.i?n[t.i-1]:null;if(e.length){Fi(t);var r=(e[0].z+e[e.length-1].z)/2;l?(t.z=l.z+s(t._,l._),t.m=t.z-r):t.z=r}else l&&(t.z=l.z+s(t._,l._));t.parent.A=i(t,l,t.parent.A||n[0])}function l(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var l,i=t,r=t,o=e,a=i.parent.children[0],u=i.m,c=r.m,d=o.m,h=a.m;o=Ii(o),i=Oi(i),o&&i;)a=Oi(a),r=Ii(r),r.a=t,l=o.z+d-i.z-u+s(o._,i._),l>0&&($i(Pi(o,t,n),t,l),u+=l,c+=l),d+=o.m,u+=i.m,h+=a.m,c+=r.m;o&&!Ii(r)&&(r.t=o,r.m+=d-c),i&&!Oi(a)&&(a.t=i,a.m+=u-h,n=t)}return n}function r(t){t.x*=a[0],t.y=t.depth*a[1]}var o=so.layout.hierarchy().sort(null).value(null),s=Ei,a=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(a=e)?r:null,t):u?null:a},t.nodeSize=function(e){return arguments.length?(u=null==(a=e)?null:r,t):u?a:null},ii(t,o)},so.layout.cluster=function(){function t(t,r){var o,s=e.call(this,t,r),a=s[0],u=0;oi(a,function(t){var e=t.children;e&&e.length?(t.x=Li(e),t.y=Ni(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var c=Bi(a),d=Ri(a),h=c.x-n(c,d)/2,f=d.x+n(d,c)/2;return oi(a,i?function(t){t.x=(t.x-a.x)*l[0],t.y=(a.y-t.y)*l[1]}:function(t){t.x=(t.x-h)/(f-h)*l[0],t.y=(1-(a.y?t.y/a.y:1))*l[1]}),s}var e=so.layout.hierarchy().sort(null).value(null),n=Ei,l=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(l=e),t):i?null:l},t.nodeSize=function(e){return arguments.length?(i=null!=(l=e),t):i?l:null},ii(t,e)},so.layout.treemap=function(){function t(t,e){for(var n,l,i=-1,r=t.length;++i<r;)l=(n=t[i]).value*(0>e?0:e),n.area=isNaN(l)||0>=l?0:l}function e(n){var r=n.children;if(r&&r.length){var o,s,a,u=d(n),c=[],h=r.slice(),p=1/0,g="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(h,u.dx*u.dy/n.value),c.area=0;(a=h.length)>0;)c.push(o=h[a-1]),c.area+=o.area,"squarify"!==f||(s=l(c,g))<=p?(h.pop(),p=s):(c.area-=c.pop().area,i(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,u,!0),c.length=c.area=0),r.forEach(e)}}function n(e){var l=e.children;if(l&&l.length){var r,o=d(e),s=l.slice(),a=[];for(t(s,o.dx*o.dy/e.value),a.area=0;r=s.pop();)a.push(r),a.area+=r.area,null!=r.z&&(i(a,r.z?o.dx:o.dy,o,!s.length),a.length=a.area=0);l.forEach(n)}}function l(t,e){for(var n,l=t.area,i=0,r=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(r>n&&(r=n),n>i&&(i=n));return l*=l,e*=e,l?Math.max(e*i*p/l,l/(e*r*p)):1/0}function i(t,e,n,l){var i,r=-1,o=t.length,s=n.x,u=n.y,c=e?a(t.area/e):0;if(e==n.dx){for((l||c>n.dy)&&(c=n.dy);++r<o;)i=t[r],i.x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?a(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((l||c>n.dx)&&(c=n.dx);++r<o;)i=t[r],i.x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?a(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function r(l){var i=o||s(l),r=i[0];return r.x=r.y=0,r.value?(r.dx=u[0],r.dy=u[1]):r.dx=r.dy=0,o&&s.revalue(r),t([r],r.dx*r.dy/r.value),(o?n:e)(r),h&&(o=i),i}var o,s=so.layout.hierarchy(),a=Math.round,u=[1,1],c=null,d=zi,h=!1,f="squarify",p=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(u=t,r):u},r.padding=function(t){function e(e){var n=t.call(r,e,e.depth);return null==n?zi(e):Hi(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Hi(e,t)}if(!arguments.length)return c;var l;return d=null==(c=t)?zi:"function"==(l=typeof t)?e:"number"===l?(t=[t,t,t,t],n):n,r},r.round=function(t){return arguments.length?(a=t?Math.round:Number,r):a!=Number},r.sticky=function(t){return arguments.length?(h=t,o=null,r):h},r.ratio=function(t){return arguments.length?(p=t,r):p},r.mode=function(t){return arguments.length?(f=t+"",r):f},ii(r,s)},so.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,l,i;do n=2*Math.random()-1,l=2*Math.random()-1,i=n*n+l*l;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=so.random.normal.apply(so,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=so.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},so.scale={};var Ca={floor:y,ceil:y};so.scale.linear=function(){return Gi([0,1],[0,1],bl,!1)};var ka={s:1,g:1,p:1,r:1,e:1};so.scale.log=function(){return lr(so.scale.linear().domain([0,1]),10,!0,[1,10])};var Sa=so.format(".0e"),Ta={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};so.scale.pow=function(){return ir(so.scale.linear(),1,[0,1])},so.scale.sqrt=function(){return so.scale.pow().exponent(.5)},so.scale.ordinal=function(){return or([],{t:"range",a:[[]]})},so.scale.category10=function(){return so.scale.ordinal().range(Aa)},so.scale.category20=function(){return so.scale.ordinal().range(Da)},so.scale.category20b=function(){return so.scale.ordinal().range(Ma)},so.scale.category20c=function(){return so.scale.ordinal().range(ja)};var Aa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),Da=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),Ma=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),ja=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);
so.scale.quantile=function(){return sr([],[])},so.scale.quantize=function(){return ar(0,1,[0,1])},so.scale.threshold=function(){return ur([.5],[0,1])},so.scale.identity=function(){return cr([0,1])},so.svg={},so.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+l.apply(this,arguments)),c=o.apply(this,arguments)-zo,d=s.apply(this,arguments)-zo,h=Math.abs(d-c),f=c>d?0:1;if(t>u&&(p=u,u=t,t=p),h>=Ro)return e(u,f)+(t?e(t,1-f):"")+"Z";var p,g,m,v,y,b,w,x,_,C,k,S,T=0,A=0,D=[];if((v=(+a.apply(this,arguments)||0)/2)&&(m=r===Ea?Math.sqrt(t*t+u*u):+r.apply(this,arguments),f||(A*=-1),u&&(A=et(m/u*Math.sin(v))),t&&(T=et(m/t*Math.sin(v)))),u){y=u*Math.cos(c+A),b=u*Math.sin(c+A),w=u*Math.cos(d-A),x=u*Math.sin(d-A);var M=Math.abs(d-c-2*A)<=Lo?0:1;if(A&&vr(y,b,w,x)===f^M){var j=(c+d)/2;y=u*Math.cos(j),b=u*Math.sin(j),w=x=null}}else y=b=0;if(t){_=t*Math.cos(d-T),C=t*Math.sin(d-T),k=t*Math.cos(c+T),S=t*Math.sin(c+T);var E=Math.abs(c-d+2*T)<=Lo?0:1;if(T&&vr(_,C,k,S)===1-f^E){var O=(c+d)/2;_=t*Math.cos(O),C=t*Math.sin(O),k=S=null}}else _=C=0;if(h>Po&&(p=Math.min(Math.abs(u-t)/2,+i.apply(this,arguments)))>.001){g=u>t^f?0:1;var I=p,$=p;if(Lo>h){var F=null==k?[_,C]:null==w?[y,b]:$n([y,b],[k,S],[w,x],[_,C]),P=y-F[0],N=b-F[1],L=w-F[0],B=x-F[1],R=1/Math.sin(Math.acos((P*L+N*B)/(Math.sqrt(P*P+N*N)*Math.sqrt(L*L+B*B)))/2),z=Math.sqrt(F[0]*F[0]+F[1]*F[1]);$=Math.min(p,(t-z)/(R-1)),I=Math.min(p,(u-z)/(R+1))}if(null!=w){var H=yr(null==k?[_,C]:[k,S],[y,b],u,I,f),q=yr([w,x],[_,C],u,I,f);p===I?D.push("M",H[0],"A",I,",",I," 0 0,",g," ",H[1],"A",u,",",u," 0 ",1-f^vr(H[1][0],H[1][1],q[1][0],q[1][1]),",",f," ",q[1],"A",I,",",I," 0 0,",g," ",q[0]):D.push("M",H[0],"A",I,",",I," 0 1,",g," ",q[0])}else D.push("M",y,",",b);if(null!=k){var U=yr([y,b],[k,S],t,-$,f),W=yr([_,C],null==w?[y,b]:[w,x],t,-$,f);p===$?D.push("L",W[0],"A",$,",",$," 0 0,",g," ",W[1],"A",t,",",t," 0 ",f^vr(W[1][0],W[1][1],U[1][0],U[1][1]),",",1-f," ",U[1],"A",$,",",$," 0 0,",g," ",U[0]):D.push("L",W[0],"A",$,",",$," 0 0,",g," ",U[0])}else D.push("L",_,",",C)}else D.push("M",y,",",b),null!=w&&D.push("A",u,",",u," 0 ",M,",",f," ",w,",",x),D.push("L",_,",",C),null!=k&&D.push("A",t,",",t," 0 ",E,",",1-f," ",k,",",S);return D.push("Z"),D.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=hr,l=fr,i=dr,r=Ea,o=pr,s=gr,a=mr;return t.innerRadius=function(e){return arguments.length?(n=Tt(e),t):n},t.outerRadius=function(e){return arguments.length?(l=Tt(e),t):l},t.cornerRadius=function(e){return arguments.length?(i=Tt(e),t):i},t.padRadius=function(e){return arguments.length?(r=e==Ea?Ea:Tt(e),t):r},t.startAngle=function(e){return arguments.length?(o=Tt(e),t):o},t.endAngle=function(e){return arguments.length?(s=Tt(e),t):s},t.padAngle=function(e){return arguments.length?(a=Tt(e),t):a},t.centroid=function(){var t=(+n.apply(this,arguments)+ +l.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-zo;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Ea="auto";so.svg.line=function(){return br(y)};var Oa=so.map({linear:wr,"linear-closed":xr,step:_r,"step-before":Cr,"step-after":kr,basis:jr,"basis-open":Er,"basis-closed":Or,bundle:Ir,cardinal:Ar,"cardinal-open":Sr,"cardinal-closed":Tr,monotone:Br});Oa.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ia=[0,2/3,1/3,0],$a=[0,1/3,2/3,0],Fa=[0,1/6,2/3,1/6];so.svg.line.radial=function(){var t=br(Rr);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Cr.reverse=kr,kr.reverse=Cr,so.svg.area=function(){return zr(y)},so.svg.area.radial=function(){var t=zr(Rr);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},so.svg.chord=function(){function t(t,s){var a=e(this,r,t,s),u=e(this,o,t,s);return"M"+a.p0+l(a.r,a.p1,a.a1-a.a0)+(n(a,u)?i(a.r,a.p1,a.r,a.p0):i(a.r,a.p1,u.r,u.p0)+l(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,a.r,a.p0))+"Z"}function e(t,e,n,l){var i=e.call(t,n,l),r=s.call(t,i,l),o=a.call(t,i,l)-zo,c=u.call(t,i,l)-zo;return{r:r,a0:o,a1:c,p0:[r*Math.cos(o),r*Math.sin(o)],p1:[r*Math.cos(c),r*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function l(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Lo)+",1 "+e}function i(t,e,n,l){return"Q 0,0 "+l}var r=bn,o=wn,s=Hr,a=pr,u=gr;return t.radius=function(e){return arguments.length?(s=Tt(e),t):s},t.source=function(e){return arguments.length?(r=Tt(e),t):r},t.target=function(e){return arguments.length?(o=Tt(e),t):o},t.startAngle=function(e){return arguments.length?(a=Tt(e),t):a},t.endAngle=function(e){return arguments.length?(u=Tt(e),t):u},t},so.svg.diagonal=function(){function t(t,i){var r=e.call(this,t,i),o=n.call(this,t,i),s=(r.y+o.y)/2,a=[r,{x:r.x,y:s},{x:o.x,y:s},o];return a=a.map(l),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var e=bn,n=wn,l=qr;return t.source=function(n){return arguments.length?(e=Tt(n),t):e},t.target=function(e){return arguments.length?(n=Tt(e),t):n},t.projection=function(e){return arguments.length?(l=e,t):l},t},so.svg.diagonal.radial=function(){var t=so.svg.diagonal(),e=qr,n=t.projection;return t.projection=function(t){return arguments.length?n(Ur(e=t)):e},t},so.svg.symbol=function(){function t(t,l){return(Pa.get(e.call(this,t,l))||Yr)(n.call(this,t,l))}var e=Vr,n=Wr;return t.type=function(n){return arguments.length?(e=Tt(n),t):e},t.size=function(e){return arguments.length?(n=Tt(e),t):n},t};var Pa=so.map({circle:Yr,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*La)),n=e*La;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Na),n=e*Na/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Na),n=e*Na/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});so.svg.symbolTypes=Pa.keys();var Na=Math.sqrt(3),La=Math.tan(30*Ho);Mo.transition=function(t){for(var e,n,l=Ba||++qa,i=Jr(t),r=[],o=Ra||{time:Date.now(),ease:Tl,delay:0,duration:250},s=-1,a=this.length;++s<a;){r.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&Qr(n,c,i,l,o),e.push(n)}return Gr(r,i,l)},Mo.interrupt=function(t){return this.each(null==t?za:Xr(Jr(t)))};var Ba,Ra,za=Xr(Jr()),Ha=[],qa=0;Ha.call=Mo.call,Ha.empty=Mo.empty,Ha.node=Mo.node,Ha.size=Mo.size,so.transition=function(t,e){return t&&t.transition?Ba?t.transition(e):t:so.selection().transition(t)},so.transition.prototype=Ha,Ha.select=function(t){var e,n,l,i=this.id,r=this.namespace,o=[];t=D(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(l=u[c])&&(n=t.call(l,l.__data__,c,s))?("__data__"in l&&(n.__data__=l.__data__),Qr(n,c,r,i,l[r][i]),e.push(n)):e.push(null)}return Gr(o,r,i)},Ha.selectAll=function(t){var e,n,l,i,r,o=this.id,s=this.namespace,a=[];t=M(t);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],h=-1,f=d.length;++h<f;)if(l=d[h]){r=l[s][o],n=t.call(l,l.__data__,h,u),a.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Qr(i,p,s,o,r),e.push(i)}return Gr(a,s,o)},Ha.filter=function(t){var e,n,l,i=[];"function"!=typeof t&&(t=z(t));for(var r=0,o=this.length;o>r;r++){i.push(e=[]);for(var n=this[r],s=0,a=n.length;a>s;s++)(l=n[s])&&t.call(l,l.__data__,s,r)&&e.push(l)}return Gr(i,this.namespace,this.id)},Ha.tween=function(t,e){var n=this.id,l=this.namespace;return arguments.length<2?this.node()[l][n].tween.get(t):q(this,null==e?function(e){e[l][n].tween.remove(t)}:function(i){i[l][n].tween.set(t,e)})},Ha.attr=function(t,e){function n(){this.removeAttribute(s)}function l(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function r(t){return null==t?l:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Yl:bl,s=so.ns.qualify(t);return Zr(this,"attr."+t,e,s.local?r:i)},Ha.attrTween=function(t,e){function n(t,n){var l=e.call(this,t,n,this.getAttribute(i));return l&&function(t){this.setAttribute(i,l(t))}}function l(t,n){var l=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return l&&function(t){this.setAttributeNS(i.space,i.local,l(t))}}var i=so.ns.qualify(t);return this.tween("attr."+t,i.local?l:n)},Ha.style=function(t,n,l){function i(){this.style.removeProperty(t)}function r(n){return null==n?i:(n+="",function(){var i,r=e(this).getComputedStyle(this,null).getPropertyValue(t);return r!==n&&(i=bl(r,n),function(e){this.style.setProperty(t,i(e),l)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(n="");for(l in t)this.style(l,t[l],n);return this}l=""}return Zr(this,"style."+t,n,r)},Ha.styleTween=function(t,n,l){function i(i,r){var o=n.call(this,i,r,e(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),l)}}return arguments.length<3&&(l=""),this.tween("style."+t,i)},Ha.text=function(t){return Zr(this,"text",t,Kr)},Ha.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Ha.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=so.ease.apply(so,arguments)),q(this,function(l){l[n][e].ease=t}))},Ha.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:q(this,"function"==typeof t?function(l,i,r){l[n][e].delay=+t.call(l,l.__data__,i,r)}:(t=+t,function(l){l[n][e].delay=t}))},Ha.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:q(this,"function"==typeof t?function(l,i,r){l[n][e].duration=Math.max(1,t.call(l,l.__data__,i,r))}:(t=Math.max(1,t),function(l){l[n][e].duration=t}))},Ha.each=function(t,e){var n=this.id,l=this.namespace;if(arguments.length<2){var i=Ra,r=Ba;try{Ba=n,q(this,function(e,i,r){Ra=e[l][n],t.call(e,e.__data__,i,r)})}finally{Ra=i,Ba=r}}else q(this,function(i){var r=i[l][n];(r.event||(r.event=so.dispatch("start","end","interrupt"))).on(t,e)});return this},Ha.transition=function(){for(var t,e,n,l,i=this.id,r=++qa,o=this.namespace,s=[],a=0,u=this.length;u>a;a++){s.push(t=[]);for(var e=this[a],c=0,d=e.length;d>c;c++)(n=e[c])&&(l=n[o][i],Qr(n,c,o,r,{time:l.time,ease:l.ease,delay:l.delay+l.duration,duration:l.duration})),t.push(n)}return Gr(s,o,r)},so.svg.axis=function(){function t(t){t.each(function(){var t,u=so.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),h=null==a?d.ticks?d.ticks.apply(d,s):d.domain():a,f=null==e?d.tickFormat?d.tickFormat.apply(d,s):y:e,p=u.selectAll(".tick").data(h,d),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Po),m=so.transition(p.exit()).style("opacity",Po).remove(),v=so.transition(p.order()).style("opacity",1),b=Math.max(i,0)+o,w=Ui(d),x=u.selectAll(".domain").data([0]),_=(x.enter().append("path").attr("class","domain"),so.transition(x));g.append("line"),g.append("text");var C,k,S,T,A=g.select("line"),D=v.select("line"),M=p.select("text").text(f),j=g.select("text"),E=v.select("text"),O="top"===l||"left"===l?-1:1;if("bottom"===l||"top"===l?(t=to,C="x",S="y",k="x2",T="y2",M.attr("dy",0>O?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+w[0]+","+O*r+"V0H"+w[1]+"V"+O*r)):(t=eo,C="y",S="x",k="y2",T="x2",M.attr("dy",".32em").style("text-anchor",0>O?"end":"start"),_.attr("d","M"+O*r+","+w[0]+"H0V"+w[1]+"H"+O*r)),A.attr(T,O*i),j.attr(S,O*b),D.attr(k,0).attr(T,O*i),E.attr(C,0).attr(S,O*b),d.rangeBand){var I=d,$=I.rangeBand()/2;c=d=function(t){return I(t)+$}}else c.rangeBand?c=d:m.call(t,d,c);g.call(t,c,d),v.call(t,d,d)})}var e,n=so.scale.linear(),l=Ua,i=6,r=6,o=3,s=[10],a=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(l=e in Wa?e+"":Ua,t):l},t.ticks=function(){return arguments.length?(s=uo(arguments),t):s},t.tickValues=function(e){return arguments.length?(a=e,t):a},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,r=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(r=+e,t):r},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Ua="bottom",Wa={top:1,right:1,bottom:1,left:1};so.svg.brush=function(){function t(e){e.each(function(){var e=so.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),o=e.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Va[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var a,d=so.transition(e),h=so.transition(o);u&&(a=Ui(u),h.attr("x",a[0]).attr("width",a[1]-a[0]),l(d)),c&&(a=Ui(c),h.attr("y",a[0]).attr("height",a[1]-a[0]),i(d)),n(d)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+d[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function l(t){t.select(".extent").attr("x",d[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function i(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function r(){function r(){32==so.event.keyCode&&(M||(b=null,E[0]-=d[1],E[1]-=h[1],M=2),k())}function g(){32==so.event.keyCode&&2==M&&(E[0]+=d[1],E[1]+=h[1],M=0,k())}function m(){var t=so.mouse(x),e=!1;w&&(t[0]+=w[0],t[1]+=w[1]),M||(so.event.altKey?(b||(b=[(d[0]+d[1])/2,(h[0]+h[1])/2]),E[0]=d[+(t[0]<b[0])],E[1]=h[+(t[1]<b[1])]):b=null),A&&v(t,u,0)&&(l(S),e=!0),D&&v(t,c,1)&&(i(S),e=!0),e&&(n(S),C({type:"brush",mode:M?"move":"resize"}))}function v(t,e,n){var l,i,r=Ui(e),a=r[0],u=r[1],c=E[n],g=n?h:d,m=g[1]-g[0];return M&&(a-=c,u-=m+c),l=(n?p:f)?Math.max(a,Math.min(u,t[n])):t[n],M?i=(l+=c)+m:(b&&(c=Math.max(a,Math.min(u,2*b[n]-l))),l>c?(i=l,l=c):i=c),g[0]!=l||g[1]!=i?(n?s=null:o=null,g[0]=l,g[1]=i,!0):void 0}function y(){m(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),so.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),j(),C({type:"brushend"})}var b,w,x=this,_=so.select(so.event.target),C=a.of(x,arguments),S=so.select(x),T=_.datum(),A=!/^(n|s)$/.test(T)&&u,D=!/^(e|w)$/.test(T)&&c,M=_.classed("extent"),j=G(x),E=so.mouse(x),O=so.select(e(x)).on("keydown.brush",r).on("keyup.brush",g);if(so.event.changedTouches?O.on("touchmove.brush",m).on("touchend.brush",y):O.on("mousemove.brush",m).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),M)E[0]=d[0]-E[0],E[1]=h[0]-E[1];else if(T){var I=+/w$/.test(T),$=+/^n/.test(T);w=[d[1-I]-E[0],h[1-$]-E[1]],E[0]=d[I],E[1]=h[$]}else so.event.altKey&&(b=E.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),so.select("body").style("cursor",_.style("cursor")),C({type:"brushstart"}),m()}var o,s,a=T(t,"brushstart","brush","brushend"),u=null,c=null,d=[0,0],h=[0,0],f=!0,p=!0,g=Ya[0];return t.event=function(t){t.each(function(){var t=a.of(this,arguments),e={x:d,y:h,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Ba?so.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,d=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=wl(d,e.x),l=wl(h,e.y);return o=s=null,function(i){d=e.x=n(i),h=e.y=l(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,g=Ya[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,g=Ya[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(f=!!e[0],p=!!e[1]):u?f=!!e:c&&(p=!!e),t):u&&c?[f,p]:u?f:c?p:null},t.extent=function(e){var n,l,i,r,a;return arguments.length?(u&&(n=e[0],l=e[1],c&&(n=n[0],l=l[0]),o=[n,l],u.invert&&(n=u(n),l=u(l)),n>l&&(a=n,n=l,l=a),n==d[0]&&l==d[1]||(d=[n,l])),c&&(i=e[0],r=e[1],u&&(i=i[1],r=r[1]),s=[i,r],c.invert&&(i=c(i),r=c(r)),i>r&&(a=i,i=r,r=a),i==h[0]&&r==h[1]||(h=[i,r])),t):(u&&(o?(n=o[0],l=o[1]):(n=d[0],l=d[1],u.invert&&(n=u.invert(n),l=u.invert(l)),n>l&&(a=n,n=l,l=a))),c&&(s?(i=s[0],r=s[1]):(i=h[0],r=h[1],c.invert&&(i=c.invert(i),r=c.invert(r)),i>r&&(a=i,i=r,r=a))),u&&c?[[n,i],[l,r]]:u?[n,l]:c&&[i,r])},t.clear=function(){return t.empty()||(d=[0,0],h=[0,0],o=s=null),t},t.empty=function(){return!!u&&d[0]==d[1]||!!c&&h[0]==h[1]},so.rebind(t,a,"on")};var Va={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ya=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xa=fs.format=bs.timeFormat,Ga=Xa.utc,Za=Ga("%Y-%m-%dT%H:%M:%S.%LZ");Xa.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?no:Za,no.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},no.toString=Za.toString,fs.second=Rt(function(t){return new ps(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),fs.seconds=fs.second.range,fs.seconds.utc=fs.second.utc.range,fs.minute=Rt(function(t){return new ps(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),fs.minutes=fs.minute.range,fs.minutes.utc=fs.minute.utc.range,fs.hour=Rt(function(t){var e=t.getTimezoneOffset()/60;return new ps(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),fs.hours=fs.hour.range,fs.hours.utc=fs.hour.utc.range,fs.month=Rt(function(t){return t=fs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),fs.months=fs.month.range,fs.months.utc=fs.month.utc.range;var Ka=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ja=[[fs.second,1],[fs.second,5],[fs.second,15],[fs.second,30],[fs.minute,1],[fs.minute,5],[fs.minute,15],[fs.minute,30],[fs.hour,1],[fs.hour,3],[fs.hour,6],[fs.hour,12],[fs.day,1],[fs.day,2],[fs.week,1],[fs.month,1],[fs.month,3],[fs.year,1]],Qa=Xa.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Me]]),tu={range:function(t,e,n){return so.range(Math.ceil(t/n)*n,+e,n).map(io)},floor:y,ceil:y};Ja.year=fs.year,fs.scale=function(){return lo(so.scale.linear(),Ja,Qa)};var eu=Ja.map(function(t){return[t[0].utc,t[1]]}),nu=Ga.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Me]]);eu.year=fs.year.utc,fs.scale.utc=function(){return lo(so.scale.linear(),eu,nu)},so.text=At(function(t){return t.responseText}),so.json=function(t,e){return Dt(t,"application/json",ro,e)},so.html=function(t,e){return Dt(t,"text/html",oo,e)},so.xml=At(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=so,define(so)):"object"==typeof module&&module.exports?module.exports=so:this.d3=so}(),function(){var t=window.nv||{};window.nv=t,t.dev=!1,t.tooltip=t.tooltip||{},t.utils=t.utils||{},t.models=t.models||{},t.charts={},t.graphs=[],t.logs={},t.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,l=function(){},i=function(){return n.apply(this instanceof l&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return l.prototype=this.prototype,i.prototype=new l,i}),t.dev&&(t.dispatch.on("render_start",function(){t.logs.startTime=+new Date}),t.dispatch.on("render_end",function(){t.logs.endTime=+new Date,t.logs.totalTime=t.logs.endTime-t.logs.startTime,t.log("total",t.logs.totalTime)})),t.log=function(){if(t.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(t.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}return arguments[arguments.length-1]},t.deprecated=function(e){t.dev&&console&&console.warn&&console.warn("`"+e+"` has been deprecated.")},t.render=function(e){e=e||1,t.render.active=!0,t.dispatch.render_start(),setTimeout(function(){for(var n,l,i=0;e>i&&(l=t.render.queue[i]);i++)n=l.generate(),typeof l.callback==typeof Function&&l.callback(n),t.graphs.push(n);t.render.queue.splice(0,i),t.render.queue.length?setTimeout(arguments.callee,0):(t.dispatch.render_end(),t.render.active=!1)},0)},t.render.active=!1,t.render.queue=[],t.addGraph=function(e){typeof arguments[0]==typeof Function&&(e={generate:arguments[0],callback:arguments[1]}),t.render.queue.push(e),t.render.active||t.render()},t.interactiveGuideline=function(){"use strict";function e(d){d.each(function(d){function h(){var t=d3.mouse(this),l=t[0],i=t[1],a=!0,u=!1;if(c&&(l=d3.event.offsetX,i=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(a=!1),d3.event.target.className.baseVal.match("nv-legend")&&(u=!0)),a&&(l-=r.left,i-=r.top),0>l||0>i||l>p||i>g||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||u){if(c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(n.nvPointerEventsClass))return;return s.elementMouseout({mouseX:l,mouseY:i}),void e.renderGuideLine(null)}var d=o.invert(l);s.elementMousemove({mouseX:l,mouseY:i,pointXValue:d}),"dblclick"===d3.event.type&&s.elementDblclick({mouseX:l,mouseY:i,pointXValue:d}),"click"===d3.event.type&&s.elementClick({mouseX:l,mouseY:i,pointXValue:d})}var f=d3.select(this),p=l||960,g=i||400,m=f.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]),v=m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");v.append("g").attr("class","nv-interactiveGuideLine"),u&&(u.on("mousemove",h,!0).on("mouseout",h,!0).on("dblclick",h).on("click",h),e.renderGuideLine=function(e){if(a){var n=m.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[t.utils.NaNtoZero(e)]:[],String);n.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",g).attr("y2",0),n.exit().remove()}})})}var n=t.models.tooltip(),l=null,i=null,r={left:0,top:0},o=d3.scale.linear(),s=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick")),a=!0,u=null,c="ActiveXObject"in window;return e.dispatch=s,e.tooltip=n,e.margin=function(t){return arguments.length?(r.top="undefined"!=typeof t.top?t.top:r.top,r.left="undefined"!=typeof t.left?t.left:r.left,e):r},e.width=function(t){return arguments.length?(l=t,e):l},e.height=function(t){return arguments.length?(i=t,e):i},e.xScale=function(t){return arguments.length?(o=t,e):o},e.showGuideLine=function(t){return arguments.length?(a=t,e):a},e.svgContainer=function(t){return arguments.length?(u=t,e):u},e},t.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;"function"!=typeof n&&(n=function(t){return t.x});var l=d3.bisector(n).left,i=d3.max([0,l(t,e)-1]),r=n(t[i],i);if("undefined"==typeof r&&(r=i),r===e)return i;var o=d3.min([i+1,t.length-1]),s=n(t[o],o);return"undefined"==typeof s&&(s=o),Math.abs(s-e)>=Math.abs(r-e)?i:o},t.nearestValueIndex=function(t,e,n){"use strict";var l=1/0,i=null;return t.forEach(function(t,r){var o=Math.abs(e-t);l>=o&&n>o&&(l=o,i=r)}),i},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function e(){if(d){var t=d3.select(d);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];f.left=f.left*n,f.top=f.top*n}}}function n(t){var e;e=d?d3.select(d):d3.select("body");var n=e.select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(c?c:"xy-tooltip")).attr("id",g)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(m,!0),n.classed(m,!0),n.node()}function l(){if(p&&w(r)){e();var i=f.left,c=null!=u?u:f.top,g=n(b(r));if(h=g,d){var m=d.getElementsByTagName("svg")[0],v=(m?m.getBoundingClientRect():d.getBoundingClientRect(),{left:0,top:0});if(m){var y=m.getBoundingClientRect(),x=d.getBoundingClientRect(),_=y.top;if(0>_){var C=d.getBoundingClientRect();_=Math.abs(_)>C.height?0:_}v.top=Math.abs(_-x.top),v.left=Math.abs(y.left-x.left)}i+=d.offsetLeft+v.left-2*d.scrollLeft,c+=d.offsetTop+v.top-2*d.scrollTop}return a&&a>0&&(c=Math.floor(c/a)*a),t.tooltip.calcTooltipPosition([i,c],o,s,g),l}}var i=null,r=null,o="w",s=50,a=25,u=null,c=null,d=null,h=null,f={left:null,top:null},p=!0,g="nvtooltip-"+Math.floor(1e5*Math.random()),m="nv-pointer-events-none",v=function(t){return t},y=function(t){return t},b=function(t){if(null!=i)return i;if(null==t)return"";var e=d3.select(document.createElement("table")),n=e.selectAll("thead").data([t]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(y(t.value));var l=e.selectAll("tbody").data([t]).enter().append("tbody"),r=l.selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),r.append("td").classed("key",!0).html(function(t){return t.key}),r.append("td").classed("value",!0).html(function(t,e){return v(t.value,e)}),r.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;d3.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var o=e.node().outerHTML;return void 0!==t.footer&&(o+="<div class='footer'>"+t.footer+"</div>"),o},w=function(t){return!!(t&&t.series&&t.series.length>0)};return l.nvPointerEventsClass=m,l.content=function(t){return arguments.length?(i=t,l):i},l.tooltipElem=function(){return h},l.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(b=t),l):b},l.data=function(t){return arguments.length?(r=t,l):r},l.gravity=function(t){return arguments.length?(o=t,l):o},l.distance=function(t){return arguments.length?(s=t,l):s},l.snapDistance=function(t){return arguments.length?(a=t,l):a},l.classes=function(t){return arguments.length?(c=t,l):c},l.chartContainer=function(t){return arguments.length?(d=t,l):d},l.position=function(t){return arguments.length?(f.left="undefined"!=typeof t.left?t.left:f.left,f.top="undefined"!=typeof t.top?t.top:f.top,l):f},l.fixedTop=function(t){return arguments.length?(u=t,l):u},l.enabled=function(t){return arguments.length?(p=t,l):p},l.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(v=t),l):v},l.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(y=t),l):y},l.id=function(){return g},l},t.tooltip.show=function(e,n,l,i,r,o){var s=document.createElement("div");s.className="nvtooltip "+(o?o:"xy-tooltip");var a=r;r&&!r.tagName.match(/g|svg/i)||(a=document.getElementsByTagName("body")[0]),s.style.left=0,s.style.top=0,s.style.opacity=0,"string"!=typeof n?s.appendChild(n):s.innerHTML=n,a.appendChild(s),r&&(e[0]=e[0]-r.scrollLeft,e[1]=e[1]-r.scrollTop),t.tooltip.calcTooltipPosition(e,l,i,s)},t.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},t.tooltip.findTotalOffsetTop=function(t,e){var n=e;do isNaN(t.offsetTop)||(n+=t.offsetTop);while(t=t.offsetParent);return n},t.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do isNaN(t.offsetLeft)||(n+=t.offsetLeft);while(t=t.offsetParent);return n},t.tooltip.calcTooltipPosition=function(e,n,l,i){var r,o,s=parseInt(i.offsetHeight),a=parseInt(i.offsetWidth),u=t.utils.windowSize().width,c=t.utils.windowSize().height,d=window.pageYOffset,h=window.pageXOffset;c=window.innerWidth>=document.body.scrollWidth?c:c-16,u=window.innerHeight>=document.body.scrollHeight?u:u-16,n=n||"s",l=l||20;var f=function(e){return t.tooltip.findTotalOffsetTop(e,o)},p=function(e){return t.tooltip.findTotalOffsetLeft(e,r)};switch(n){case"e":r=e[0]-a-l,o=e[1]-s/2;var g=p(i),m=f(i);h>g&&(r=e[0]+l>h?e[0]+l:h-g+r),d>m&&(o=d-m+o),m+s>d+c&&(o=d+c-m+o-s);break;case"w":r=e[0]+l,o=e[1]-s/2;var g=p(i),m=f(i);g+a>u&&(r=e[0]-a-l),d>m&&(o=d+5),m+s>d+c&&(o=d+c-m+o-s);break;case"n":r=e[0]-a/2-5,o=e[1]+l;var g=p(i),m=f(i);h>g&&(r=h+5),g+a>u&&(r=r-a/2+5),m+s>d+c&&(o=d+c-m+o-s);break;case"s":r=e[0]-a/2,o=e[1]-s-l;var g=p(i),m=f(i);h>g&&(r=h+5),g+a>u&&(r=r-a/2+5),d>m&&(o=d);break;case"none":r=e[0],o=e[1]-l;var g=p(i),m=f(i)}return i.style.left=r+"px",i.style.top=o+"px",i.style.opacity=1,i.style.position="absolute",i},t.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),t.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},t.utils.windowResize=function(e){return window.addEventListener?window.addEventListener("resize",e):t.log("ERROR: Failed to bind to window.resize with: ",e),{callback:e,clear:function(){window.removeEventListener("resize",e)}}},t.utils.getColor=function(e){return arguments.length?e instanceof Array?function(t,n){return t.color||e[n%e.length]}:e:t.utils.defaultColor()},t.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},t.utils.customTheme=function(t,e,n){e=e||function(t){return t.key},n=n||d3.scale.category20().range();var l=n.length;return function(i){var r=e(i);return"function"==typeof t[r]?t[r]():void 0!==t[r]?t[r]:(l||(l=n.length),l-=1,n[l])}},t.utils.pjax=function(e,n){var l=function(l){d3.html(l,function(l){var i=d3.select(n).node();i.parentNode.replaceChild(d3.select(l).select(n).node(),i),t.utils.pjax(e,n)})};d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href),l(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&l(d3.event.state)})},t.utils.calcApproxTextWidth=function(t){if("function"==typeof t.style&&"function"==typeof t.text){var e=parseInt(t.style("font-size").replace("px","")),n=t.text().length;return n*e*.5}return 0},t.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===1/0||t===-(1/0)?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},t.utils.renderWatch=function(e,n){if(!(this instanceof t.utils.renderWatch))return new t.utils.renderWatch(e,n);var l=void 0!==n?n:250,i=[],r=this;this.models=function(t){return t=[].slice.call(arguments,0),t.forEach(function(t){
t.__rendered=!1,function(t){t.dispatch.on("renderEnd",function(){t.__rendered=!0,r.renderEnd("model")})}(t),i.indexOf(t)<0&&i.push(t)}),this},this.reset=function(t){void 0!==t&&(l=t),i=[]},this.transition=function(t,e,n){if(e=arguments.length>1?[].slice.call(arguments,1):[],n=e.length>1?e.pop():void 0!==l?l:250,t.__rendered=!1,i.indexOf(t)<0&&i.push(t),0===n)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every(function(t){return!t.length})?t.__rendered=!0:t.__rendered=!1;var o=0;return t.transition().duration(n).each(function(){++o}).each("end",function(){0===--o&&(t.__rendered=!0,r.renderEnd.apply(this,e))})},this.renderEnd=function(){i.every(function(t){return t.__rendered})&&(i.forEach(function(t){t.__rendered=!1}),e.renderEnd.apply(this,arguments))}},t.utils.deepExtend=function(e){var n=arguments.length>1?[].slice.call(arguments,1):[];n.forEach(function(n){for(key in n){var l=e[key]instanceof Array,i="object"==typeof e[key],r="object"==typeof n[key];i&&!l&&r?t.utils.deepExtend(e[key],n[key]):e[key]=n[key]}})},t.utils.state=function(){if(!(this instanceof t.utils.state))return new t.utils.state;var e={},n=function(){},l=function(){return{}},i=null,r=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){n(t,!0)}),this.getter=function(t){return l=t,this},this.setter=function(t,e){return e||(e=function(){}),n=function(n,l){t(n),l&&e()},this},this.init=function(e){i=i||{},t.utils.deepExtend(i,e)};var o=function(){var t=l();if(JSON.stringify(t)===JSON.stringify(e))return!1;for(var n in t)void 0===e[n]&&(e[n]={}),e[n]=t[n],r=!0;return!0};this.update=function(){i&&(n(i,!1),i=null),o.call(this)&&this.dispatch.change(e)}},t.utils.optionsFunc=function(e){return t.deprecated("nv.utils.optionsFunc"),e&&d3.map(e).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},t.utils.calcTicksX=function(e,n){var l=1,i=0;for(i;i<n.length;i+=1){var r=n[i]&&n[i].values?n[i].values.length:0;l=r>l?r:l}return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",l),e=e>l?e=l-1:e,e=1>e?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e},t.utils.calcTicksY=function(e,n){return t.utils.calcTicksX(e,n)},t.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:t[e]=function(n){return arguments.length?(t._options[e]=n,t):t._options[e]}},t.utils.initOptions=function(e){var n=Object.getOwnPropertyNames(e._options||{}),l=Object.getOwnPropertyNames(e._calls||{});n=n.concat(l);for(var i in n)t.utils.initOption(e,n[i])},t.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},t.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},t.utils.symbolMap=d3.map(),t.utils.symbol=function(){function e(e,i){var r=n.call(this,e,i),o=l.call(this,e,i);return-1!==d3.svg.symbolTypes.indexOf(r)?d3.svg.symbol().type(r).size(o)():t.utils.symbolMap.get(r)(o)}var n,l=64;return e.type=function(t){return arguments.length?(n=d3.functor(t),e):n},e.size=function(t){return arguments.length?(l=d3.functor(t),e):l},e},t.utils.inheritOptions=function(e,n){var l=Object.getOwnPropertyNames(n._options||{}),i=Object.getOwnPropertyNames(n._calls||{}),r=n._inherited||[],o=n._d3options||[],s=l.concat(i).concat(r).concat(o);s.unshift(n),s.unshift(e),d3.rebind.apply(this,s),e._inherited=t.utils.arrayUnique(l.concat(i).concat(r).concat(l).concat(e._inherited||[])),e._d3options=t.utils.arrayUnique(o.concat(e._d3options||[]))},t.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},t.models.axis=function(){"use strict";function e(o){return b.reset(),o.each(function(e){var o=d3.select(this);t.utils.initSVG(o);var m=o.selectAll("g.nv-wrap.nv-axis").data([e]),v=m.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),w=(v.append("g"),m.select("g"));null!==p?n.ticks(p):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(l.range()[1]-l.range()[0])/100),w.watchTransition(b,"axis").call(n),y=y||n.scale();var x=n.tickFormat();null==x&&(x=y.tickFormat());var _=w.selectAll("text.nv-axislabel").data([s||null]);switch(_.exit().remove(),n.orient()){case"top":_.enter().append("text").attr("class","nv-axislabel");var C;if(C=l.range().length<2?0:2===l.range().length?l.range()[1]:l.range()[l.range().length-1]+(l.range()[1]-l.range()[0]),_.attr("text-anchor","middle").attr("y",0).attr("x",C/2),a){var k=m.selectAll("g.nv-axisMaxMin").data(l.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text"),k.exit().remove(),k.attr("transform",function(e){return"translate("+t.utils.NaNtoZero(l(e))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),k.watchTransition(b,"min-max top").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(l.range()[n])+",0)"})}break;case"bottom":var S=g+36,T=30,A=w.selectAll("g").select("text");if(c%360){A.each(function(){var t=this.getBoundingClientRect().width;t>T&&(T=t)});var D=Math.abs(Math.sin(c*Math.PI/180)),S=(D?D*T:T)+30;A.attr("transform",function(){return"rotate("+c+" 0,0)"}).style("text-anchor",c%360>0?"start":"end")}_.enter().append("text").attr("class","nv-axislabel");var C;if(C=l.range().length<2?0:2===l.range().length?l.range()[1]:l.range()[l.range().length-1]+(l.range()[1]-l.range()[0]),_.attr("text-anchor","middle").attr("y",S).attr("x",C/2),a){var k=m.selectAll("g.nv-axisMaxMin").data([l.domain()[0],l.domain()[l.domain().length-1]]);k.enter().append("g").attr("class","nv-axisMaxMin").append("text"),k.exit().remove(),k.attr("transform",function(e){return"translate("+t.utils.NaNtoZero(l(e)+(f?l.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",function(){return"rotate("+c+" 0,0)"}).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),k.watchTransition(b,"min-max bottom").attr("transform",function(e){return"translate("+t.utils.NaNtoZero(l(e)+(f?l.rangeBand()/2:0))+",0)"})}h&&A.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":if(_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",d?"middle":"begin").attr("transform",d?"rotate(90)":"").attr("y",d?-Math.max(i.right,r)+12:-10).attr("x",d?l.range()[0]/2:n.tickPadding()),a){var k=m.selectAll("g.nv-axisMaxMin").data(l.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),k.exit().remove(),k.attr("transform",function(e){return"translate(0,"+t.utils.NaNtoZero(l(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),k.watchTransition(b,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(l.range()[n])+")"}).select("text").style("opacity",1)}break;case"left":if(_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",d?"middle":"end").attr("transform",d?"rotate(-90)":"").attr("y",d?-Math.max(i.left,r)+25-(g||0):-10).attr("x",d?-l.range()[0]/2:-n.tickPadding()),a){var k=m.selectAll("g.nv-axisMaxMin").data(l.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),k.exit().remove(),k.attr("transform",function(e){return"translate(0,"+t.utils.NaNtoZero(y(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),k.watchTransition(b,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(l.range()[n])+")"}).select("text").style("opacity",1)}}if(_.text(function(t){return t}),!a||"left"!==n.orient()&&"right"!==n.orient()||(w.selectAll("g").each(function(t){d3.select(this).select("text").attr("opacity",1),(l(t)<l.range()[1]+10||l(t)>l.range()[0]-10)&&((t>1e-10||-1e-10>t)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),l.domain()[0]==l.domain()[1]&&0==l.domain()[0]&&m.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),a&&("top"===n.orient()||"bottom"===n.orient())){var M=[];m.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?M.push(l(t)-this.getBoundingClientRect().width-4):M.push(l(t)+this.getBoundingClientRect().width+4)}catch(n){e?M.push(l(t)-4):M.push(l(t)+4)}}),w.selectAll("g").each(function(t){(l(t)<M[0]||l(t)>M[1])&&(t>1e-10||-1e-10>t?d3.select(this).remove():d3.select(this).select("text").remove())})}u&&w.selectAll(".tick").filter(function(){return!parseFloat(Math.round(1e5*this.__data__)/1e6)&&void 0!==this.__data__}).classed("zero",!0),y=l.copy()}),b.renderEnd("axis immediate"),e}var n=d3.svg.axis(),l=d3.scale.linear(),i={top:0,right:0,bottom:0,left:0},r=75,o=60,s=null,a=!0,u=!0,c=0,d=!0,h=!1,f=!1,p=null,g=0,m=250,v=d3.dispatch("renderEnd");n.scale(l).orient("bottom").tickFormat(function(t){return t});var y,b=t.utils.renderWatch(v,m);return e.axis=n,e.dispatch=v,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return g},set:function(t){g=t}},staggerLabels:{get:function(){return h},set:function(t){h=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return d},set:function(t){d=t}},highlightZero:{get:function(){return u},set:function(t){u=t}},showMaxMin:{get:function(){return a},set:function(t){a=t}},axisLabel:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return o},set:function(t){o=t}},ticks:{get:function(){return p},set:function(t){p=t}},width:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},duration:{get:function(){return m},set:function(t){m=t,b.reset(m)}},scale:{get:function(){return l},set:function(i){l=i,n.scale(l),f="function"==typeof l.rangeBands,t.utils.inheritOptionsD3(e,l,["domain","range","rangeBand","rangeBands"])}}}),t.utils.initOptions(e),t.utils.inheritOptionsD3(e,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),t.utils.inheritOptionsD3(e,l,["domain","range","rangeBand","rangeBands"]),e},t.models.bullet=function(){"use strict";function e(l){return l.each(function(e,l){var p=h-n.left-n.right,v=f-n.top-n.bottom,y=d3.select(this);t.utils.initSVG(y);var b=r.call(this,e,l).slice().sort(d3.descending),w=o.call(this,e,l).slice().sort(d3.descending),x=s.call(this,e,l).slice().sort(d3.descending),_=a.call(this,e,l).slice(),C=u.call(this,e,l).slice(),k=c.call(this,e,l).slice(),S=d3.scale.linear().domain(d3.extent(d3.merge([d,b]))).range(i?[p,0]:[0,p]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(S.range());this.__chart__=S;var T=d3.min(b),A=d3.max(b),D=b[1],M=y.selectAll("g.nv-wrap.nv-bullet").data([e]),j=M.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),E=j.append("g"),O=M.select("g");E.append("rect").attr("class","nv-range nv-rangeMax"),E.append("rect").attr("class","nv-range nv-rangeAvg"),E.append("rect").attr("class","nv-range nv-rangeMin"),E.append("rect").attr("class","nv-measure"),E.append("path").attr("class","nv-markerTriangle"),M.attr("transform","translate("+n.left+","+n.top+")");var I=function(t){return Math.abs(S(t)-S(0))},$=function(t){return S(0>t?t:0)};O.select("rect.nv-rangeMax").attr("height",v).attr("width",I(A>0?A:T)).attr("x",$(A>0?A:T)).datum(A>0?A:T),O.select("rect.nv-rangeAvg").attr("height",v).attr("width",I(D)).attr("x",$(D)).datum(D),O.select("rect.nv-rangeMin").attr("height",v).attr("width",I(A)).attr("x",$(A)).attr("width",I(A>0?T:A)).attr("x",$(A>0?T:A)).datum(A>0?T:A),O.select("rect.nv-measure").style("fill",g).attr("height",v/3).attr("y",v/3).attr("width",0>x?S(0)-S(x[0]):S(x[0])-S(0)).attr("x",$(x)).on("mouseover",function(){m.elementMouseover({value:x[0],label:k[0]||"Current",pos:[S(x[0]),v/2]})}).on("mouseout",function(){m.elementMouseout({value:x[0],label:k[0]||"Current"})});var F=v/6;w[0]?O.selectAll("path.nv-markerTriangle").attr("transform",function(){return"translate("+S(w[0])+","+v/2+")"}).attr("d","M0,"+F+"L"+F+","+-F+" "+-F+","+-F+"Z").on("mouseover",function(){m.elementMouseover({value:w[0],label:C[0]||"Previous",pos:[S(w[0]),v/2]})}).on("mouseout",function(){m.elementMouseout({value:w[0],label:C[0]||"Previous"})}):O.selectAll("path.nv-markerTriangle").remove(),M.selectAll(".nv-range").on("mouseover",function(t,e){var n=_[e]||(e?1==e?"Mean":"Minimum":"Maximum");m.elementMouseover({value:t,label:n,pos:[S(t),v/2]})}).on("mouseout",function(t,e){var n=_[e]||(e?1==e?"Mean":"Minimum":"Maximum");m.elementMouseout({value:t,label:n})})}),e}var n={top:0,right:0,bottom:0,left:0},l="left",i=!1,r=function(t){return t.ranges},o=function(t){return t.markers?t.markers:[0]},s=function(t){return t.measures},a=function(t){return t.rangeLabels?t.rangeLabels:[]},u=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.measureLabels?t.measureLabels:[]},d=[0],h=380,f=30,p=null,g=t.utils.getColor(["#1f77b4"]),m=d3.dispatch("elementMouseover","elementMouseout");return e.dispatch=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return r},set:function(t){r=t}},markers:{get:function(){return o},set:function(t){o=t}},measures:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return d},set:function(t){d=t}},width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return f},set:function(t){f=t}},tickFormat:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},orient:{get:function(){return l},set:function(t){l=t,i="right"==l||"bottom"==l}},color:{get:function(){return g},set:function(e){g=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.bulletChart=function(){"use strict";function e(l){return l.each(function(f,v){var y=d3.select(this);t.utils.initSVG(y);var b=(u||parseInt(y.style("width"))||960)-r.left-r.right,w=c-r.top-r.bottom,x=this;if(e.update=function(){e(l)},e.container=this,!f||!o.call(this,f,v)){var _=y.selectAll(".nv-noData").data([p]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",r.left+b/2).attr("y",18+r.top+w/2).text(function(t){return t}),e}y.selectAll(".nv-noData").remove();var C=o.call(this,f,v).slice().sort(d3.descending),k=s.call(this,f,v).slice().sort(d3.descending),S=a.call(this,f,v).slice().sort(d3.descending),T=y.selectAll("g.nv-wrap.nv-bulletChart").data([f]),A=T.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),D=A.append("g"),M=T.select("g");D.append("g").attr("class","nv-bulletWrap"),D.append("g").attr("class","nv-titles"),T.attr("transform","translate("+r.left+","+r.top+")");var j=d3.scale.linear().domain([0,Math.max(C[0],k[0],S[0])]).range(i?[b,0]:[0,b]),E=this.__chart__||d3.scale.linear().domain([0,1/0]).range(j.range());this.__chart__=j;var O=D.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-r.top-r.bottom)/2+")");O.append("text").attr("class","nv-title").text(function(t){return t.title}),O.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),n.width(b).height(w);var I=M.select(".nv-bulletWrap");d3.transition(I).call(n);var $=d||j.tickFormat(b/100),F=M.selectAll("g.nv-tick").data(j.ticks(b/50),function(t){return this.textContent||$(t)}),P=F.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+E(t)+",0)"}).style("opacity",1e-6);P.append("line").attr("y1",w).attr("y2",7*w/6),P.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*w/6).text($);var N=d3.transition(F).attr("transform",function(t){return"translate("+j(t)+",0)"}).style("opacity",1);N.select("line").attr("y1",w).attr("y2",7*w/6),N.select("text").attr("y",7*w/6),d3.transition(F.exit()).attr("transform",function(t){return"translate("+j(t)+",0)"}).style("opacity",1e-6).remove(),g.on("tooltipShow",function(t){t.key=f.title,h&&m(t,x.parentNode)})}),d3.timer.flush(),e}var n=t.models.bullet(),l="left",i=!1,r={top:5,right:40,bottom:20,left:120},o=function(t){return t.ranges},s=function(t){return t.markers?t.markers:[0]},a=function(t){return t.measures},u=null,c=55,d=null,h=!0,f=function(t,e,n){return"<h3>"+e+"</h3><p>"+n+"</p>"},p="No Data Available.",g=d3.dispatch("tooltipShow","tooltipHide"),m=function(n,l){var i=n.pos[0]+(l.offsetLeft||0)+r.left,o=n.pos[1]+(l.offsetTop||0)+r.top,s=f(n.key,n.label,n.value,n,e);t.tooltip.show([i,o],s,n.value<0?"e":"w",null,l)};return n.dispatch.on("elementMouseover.tooltip",function(t){g.tooltipShow(t)}),n.dispatch.on("elementMouseout.tooltip",function(t){g.tooltipHide(t)}),g.on("tooltipHide",function(){h&&t.tooltip.cleanup()}),e.bullet=n,e.dispatch=g,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return o},set:function(t){o=t}},markers:{get:function(){return s},set:function(t){s=t}},measures:{get:function(){return a},set:function(t){a=t}},width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},tickFormat:{get:function(){return d},set:function(t){d=t}},tooltips:{get:function(){return h},set:function(t){h=t}},tooltipContent:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},orient:{get:function(){return l},set:function(t){l=t,i="right"==l||"bottom"==l}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.cumulativeLineChart=function(){"use strict";function e(C){return $.reset(),$.models(r),m&&$.models(o),v&&$.models(s),C.each(function(C){function E(){d3.select(e.container).style("cursor","ew-resize")}function $(){I.x=d3.event.x,I.i=Math.round(O.invert(I.x)),B()}function L(){d3.select(e.container).style("cursor","auto"),S.index=I.i,M.stateChange(S)}function B(){rt.data([I]);var t=e.duration();e.duration(0),e.update(),e.duration(t)}var R=d3.select(this);t.utils.initSVG(R),R.classed("nv-chart-"+k,!0);var z=this,H=(f||parseInt(R.style("width"))||960)-d.left-d.right,q=(p||parseInt(R.style("height"))||400)-d.top-d.bottom;if(e.update=function(){0===j?R.call(e):R.transition().duration(j).call(e)},e.container=this,S.setter(N(C),e.update).getter(P(C)).update(),S.disabled=C.map(function(t){return!!t.disabled}),!T){var U;T={};for(U in S)S[U]instanceof Array?T[U]=S[U].slice(0):T[U]=S[U]}var W=d3.behavior.drag().on("dragstart",E).on("drag",$).on("dragend",L);if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length)){var V=R.selectAll(".nv-noData").data([A]);return V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",d.left+H/2).attr("y",d.top+q/2).text(function(t){return t}),e}if(R.selectAll(".nv-noData").remove(),l=r.xScale(),i=r.yScale(),_)r.yDomain(null);else{var Y=C.filter(function(t){return!t.disabled}).map(function(t){var e=d3.extent(t.values,r.y());return e[0]<-.95&&(e[0]=-.95),[(e[0]-e[1])/(1+e[1]),(e[1]-e[0])/(1+e[0])]}),X=[d3.min(Y,function(t){return t[0]}),d3.max(Y,function(t){return t[1]})];r.yDomain(X)}O.domain([0,C[0].values.length-1]).range([0,H]).clamp(!0);var C=n(I.i,C),G=x?"none":"all",Z=R.selectAll("g.nv-wrap.nv-cumulativeLine").data([C]),K=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),J=Z.select("g");if(K.append("g").attr("class","nv-interactive"),K.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),K.append("g").attr("class","nv-y nv-axis"),K.append("g").attr("class","nv-background"),K.append("g").attr("class","nv-linesWrap").style("pointer-events",G),K.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),K.append("g").attr("class","nv-legendWrap"),K.append("g").attr("class","nv-controlsWrap"),g&&(a.width(H),J.select(".nv-legendWrap").datum(C).call(a),d.top!=a.height()&&(d.top=a.height(),q=(p||parseInt(R.style("height"))||400)-d.top-d.bottom),J.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")),w){var Q=[{key:"Re-scale y-axis",disabled:!_}];u.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),J.select(".nv-controlsWrap").datum(Q).attr("transform","translate(0,"+-d.top+")").call(u)}Z.attr("transform","translate("+d.left+","+d.top+")"),y&&J.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)");var tt=C.filter(function(t){return t.tempDisabled});Z.select(".tempDisabled").remove(),tt.length&&Z.append("text").attr("class","tempDisabled").attr("x",H/2).attr("y","-.71em").style("text-anchor","end").text(tt.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),x&&(c.width(H).height(q).margin({left:d.left,top:d.top}).svgContainer(R).xScale(l),Z.select(".nv-interactive").call(c)),K.select(".nv-background").append("rect"),J.select(".nv-background rect").attr("width",H).attr("height",q),r.y(function(t){return t.display.y}).width(H).height(q).color(C.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!C[e].disabled&&!C[e].tempDisabled}));var et=J.select(".nv-linesWrap").datum(C.filter(function(t){return!t.disabled&&!t.tempDisabled}));et.call(r),C.forEach(function(t,e){t.seriesIndex=e});var nt=C.filter(function(t){return!t.disabled&&!!D(t)}),lt=J.select(".nv-avgLinesWrap").selectAll("line").data(nt,function(t){return t.key}),it=function(t){var e=i(D(t));return 0>e?0:e>q?q:e};lt.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t){return r.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",H).attr("y1",it).attr("y2",it),lt.style("stroke-opacity",function(t){var e=i(D(t));return 0>e||e>q?0:1}).attr("x1",0).attr("x2",H).attr("y1",it).attr("y2",it),lt.exit().remove();var rt=et.selectAll(".nv-indexLine").data([I]);rt.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(W),rt.attr("transform",function(t){return"translate("+O(t.i)+",0)"}).attr("height",q),m&&(o.scale(l).ticks(t.utils.calcTicksX(H/70,C)).tickSize(-q,0),J.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),J.select(".nv-x.nv-axis").call(o)),v&&(s.scale(i).ticks(t.utils.calcTicksY(q/36,C)).tickSize(-H,0),J.select(".nv-y.nv-axis").call(s)),J.select(".nv-background rect").on("click",function(){I.x=d3.mouse(this)[0],I.i=Math.round(O.invert(I.x)),S.index=I.i,M.stateChange(S),B()}),r.dispatch.on("elementClick",function(t){I.i=t.pointIndex,I.x=O(I.i),S.index=I.i,M.stateChange(S),B()}),u.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,_=!t.disabled,S.rescaleY=_,M.stateChange(S),e.update()}),a.dispatch.on("stateChange",function(t){for(var n in t)S[n]=t[n];M.stateChange(S),e.update()}),c.dispatch.on("elementMousemove",function(n){r.clearHighlights();var l,i,a,u=[];if(C.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,s){i=t.interactiveBisect(o.values,n.pointXValue,e.x()),r.highlightPoint(s,i,!0);var c=o.values[i];"undefined"!=typeof c&&("undefined"==typeof l&&(l=c),"undefined"==typeof a&&(a=e.xScale()(e.x()(c,i))),u.push({key:o.key,value:e.y()(c,i),color:h(o,o.seriesIndex)}))}),u.length>2){var f=e.yScale().invert(n.mouseY),p=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),g=.03*p,m=t.nearestValueIndex(u.map(function(t){return t.value}),f,g);null!==m&&(u[m].highlight=!0)}var v=o.tickFormat()(e.x()(l,i),i);c.tooltip.position({left:a+d.left,top:n.mouseY+d.top}).chartContainer(z.parentNode).enabled(b).valueFormatter(function(t){return s.tickFormat()(t)}).data({value:v,series:u})(),c.renderGuideLine(a)}),c.dispatch.on("elementMouseout",function(){M.tooltipHide(),r.clearHighlights()}),M.on("tooltipShow",function(t){b&&F(t,z.parentNode)}),M.on("changeState",function(t){"undefined"!=typeof t.disabled&&(C.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),"undefined"!=typeof t.index&&(I.i=t.index,I.x=O(I.i),S.index=t.index,rt.data([I])),"undefined"!=typeof t.rescaleY&&(_=t.rescaleY),e.update()})}),$.renderEnd("cumulativeLineChart immediate"),e}function n(t,e){return L||(L=r.y()),e.map(function(e){if(!e.values)return e;var n=e.values[t];if(null==n)return e;var l=L(n,t);return-.95>l&&!E?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(L(t,e)-l)/(1+l)},t}),e)})}var l,i,r=t.models.line(),o=t.models.axis(),s=t.models.axis(),a=t.models.legend(),u=t.models.legend(),c=t.interactiveGuideline(),d={top:30,right:30,bottom:50,left:60},h=t.utils.defaultColor(),f=null,p=null,g=!0,m=!0,v=!0,y=!1,b=!0,w=!0,x=!1,_=!0,C=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},k=r.id(),S=t.utils.state(),T=null,A="No Data Available.",D=function(t){return t.average},M=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),j=250,E=!1;S.index=0,S.rescaleY=_,o.orient("bottom").tickPadding(7),s.orient(y?"right":"left"),u.updateState(!1);var O=d3.scale.linear(),I={i:0,x:0},$=t.utils.renderWatch(M,j),F=function(n,l){var i=n.pos[0]+(l.offsetLeft||0),a=n.pos[1]+(l.offsetTop||0),u=o.tickFormat()(r.x()(n.point,n.pointIndex)),c=s.tickFormat()(r.y()(n.point,n.pointIndex)),d=C(n.series.key,u,c,n,e);t.tooltip.show([i,a],d,null,null,l)},P=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:I.i,rescaleY:_}}},N=function(t){return function(e){void 0!==e.index&&(I.i=e.index),void 0!==e.rescaleY&&(_=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+d.left,t.pos[1]+d.top],M.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){b&&t.tooltip.cleanup()});var L=null;return e.dispatch=M,e.lines=r,e.legend=a,e.xAxis=o,e.yAxis=s,e.interactiveLayer=c,e.state=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},rescaleY:{get:function(){return _},set:function(t){_=t}},showControls:{get:function(){return w},set:function(t){w=t}},showLegend:{get:function(){return g},set:function(t){g=t}},average:{get:function(){return D},set:function(t){D=t}},tooltips:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return C},set:function(t){C=t}},defaultState:{get:function(){return T},set:function(t){T=t}},noData:{get:function(){return A},set:function(t){A=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},noErrorCheck:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),a.color(h)}},useInteractiveGuideline:{get:function(){return x},set:function(t){x=t,t===!0&&(e.interactive(!1),e.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,s.orient(t?"right":"left")}},duration:{get:function(){return j},set:function(t){j=t,r.duration(j),o.duration(j),s.duration(j),$.reset(j)}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.discreteBar=function(){"use strict";function e(d){return C.reset(),d.each(function(e){var d=u-a.left-a.right,_=c-a.top-a.bottom,k=d3.select(this);t.utils.initSVG(k),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var S=n&&l?[]:e.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),y0:t.y0}})});h.domain(n||d3.merge(S).map(function(t){return t.x})).rangeBands(i||[0,d],.1),f.domain(l||d3.extent(d3.merge(S).map(function(t){return t.y}).concat(m))),y?f.range(r||[_-(f.domain()[0]<0?12:0),f.domain()[1]>0?12:0]):f.range(r||[_,0]),o=o||h,s=s||f.copy().range([f(0),f(0)]);var T=k.selectAll("g.nv-wrap.nv-discretebar").data([e]),A=T.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),D=A.append("g");T.select("g");D.append("g").attr("class","nv-groups"),T.attr("transform","translate("+a.left+","+a.top+")");var M=T.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),M.exit().watchTransition(C,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),M.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),M.watchTransition(C,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var j=M.selectAll("g.nv-bar").data(function(t){return t.values});j.exit().remove();var E=j.enter().append("g").attr("transform",function(t,e){return"translate("+(h(p(t,e))+.05*h.rangeBand())+", "+f(0)+")"}).on("mouseover",function(t,n){d3.select(this).classed("hover",!0),w.elementMouseover({value:g(t,n),point:t,series:e[t.series],pos:[h(p(t,n))+h.rangeBand()*(t.series+.5)/e.length,f(g(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),w.elementMouseout({value:g(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){w.elementClick({value:g(t,n),point:t,series:e[t.series],pos:[h(p(t,n))+h.rangeBand()*(t.series+.5)/e.length,f(g(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){w.elementDblClick({value:g(t,n),point:t,series:e[t.series],pos:[h(p(t,n))+h.rangeBand()*(t.series+.5)/e.length,f(g(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()});E.append("rect").attr("height",0).attr("width",.9*h.rangeBand()/e.length),y?(E.append("text").attr("text-anchor","middle"),j.select("text").text(function(t,e){return b(g(t,e))}).watchTransition(C,"discreteBar: bars text").attr("x",.9*h.rangeBand()/2).attr("y",function(t,e){return g(t,e)<0?f(g(t,e))-f(0)+12:-4})):j.selectAll("text").remove(),j.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||v(t,e)}).style("stroke",function(t,e){return t.color||v(t,e)}).select("rect").attr("class",x).watchTransition(C,"discreteBar: bars rect").attr("width",.9*h.rangeBand()/e.length),j.watchTransition(C,"discreteBar: bars").attr("transform",function(t,e){var n=h(p(t,e))+.05*h.rangeBand(),l=g(t,e)<0?f(0):f(0)-f(g(t,e))<1?f(0)-1:f(g(t,e));return"translate("+n+", "+l+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(f(g(t,e))-f(l&&l[0]||0))||1)}),o=h.copy(),s=f.copy()}),C.renderEnd("discreteBar immediate"),e}var n,l,i,r,o,s,a={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),h=d3.scale.ordinal(),f=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},m=[0],v=t.utils.defaultColor(),y=!1,b=d3.format(",.2f"),w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),x="discreteBar",_=250,C=t.utils.renderWatch(w,_);return e.dispatch=w,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},forceY:{get:function(){return m},set:function(t){m=t}},showValues:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return l},set:function(t){l=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return r},set:function(t){r=t}},valueFormat:{get:function(){return b},set:function(t){b=t}},id:{get:function(){return d},set:function(t){
d=t}},rectClass:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}},duration:{get:function(){return _},set:function(t){_=t,C.reset(_)}}}),t.utils.initOptions(e),e},t.models.discreteBarChart=function(){"use strict";function e(c){return x.reset(),x.models(i),d&&x.models(r),h&&x.models(o),c.each(function(c){var m=d3.select(this),x=this;t.utils.initSVG(m);var _=(a||parseInt(m.style("width"))||960)-s.left-s.right,C=(u||parseInt(m.style("height"))||400)-s.top-s.bottom;if(e.update=function(){y.beforeUpdate(),m.transition().duration(b).call(e)},e.container=this,!(c&&c.length&&c.filter(function(t){return t.values.length}).length)){var k=m.selectAll(".nv-noData").data([v]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",s.left+_/2).attr("y",s.top+C/2).text(function(t){return t}),e}m.selectAll(".nv-noData").remove(),n=i.xScale(),l=i.yScale().clamp(!0);var S=m.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([c]),T=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),A=T.append("defs"),D=S.select("g");T.append("g").attr("class","nv-x nv-axis"),T.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),T.append("g").attr("class","nv-barsWrap"),D.attr("transform","translate("+s.left+","+s.top+")"),f&&D.select(".nv-y.nv-axis").attr("transform","translate("+_+",0)"),i.width(_).height(C);var M=D.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled}));if(M.transition().call(i),A.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),D.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",n.rangeBand()*(p?2:1)).attr("height",16).attr("x",-n.rangeBand()/(p?1:2)),d){r.scale(n).ticks(t.utils.calcTicksX(_/100,c)).tickSize(-C,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+(l.range()[0]+(i.showValues()&&l.domain()[0]<0?16:0))+")"),D.select(".nv-x.nv-axis").call(r);var j=D.select(".nv-x.nv-axis").selectAll("g");p&&j.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}h&&(o.scale(l).ticks(t.utils.calcTicksY(C/36,c)).tickSize(-_,0),D.select(".nv-y.nv-axis").call(o)),D.select(".nv-zeroLine line").attr("x1",0).attr("x2",_).attr("y1",l(0)).attr("y2",l(0)),y.on("tooltipShow",function(t){g&&w(t,x.parentNode)})}),x.renderEnd("discreteBar chart immediate"),e}var n,l,i=t.models.discreteBar(),r=t.models.axis(),o=t.models.axis(),s={top:15,right:10,bottom:50,left:60},a=null,u=null,c=t.utils.getColor(),d=!0,h=!0,f=!1,p=!1,g=!0,m=function(t,e,n){return"<h3>"+e+"</h3><p>"+n+"</p>"},v="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),b=250;r.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(f?"right":"left").tickFormat(d3.format(",.1f"));var w=function(n,l){var s=n.pos[0]+(l.offsetLeft||0),a=n.pos[1]+(l.offsetTop||0),u=r.tickFormat()(i.x()(n.point,n.pointIndex)),c=o.tickFormat()(i.y()(n.point,n.pointIndex)),d=m(n.series.key,u,c,n,e);t.tooltip.show([s,a],d,n.value<0?"n":"s",null,l)},x=t.utils.renderWatch(y,b);return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],y.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){y.tooltipHide(t)}),y.on("tooltipHide",function(){g&&t.tooltip.cleanup()}),e.dispatch=y,e.discretebar=i,e.xAxis=r,e.yAxis=o,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},staggerLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return h},set:function(t){h=t}},tooltips:{get:function(){return g},set:function(t){g=t}},tooltipContent:{get:function(){return m},set:function(t){m=t}},noData:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return b},set:function(t){b=t,x.reset(b),i.duration(b),r.duration(b),o.duration(b)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e),i.color(c)}},rightAlignYAxis:{get:function(){return f},set:function(t){f=t,o.orient(t?"right":"left")}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.distribution=function(){"use strict";function e(c){return h.reset(),c.each(function(e){var c=(i-("x"===o?l.left+l.right:l.top+l.bottom),"x"==o?"y":"x"),d=d3.select(this);t.utils.initSVG(d),n=n||u;var f=d.selectAll("g.nv-distribution").data([e]),p=f.enter().append("g").attr("class","nvd3 nv-distribution"),g=(p.append("g"),f.select("g"));f.attr("transform","translate("+l.left+","+l.top+")");var m=g.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});m.enter().append("g"),m.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return a(t,e)});var v=m.selectAll("line.nv-dist"+o).data(function(t){return t.values});v.enter().append("line").attr(o+"1",function(t,e){return n(s(t,e))}).attr(o+"2",function(t,e){return n(s(t,e))}),h.transition(m.exit().selectAll("line.nv-dist"+o),"dist exit").attr(o+"1",function(t,e){return u(s(t,e))}).attr(o+"2",function(t,e){return u(s(t,e))}).style("stroke-opacity",0).remove(),v.attr("class",function(t,e){return"nv-dist"+o+" nv-dist"+o+"-"+e}).attr(c+"1",0).attr(c+"2",r),h.transition(v,"dist").attr(o+"1",function(t,e){return u(s(t,e))}).attr(o+"2",function(t,e){return u(s(t,e))}),n=u.copy()}),h.renderEnd("distribution immediate"),e}var n,l={top:0,right:0,bottom:0,left:0},i=400,r=8,o="x",s=function(t){return t[o]},a=t.utils.defaultColor(),u=d3.scale.linear(),c=250,d=d3.dispatch("renderEnd"),h=t.utils.renderWatch(d,c);return e.options=t.utils.optionsFunc.bind(e),e.dispatch=d,e.margin=function(t){return arguments.length?(l.top="undefined"!=typeof t.top?t.top:l.top,l.right="undefined"!=typeof t.right?t.right:l.right,l.bottom="undefined"!=typeof t.bottom?t.bottom:l.bottom,l.left="undefined"!=typeof t.left?t.left:l.left,e):l},e.width=function(t){return arguments.length?(i=t,e):i},e.axis=function(t){return arguments.length?(o=t,e):o},e.size=function(t){return arguments.length?(r=t,e):r},e.getData=function(t){return arguments.length?(s=d3.functor(t),e):s},e.scale=function(t){return arguments.length?(u=t,e):u},e.color=function(n){return arguments.length?(a=t.utils.getColor(n),e):a},e.duration=function(t){return arguments.length?(c=t,h.reset(c),e):c},e},t.models.historicalBar=function(){"use strict";function e(_){return _.each(function(e){x.reset();var _=d3.select(this),C=(s||parseInt(_.style("width"))||960)-o.left-o.right,k=(a||parseInt(_.style("height"))||400)-o.top-o.bottom;t.utils.initSVG(_),c.domain(n||d3.extent(e[0].values.map(h).concat(p))),m?c.range(i||[.5*C/e[0].values.length,C*(e[0].values.length-.5)/e[0].values.length]):c.range(i||[0,C]),d.domain(l||d3.extent(e[0].values.map(f).concat(g))).range(r||[k,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var S=_.selectAll("g.nv-wrap.nv-historicalBar-"+u).data([e[0].values]),T=S.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+u),A=T.append("defs"),D=T.append("g"),M=S.select("g");D.append("g").attr("class","nv-bars"),S.attr("transform","translate("+o.left+","+o.top+")"),_.on("click",function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:u})}),A.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),S.select("#nv-chart-clip-path-"+u+" rect").attr("width",C).attr("height",k),M.attr("clip-path",v?"url(#nv-chart-clip-path-"+u+")":"");var j=S.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return h(t,e)});j.exit().remove();j.enter().append("rect").attr("x",0).attr("y",function(e,n){return t.utils.NaNtoZero(d(Math.max(0,f(e,n))))}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.abs(d(f(e,n))-d(0)))}).attr("transform",function(t,n){return"translate("+(c(h(t,n))-C/e[0].values.length*.45)+",0)"}).on("mouseover",function(t,n){w&&(d3.select(this).classed("hover",!0),b.elementMouseover({point:t,series:e[0],pos:[c(h(t,n)),d(f(t,n))],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("mouseout",function(t,n){w&&(d3.select(this).classed("hover",!1),b.elementMouseout({point:t,series:e[0],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("click",function(t,e){w&&(b.elementClick({value:f(t,e),data:t,index:e,pos:[c(h(t,e)),d(f(t,e))],e:d3.event,id:u}),d3.event.stopPropagation())}).on("dblclick",function(t,e){w&&(b.elementDblClick({value:f(t,e),data:t,index:e,pos:[c(h(t,e)),d(f(t,e))],e:d3.event,id:u}),d3.event.stopPropagation())});j.attr("fill",function(t,e){return y(t,e)}).attr("class",function(t,e,n){return(f(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(x,"bars").attr("transform",function(t,n){return"translate("+(c(h(t,n))-C/e[0].values.length*.45)+",0)"}).attr("width",C/e[0].values.length*.9),j.watchTransition(x,"bars").attr("y",function(e,n){var l=f(e,n)<0?d(0):d(0)-d(f(e,n))<1?d(0)-1:d(f(e,n));return t.utils.NaNtoZero(l)}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.max(Math.abs(d(f(e,n))-d(0)),1))})}),x.renderEnd("historicalBar immediate"),e}var n,l,i,r,o={top:0,right:0,bottom:0,left:0},s=null,a=null,u=Math.floor(1e4*Math.random()),c=d3.scale.linear(),d=d3.scale.linear(),h=function(t){return t.x},f=function(t){return t.y},p=[],g=[0],m=!1,v=!0,y=t.utils.defaultColor(),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),w=!0,x=t.utils.renderWatch(b,0);return e.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+u).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){d3.select(".nv-historicalBar-"+u).select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=b,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},forceX:{get:function(){return p},set:function(t){p=t}},forceY:{get:function(){return g},set:function(t){g=t}},padData:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return h},set:function(t){h=t}},y:{get:function(){return f},set:function(t){f=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return l},set:function(t){l=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return r},set:function(t){r=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBarChart=function(e){"use strict";function n(e){return e.each(function(w){A.reset(),A.models(r),g&&A.models(o),m&&A.models(s);var D=d3.select(this),M=this;t.utils.initSVG(D);var j=(h||parseInt(D.style("width"))||960)-c.left-c.right,E=(f||parseInt(D.style("height"))||400)-c.top-c.bottom;if(n.update=function(){D.transition().duration(S).call(n)},n.container=this,x.disabled=w.map(function(t){return!!t.disabled}),!_){var O;_={};for(O in x)x[O]instanceof Array?_[O]=x[O].slice(0):_[O]=x[O]}if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var I=D.selectAll(".nv-noData").data([C]);return I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",c.left+j/2).attr("y",c.top+E/2).text(function(t){return t}),n}D.selectAll(".nv-noData").remove(),l=r.xScale(),i=r.yScale();var $=D.selectAll("g.nv-wrap.nv-historicalBarChart").data([w]),F=$.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),P=$.select("g");F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-legendWrap"),F.append("g").attr("class","nv-interactive"),p&&(a.width(j),P.select(".nv-legendWrap").datum(w).call(a),c.top!=a.height()&&(c.top=a.height(),E=(f||parseInt(D.style("height"))||400)-c.top-c.bottom),$.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")),$.attr("transform","translate("+c.left+","+c.top+")"),v&&P.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)"),y&&(u.width(j).height(E).margin({left:c.left,top:c.top}).svgContainer(D).xScale(l),$.select(".nv-interactive").call(u)),r.width(j).height(E).color(w.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!w[e].disabled}));var N=P.select(".nv-barsWrap").datum(w.filter(function(t){return!t.disabled}));N.transition().call(r),g&&(o.scale(l).tickSize(-E,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),P.select(".nv-x.nv-axis").transition().call(o)),m&&(s.scale(i).ticks(t.utils.calcTicksY(E/36,w)).tickSize(-j,0),P.select(".nv-y.nv-axis").transition().call(s)),u.dispatch.on("elementMousemove",function(e){r.clearHighlights();var l,i,a,h=[];w.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o){i=t.interactiveBisect(o.values,e.pointXValue,n.x()),r.highlightPoint(i,!0);var s=o.values[i];"undefined"!=typeof s&&("undefined"==typeof l&&(l=s),"undefined"==typeof a&&(a=n.xScale()(n.x()(s,i))),h.push({key:o.key,value:n.y()(s,i),color:d(o,o.seriesIndex),data:o.values[i]}))});var f=o.tickFormat()(n.x()(l,i));u.tooltip.position({left:a+c.left,top:e.mouseY+c.top}).chartContainer(M.parentNode).enabled(b).valueFormatter(function(t){return s.tickFormat()(t)}).data({value:f,series:h})(),u.renderGuideLine(a)}),u.dispatch.on("elementMouseout",function(){k.tooltipHide(),r.clearHighlights()}),a.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,w.filter(function(t){return!t.disabled}).length||w.map(function(t){return t.disabled=!1,$.selectAll(".nv-series").classed("disabled",!1),t}),x.disabled=w.map(function(t){return!!t.disabled}),k.stateChange(x),e.transition().call(n)}),a.dispatch.on("legendDblclick",function(t){w.forEach(function(t){t.disabled=!0}),t.disabled=!1,x.disabled=w.map(function(t){return!!t.disabled}),k.stateChange(x),n.update()}),k.on("tooltipShow",function(t){b&&T(t,M.parentNode)}),k.on("changeState",function(t){"undefined"!=typeof t.disabled&&(w.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),n.update()})}),A.renderEnd("historicalBarChart immediate"),n}var l,i,r=e||t.models.historicalBar(),o=t.models.axis(),s=t.models.axis(),a=t.models.legend(),u=t.interactiveGuideline(),c={top:30,right:90,bottom:50,left:90},d=t.utils.defaultColor(),h=null,f=null,p=!1,g=!0,m=!0,v=!1,y=!1,b=!0,w=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},x={},_=null,C="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),S=250;o.orient("bottom").tickPadding(7),s.orient(v?"right":"left");var T=function(e,l){if(l){var i=d3.select(l).select("svg"),a=i.node()?i.attr("viewBox"):null;if(a){a=a.split(" ");var u=parseInt(i.style("width"))/a[2];e.pos[0]=e.pos[0]*u,e.pos[1]=e.pos[1]*u}}var c=e.pos[0]+(l.offsetLeft||0),d=e.pos[1]+(l.offsetTop||0),h=o.tickFormat()(r.x()(e.point,e.pointIndex)),f=s.tickFormat()(r.y()(e.point,e.pointIndex)),p=w(e.series.key,h,f,e,n);t.tooltip.show([c,d],p,null,null,l)},A=t.utils.renderWatch(k,0);return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],k.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){b&&t.tooltip.cleanup()}),n.dispatch=k,n.bars=r,n.legend=a,n.xAxis=o,n.yAxis=s,n.interactiveLayer=u,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return g},set:function(t){g=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},tooltips:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return w},set:function(t){w=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),a.color(d),r.color(d)}},duration:{get:function(){return S},set:function(t){S=t,A.reset(S),s.duration(S),o.duration(S)}},rightAlignYAxis:{get:function(){return v},set:function(t){v=t,s.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(t){y=t,t===!0&&n.interactive(!1)}}}),t.utils.inheritOptions(n,r),t.utils.initOptions(n),n},t.models.ohlcBarChart=function(){var e=t.models.historicalBarChart(t.models.ohlcBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data,l=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+l+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.legend=function(){"use strict";function e(h){return h.each(function(e){var h=l-n.left-n.right,f=d3.select(this);t.utils.initSVG(f);var p=f.selectAll("g.nv-legend").data([e]),g=(p.enter().append("g").attr("class","nvd3 nv-legend").append("g"),p.select("g"));p.attr("transform","translate("+n.left+","+n.top+")");var m=g.selectAll(".nv-series").data(function(t){return t}),v=m.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){d.legendMouseover(t,e)}).on("mouseout",function(t,e){d.legendMouseout(t,e)}).on("click",function(t,n){d.legendClick(t,n),u&&(c?(e.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,e.every(function(t){return t.disabled})&&e.forEach(function(t){t.disabled=!1})),d.stateChange({disabled:e.map(function(t){return!!t.disabled})}))}).on("dblclick",function(t,n){d.legendDblclick(t,n),u&&(e.forEach(function(t){t.disabled=!0}),t.disabled=!1,d.stateChange({disabled:e.map(function(t){return!!t.disabled})}))});if(v.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),v.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),m.classed("nv-disabled",function(t){return t.disabled}),m.exit().remove(),m.select("circle").style("fill",function(t,e){return t.color||o(t,e)}).style("stroke",function(t,e){return t.color||o(t,e)}),m.select("text").text(r),s){var y=[];m.each(function(){var e,n=d3.select(this).select("text");try{if(e=n.node().getComputedTextLength(),0>=e)throw Error()}catch(l){e=t.utils.calcApproxTextWidth(n)}y.push(e+28)});for(var b=0,w=0,x=[];h>w&&b<y.length;)x[b]=y[b],w+=y[b++];for(0===b&&(b=1);w>h&&b>1;){x=[],b--;for(var _=0;_<y.length;_++)y[_]>(x[_%b]||0)&&(x[_%b]=y[_]);w=x.reduce(function(t,e){return t+e})}for(var C=[],k=0,S=0;b>k;k++)C[k]=S,S+=x[k];m.attr("transform",function(t,e){return"translate("+C[e%b]+","+(5+20*Math.floor(e/b))+")"}),a?g.attr("transform","translate("+(l-n.right-w)+","+n.top+")"):g.attr("transform","translate(0,"+n.top+")"),i=n.top+n.bottom+20*Math.ceil(y.length/b)}else{var T,A=5,D=5,M=0;m.attr("transform",function(){var t=d3.select(this).select("text").node().getComputedTextLength()+28;return T=D,l<n.left+n.right+T+t&&(D=T=5,A+=20),D+=t,D>M&&(M=D),"translate("+T+","+A+")"}),g.attr("transform","translate("+(l-n.right-M)+","+n.top+")"),i=n.top+n.bottom+A+15}}),e}var n={top:5,right:0,bottom:5,left:0},l=400,i=20,r=function(t){return t.key},o=t.utils.defaultColor(),s=!0,a=!0,u=!0,c=!1,d=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return e.dispatch=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return i},set:function(t){i=t}},key:{get:function(){return r},set:function(t){r=t}},align:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return a},set:function(t){a=t}},updateState:{get:function(){return u},set:function(t){u=t}},radioButtonMode:{get:function(){return c},set:function(t){c=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return o},set:function(e){o=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.line=function(){"use strict";function e(g){return b.reset(),b.models(i),g.each(function(e){var g=o-r.left-r.right,m=s-r.top-r.bottom,w=d3.select(this);t.utils.initSVG(w),n=i.xScale(),l=i.yScale(),v=v||n,y=y||l;var x=w.selectAll("g.nv-wrap.nv-line").data([e]),_=x.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),C=_.append("defs"),k=_.append("g"),S=x.select("g");k.append("g").attr("class","nv-groups"),k.append("g").attr("class","nv-scatterWrap"),x.attr("transform","translate("+r.left+","+r.top+")"),i.width(g).height(m);var T=x.select(".nv-scatterWrap");T.call(i),C.append("clipPath").attr("id","nv-edge-clip-"+i.id()).append("rect"),x.select("#nv-edge-clip-"+i.id()+" rect").attr("width",g).attr("height",m>0?m:0),S.attr("clip-path",f?"url(#nv-edge-clip-"+i.id()+")":""),T.attr("clip-path",f?"url(#nv-edge-clip-"+i.id()+")":"");var A=x.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});A.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),A.exit().remove(),A.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return a(t,e)}).style("stroke",function(t,e){return a(t,e)}),A.watchTransition(b,"line: groups").style("stroke-opacity",1).style("fill-opacity",.5);var D=A.selectAll("path.nv-area").data(function(t){return h(t)?[t]:[]});D.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(p).defined(d).x(function(e,n){return t.utils.NaNtoZero(v(u(e,n)))}).y0(function(e,n){return t.utils.NaNtoZero(y(c(e,n)))}).y1(function(){return y(l.domain()[0]<=0?l.domain()[1]>=0?0:l.domain()[1]:l.domain()[0])}).apply(this,[e.values])}),A.exit().selectAll("path.nv-area").remove(),D.watchTransition(b,"line: areaPaths").attr("d",function(e){return d3.svg.area().interpolate(p).defined(d).x(function(e,l){return t.utils.NaNtoZero(n(u(e,l)))}).y0(function(e,n){return t.utils.NaNtoZero(l(c(e,n)))}).y1(function(){return l(l.domain()[0]<=0?l.domain()[1]>=0?0:l.domain()[1]:l.domain()[0])}).apply(this,[e.values])});var M=A.selectAll("path.nv-line").data(function(t){return[t.values]});M.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(p).defined(d).x(function(e,n){return t.utils.NaNtoZero(v(u(e,n)))}).y(function(e,n){return t.utils.NaNtoZero(y(c(e,n)))})),M.watchTransition(b,"line: linePaths").attr("d",d3.svg.line().interpolate(p).defined(d).x(function(e,l){return t.utils.NaNtoZero(n(u(e,l)))}).y(function(e,n){return t.utils.NaNtoZero(l(c(e,n)))})),v=n.copy(),y=l.copy()}),b.renderEnd("line immediate"),e}var n,l,i=t.models.scatter(),r={top:0,right:0,bottom:0,left:0},o=960,s=500,a=t.utils.defaultColor(),u=function(t){return t.x},c=function(t){return t.y},d=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},h=function(t){return t.area},f=!1,p="linear",g=250,m=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");i.pointSize(16).pointDomain([16,256]);var v,y,b=t.utils.renderWatch(m,g);return e.dispatch=m,e.scatter=i,i.dispatch.on("elementClick",function(){m.elementClick.apply(this,arguments)}),i.dispatch.on("elementMouseover",function(){m.elementMouseover.apply(this,arguments)}),i.dispatch.on("elementMouseout",function(){m.elementMouseout.apply(this,arguments)}),e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},defined:{get:function(){return d},set:function(t){d=t}},interpolate:{get:function(){return p},set:function(t){p=t}},clipEdge:{get:function(){return f},set:function(t){f=t}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},duration:{get:function(){return g},set:function(t){g=t,b.reset(g),i.duration(g)}},isArea:{get:function(){return h},set:function(t){h=d3.functor(t)}},x:{get:function(){return u},set:function(t){u=t,i.x(t)}},y:{get:function(){return c},set:function(t){c=t,i.y(t)}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e),i.color(a)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.lineChart=function(){"use strict";function e(b){return T.reset(),T.models(i),p&&T.models(r),g&&T.models(o),b.each(function(b){var T=d3.select(this),M=this;t.utils.initSVG(T);var j=(d||parseInt(T.style("width"))||960)-u.left-u.right,E=(h||parseInt(T.style("height"))||400)-u.top-u.bottom;if(e.update=function(){0===k?T.call(e):T.transition().duration(k).call(e)},e.container=this,w.setter(D(b),e.update).getter(A(b)).update(),w.disabled=b.map(function(t){return!!t.disabled}),!x){var O;x={};for(O in w)w[O]instanceof Array?x[O]=w[O].slice(0):x[O]=w[O]}if(!(b&&b.length&&b.filter(function(t){return t.values.length}).length)){var I=T.selectAll(".nv-noData").data([_]);return I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",u.left+j/2).attr("y",u.top+E/2).text(function(t){return t}),e}T.selectAll(".nv-noData").remove(),n=i.xScale(),l=i.yScale();var $=T.selectAll("g.nv-wrap.nv-lineChart").data([b]),F=$.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),P=$.select("g");F.append("rect").style("opacity",0),F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-linesWrap"),F.append("g").attr("class","nv-legendWrap"),F.append("g").attr("class","nv-interactive"),P.select("rect").attr("width",j).attr("height",E>0?E:0),f&&(s.width(j),P.select(".nv-legendWrap").datum(b).call(s),u.top!=s.height()&&(u.top=s.height(),E=(h||parseInt(T.style("height"))||400)-u.top-u.bottom),$.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),$.attr("transform","translate("+u.left+","+u.top+")"),m&&P.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)"),v&&(a.width(j).height(E).margin({left:u.left,top:u.top}).svgContainer(T).xScale(n),$.select(".nv-interactive").call(a)),i.width(j).height(E).color(b.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!b[e].disabled}));var N=P.select(".nv-linesWrap").datum(b.filter(function(t){return!t.disabled}));N.call(i),p&&(r.scale(n).ticks(t.utils.calcTicksX(j/100,b)).tickSize(-E,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")"),P.select(".nv-x.nv-axis").call(r)),g&&(o.scale(l).ticks(t.utils.calcTicksY(E/36,b)).tickSize(-j,0),P.select(".nv-y.nv-axis").call(o)),s.dispatch.on("stateChange",function(t){for(var n in t)w[n]=t[n];C.stateChange(w),e.update()}),a.dispatch.on("elementMousemove",function(n){i.clearHighlights();var l,s,d,h=[];if(b.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(r,o){s=t.interactiveBisect(r.values,n.pointXValue,e.x()),i.highlightPoint(o,s,!0);var a=r.values[s];"undefined"!=typeof a&&("undefined"==typeof l&&(l=a),"undefined"==typeof d&&(d=e.xScale()(e.x()(a,s))),h.push({key:r.key,value:e.y()(a,s),color:c(r,r.seriesIndex)}))}),h.length>2){var f=e.yScale().invert(n.mouseY),p=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),g=.03*p,m=t.nearestValueIndex(h.map(function(t){return t.value}),f,g);null!==m&&(h[m].highlight=!0)}var v=r.tickFormat()(e.x()(l,s));a.tooltip.position({left:d+u.left,top:n.mouseY+u.top}).chartContainer(M.parentNode).enabled(y).valueFormatter(function(t){return o.tickFormat()(t)}).data({value:v,series:h})(),a.renderGuideLine(d)}),a.dispatch.on("elementClick",function(n){var l,r=[];b.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(i){var o=t.interactiveBisect(i.values,n.pointXValue,e.x()),s=i.values[o];if("undefined"!=typeof s){"undefined"==typeof l&&(l=e.xScale()(e.x()(s,o)));var a=e.yScale()(e.y()(s,o));r.push({point:s,pointIndex:o,pos:[l,a],seriesIndex:i.seriesIndex,series:i})}}),i.dispatch.elementClick(r)}),a.dispatch.on("elementMouseout",function(){C.tooltipHide(),i.clearHighlights()}),C.on("tooltipShow",function(t){y&&S(t,M.parentNode)}),C.on("changeState",function(t){"undefined"!=typeof t.disabled&&b.length===t.disabled.length&&(b.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),e.update()})}),T.renderEnd("lineChart immediate"),e}var n,l,i=t.models.line(),r=t.models.axis(),o=t.models.axis(),s=t.models.legend(),a=t.interactiveGuideline(),u={top:30,right:20,bottom:50,left:60},c=t.utils.defaultColor(),d=null,h=null,f=!0,p=!0,g=!0,m=!1,v=!1,y=!0,b=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},w=t.utils.state(),x=null,_="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),k=250;r.orient("bottom").tickPadding(7),o.orient(m?"right":"left");var S=function(n,l){var s=n.pos[0]+(l.offsetLeft||0),a=n.pos[1]+(l.offsetTop||0),u=r.tickFormat()(i.x()(n.point,n.pointIndex)),c=o.tickFormat()(i.y()(n.point,n.pointIndex)),d=b(n.series.key,u,c,n,e);t.tooltip.show([s,a],d,null,null,l)},T=t.utils.renderWatch(C,k),A=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},D=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],C.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){y&&t.tooltip.cleanup()}),e.dispatch=C,e.lines=i,e.legend=s,e.xAxis=r,e.yAxis=o,e.interactiveLayer=a,e.dispatch=C,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return f},set:function(t){f=t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},tooltips:{get:function(){return y},set:function(t){y=t}},tooltipContent:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return x},set:function(t){x=t}},noData:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return k},set:function(t){k=t,T.reset(k),i.duration(k),r.duration(k),o.duration(k)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e),s.color(c),i.color(c)}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,o.orient(m?"right":"left")}},useInteractiveGuideline:{get:function(){return v},set:function(t){v=t,v&&(i.interactive(!1),i.useVoronoi(!1))}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.linePlusBarChart=function(){
"use strict";function e(F){return F.each(function(F){function V(t){var e=+("e"==t),n=e?1:-1,l=Q/3;return"M"+.5*n+","+l+"A6,6 0 0 "+e+" "+6.5*n+","+(l+6)+"V"+(2*l-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*l+"ZM"+2.5*n+","+(l+8)+"V"+(2*l-8)+"M"+4.5*n+","+(l+8)+"V"+(2*l-8)}function Y(){w.empty()||w.extent(I),ft.data([w.empty()?i.domain():I]).each(function(t){var e=i(t[0])-i.range()[0],n=i.range()[1]-i(t[1]);d3.select(this).select(".left").attr("width",0>e?0:e),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",0>n?0:n)})}function X(){I=w.empty()?null:w.extent(),n=w.empty()?i.domain():w.extent(),N.brush({extent:n,brush:w}),Y(),d.width(K).height(J).color(F.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!F[e].disabled&&F[e].bar})),u.width(K).height(J).color(F.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!F[e].disabled&&!F[e].bar}));var e=at.select(".nv-focus .nv-barsWrap").datum(nt.length?nt.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return d.x()(t,e)>=n[0]&&d.x()(t,e)<=n[1]})}}):[{values:[]}]),s=at.select(".nv-focus .nv-linesWrap").datum(lt[0].disabled?[{values:[]}]:lt.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return u.x()(t,e)>=n[0]&&u.x()(t,e)<=n[1]})}}));l=nt.length?d.xScale():u.xScale(),f.scale(l).ticks(t.utils.calcTicksX(K/100,F)).tickSize(-J,0),f.domain([Math.ceil(n[0]),Math.floor(n[1])]),at.select(".nv-x.nv-axis").transition().duration(L).call(f),e.transition().duration(L).call(d),s.transition().duration(L).call(u),at.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),g.scale(r).ticks(t.utils.calcTicksY(J/36,F)).tickSize(-K,0),m.scale(o).ticks(t.utils.calcTicksY(J/36,F)).tickSize(nt.length?0:-K,0),at.select(".nv-focus .nv-y1.nv-axis").style("opacity",nt.length?1:0),at.select(".nv-focus .nv-y2.nv-axis").style("opacity",lt.length&&!lt[0].disabled?1:0).attr("transform","translate("+l.range()[1]+",0)"),at.select(".nv-focus .nv-y1.nv-axis").transition().duration(L).call(g),at.select(".nv-focus .nv-y2.nv-axis").transition().duration(L).call(m)}var G=d3.select(this),Z=this;t.utils.initSVG(G);var K=(C||parseInt(G.style("width"))||960)-x.left-x.right,J=(k||parseInt(G.style("height"))||400)-x.top-x.bottom-(M?O:0),Q=O-_.top-_.bottom;if(e.update=function(){G.transition().duration(L).call(e)},e.container=this,B.setter(W(F),e.update).getter(U(F)).update(),B.disabled=F.map(function(t){return!!t.disabled}),!R){var tt;R={};for(tt in B)B[tt]instanceof Array?R[tt]=B[tt].slice(0):R[tt]=B[tt]}if(!(F&&F.length&&F.filter(function(t){return t.values.length}).length)){var et=G.selectAll(".nv-noData").data([P]);return et.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),et.attr("x",x.left+K/2).attr("y",x.top+J/2).text(function(t){return t}),e}G.selectAll(".nv-noData").remove();var nt=F.filter(function(t){return!t.disabled&&t.bar}),lt=F.filter(function(t){return!t.bar});l=d.xScale(),i=p.scale(),r=d.yScale(),o=u.yScale(),s=h.yScale(),a=c.yScale();var it=F.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:T(t,e)}})}),rt=F.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:T(t,e)}})});l.range([0,K]),i.domain(d3.extent(d3.merge(it.concat(rt)),function(t){return t.x})).range([0,K]);var ot=G.selectAll("g.nv-wrap.nv-linePlusBar").data([F]),st=ot.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),at=ot.select("g");st.append("g").attr("class","nv-legendWrap");var ut=st.append("g").attr("class","nv-focus");ut.append("g").attr("class","nv-x nv-axis"),ut.append("g").attr("class","nv-y1 nv-axis"),ut.append("g").attr("class","nv-y2 nv-axis"),ut.append("g").attr("class","nv-barsWrap"),ut.append("g").attr("class","nv-linesWrap");var ct=st.append("g").attr("class","nv-context");ct.append("g").attr("class","nv-x nv-axis"),ct.append("g").attr("class","nv-y1 nv-axis"),ct.append("g").attr("class","nv-y2 nv-axis"),ct.append("g").attr("class","nv-barsWrap"),ct.append("g").attr("class","nv-linesWrap"),ct.append("g").attr("class","nv-brushBackground"),ct.append("g").attr("class","nv-x nv-brush"),D&&(b.width(K/2),at.select(".nv-legendWrap").datum(F.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?z:H),t})).call(b),x.top!=b.height()&&(x.top=b.height(),J=(k||parseInt(G.style("height"))||400)-x.top-x.bottom-O),at.select(".nv-legendWrap").attr("transform","translate("+K/2+","+-x.top+")")),ot.attr("transform","translate("+x.left+","+x.top+")"),at.select(".nv-context").style("display",M?"initial":"none"),h.width(K).height(Q).color(F.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!F[e].disabled&&F[e].bar})),c.width(K).height(Q).color(F.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!F[e].disabled&&!F[e].bar}));var dt=at.select(".nv-context .nv-barsWrap").datum(nt.length?nt:[{values:[]}]),ht=at.select(".nv-context .nv-linesWrap").datum(lt[0].disabled?[{values:[]}]:lt);at.select(".nv-context").attr("transform","translate(0,"+(J+x.bottom+_.top)+")"),dt.transition().call(h),ht.transition().call(c),E&&(p.ticks(t.utils.calcTicksX(K/100,F)).tickSize(-Q,0),at.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),at.select(".nv-context .nv-x.nv-axis").transition().call(p)),j&&(v.scale(s).ticks(Q/36).tickSize(-K,0),y.scale(a).ticks(Q/36).tickSize(nt.length?0:-K,0),at.select(".nv-context .nv-y3.nv-axis").style("opacity",nt.length?1:0).attr("transform","translate(0,"+i.range()[0]+")"),at.select(".nv-context .nv-y2.nv-axis").style("opacity",lt.length?1:0).attr("transform","translate("+i.range()[1]+",0)"),at.select(".nv-context .nv-y1.nv-axis").transition().call(v),at.select(".nv-context .nv-y2.nv-axis").transition().call(y)),w.x(i).on("brush",X),I&&w.extent(I);var ft=at.select(".nv-brushBackground").selectAll("g").data([I||w.extent()]),pt=ft.enter().append("g");pt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Q),pt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Q);var gt=at.select(".nv-x.nv-brush").call(w);gt.selectAll("rect").attr("height",Q),gt.selectAll(".resize").append("path").attr("d",V),b.dispatch.on("stateChange",function(t){for(var n in t)B[n]=t[n];N.stateChange(B),e.update()}),N.on("tooltipShow",function(t){$&&q(t,Z.parentNode)}),N.on("changeState",function(t){"undefined"!=typeof t.disabled&&(F.forEach(function(e,n){e.disabled=t.disabled[n]}),B.disabled=t.disabled),e.update()}),X()}),e}var n,l,i,r,o,s,a,u=t.models.line(),c=t.models.line(),d=t.models.historicalBar(),h=t.models.historicalBar(),f=t.models.axis(),p=t.models.axis(),g=t.models.axis(),m=t.models.axis(),v=t.models.axis(),y=t.models.axis(),b=t.models.legend(),w=d3.svg.brush(),x={top:30,right:30,bottom:30,left:60},_={top:0,right:30,bottom:20,left:60},C=null,k=null,S=function(t){return t.x},T=function(t){return t.y},A=t.utils.defaultColor(),D=!0,M=!0,j=!1,E=!0,O=50,I=null,$=!0,F=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},P="No Data Available.",N=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),L=0,B=t.utils.state(),R=null,z=" (left axis)",H=" (right axis)";u.clipEdge(!0),c.interactive(!1),f.orient("bottom").tickPadding(5),g.orient("left"),m.orient("right"),p.orient("bottom").tickPadding(5),v.orient("left"),y.orient("right");var q=function(l,i){n&&(l.pointIndex+=Math.ceil(n[0]));var r=l.pos[0]+(i.offsetLeft||0),o=l.pos[1]+(i.offsetTop||0),s=f.tickFormat()(u.x()(l.point,l.pointIndex)),a=(l.series.bar?g:m).tickFormat()(u.y()(l.point,l.pointIndex)),c=F(l.series.key,s,a,l,e);t.tooltip.show([r,o],c,l.value<0?"n":"s",null,i)},U=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},W=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return u.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+x.left,t.pos[1]+x.top],N.tooltipShow(t)}),u.dispatch.on("elementMouseout.tooltip",function(t){N.tooltipHide(t)}),d.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+x.left,t.pos[1]+x.top],N.tooltipShow(t)}),d.dispatch.on("elementMouseout.tooltip",function(t){N.tooltipHide(t)}),N.on("tooltipHide",function(){$&&t.tooltip.cleanup()}),e.dispatch=N,e.legend=b,e.lines=u,e.lines2=c,e.bars=d,e.bars2=h,e.xAxis=f,e.x2Axis=p,e.y1Axis=g,e.y2Axis=m,e.y3Axis=v,e.y4Axis=y,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return k},set:function(t){k=t}},showLegend:{get:function(){return D},set:function(t){D=t}},tooltips:{get:function(){return $},set:function(t){$=t}},tooltipContent:{get:function(){return F},set:function(t){F=t}},brushExtent:{get:function(){return I},set:function(t){I=t}},noData:{get:function(){return P},set:function(t){P=t}},focusEnable:{get:function(){return M},set:function(t){M=t}},focusHeight:{get:function(){return O},set:function(t){O=t}},focusShowAxisX:{get:function(){return E},set:function(t){E=t}},focusShowAxisY:{get:function(){return j},set:function(t){j=t}},legendLeftAxisHint:{get:function(){return z},set:function(t){z=t}},legendRightAxisHint:{get:function(){return H},set:function(t){H=t}},margin:{get:function(){return x},set:function(t){x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left}},duration:{get:function(){return L},set:function(t){L=t}},color:{get:function(){return A},set:function(e){A=t.utils.getColor(e),b.color(A)}},x:{get:function(){return S},set:function(t){S=t,u.x(t),c.x(t),d.x(t),h.x(t)}},y:{get:function(){return T},set:function(t){T=t,u.y(t),c.y(t),d.y(t),h.y(t)}}}),t.utils.inheritOptions(e,u),t.utils.initOptions(e),e},t.models.lineWithFocusChart=function(){"use strict";function e(C){return C.each(function(C){function O(t){var e=+("e"==t),n=e?1:-1,l=B/3;return"M"+.5*n+","+l+"A6,6 0 0 "+e+" "+6.5*n+","+(l+6)+"V"+(2*l-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*l+"ZM"+2.5*n+","+(l+8)+"V"+(2*l-8)+"M"+4.5*n+","+(l+8)+"V"+(2*l-8)}function I(){f.empty()||f.extent(x),X.data([f.empty()?i.domain():x]).each(function(t){var e=i(t[0])-n.range()[0],l=n.range()[1]-i(t[1]);d3.select(this).select(".left").attr("width",0>e?0:e),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",0>l?0:l)})}function $(){x=f.empty()?null:f.extent();var t=f.empty()?i.domain():f.extent();if(!(Math.abs(t[0]-t[1])<=1)){S.brush({extent:t,brush:f}),I();var e=U.select(".nv-focus .nv-linesWrap").datum(C.filter(function(t){return!t.disabled}).map(function(e){return{key:e.key,area:e.area,values:e.values.filter(function(e,n){return o.x()(e,n)>=t[0]&&o.x()(e,n)<=t[1]})}}));e.transition().duration(T).call(o),U.select(".nv-focus .nv-x.nv-axis").transition().duration(T).call(a),U.select(".nv-focus .nv-y.nv-axis").transition().duration(T).call(u)}}var F=d3.select(this),P=this;t.utils.initSVG(F);var N=(v||parseInt(F.style("width"))||960)-p.left-p.right,L=(y||parseInt(F.style("height"))||400)-p.top-p.bottom-b,B=b-g.top-g.bottom;if(e.update=function(){F.transition().duration(T).call(e)},e.container=this,A.setter(E(C),e.update).getter(j(C)).update(),A.disabled=C.map(function(t){return!!t.disabled}),!D){var R;D={};for(R in A)A[R]instanceof Array?D[R]=A[R].slice(0):D[R]=A[R]}if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length)){var z=F.selectAll(".nv-noData").data([k]);return z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",p.left+N/2).attr("y",p.top+L/2).text(function(t){return t}),e}F.selectAll(".nv-noData").remove(),n=o.xScale(),l=o.yScale(),i=s.xScale(),r=s.yScale();var H=F.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([C]),q=H.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),U=H.select("g");q.append("g").attr("class","nv-legendWrap");var W=q.append("g").attr("class","nv-focus");W.append("g").attr("class","nv-x nv-axis"),W.append("g").attr("class","nv-y nv-axis"),W.append("g").attr("class","nv-linesWrap");var V=q.append("g").attr("class","nv-context");V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-linesWrap"),V.append("g").attr("class","nv-brushBackground"),V.append("g").attr("class","nv-x nv-brush"),w&&(h.width(N),U.select(".nv-legendWrap").datum(C).call(h),p.top!=h.height()&&(p.top=h.height(),L=(y||parseInt(F.style("height"))||400)-p.top-p.bottom-b),U.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")),H.attr("transform","translate("+p.left+","+p.top+")"),o.width(N).height(L).color(C.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!C[e].disabled})),s.defined(o.defined()).width(N).height(B).color(C.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!C[e].disabled})),U.select(".nv-context").attr("transform","translate(0,"+(L+p.bottom+g.top)+")");var Y=U.select(".nv-context .nv-linesWrap").datum(C.filter(function(t){return!t.disabled}));d3.transition(Y).call(s),a.scale(n).ticks(t.utils.calcTicksX(N/100,C)).tickSize(-L,0),u.scale(l).ticks(t.utils.calcTicksY(L/36,C)).tickSize(-N,0),U.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+L+")"),f.x(i).on("brush",function(){var t=e.duration();e.duration(0),$(),e.duration(t)}),x&&f.extent(x);var X=U.select(".nv-brushBackground").selectAll("g").data([x||f.extent()]),G=X.enter().append("g");G.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",B),G.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",B);var Z=U.select(".nv-x.nv-brush").call(f);Z.selectAll("rect").attr("height",B),Z.selectAll(".resize").append("path").attr("d",O),$(),c.scale(i).ticks(t.utils.calcTicksX(N/100,C)).tickSize(-B,0),U.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(U.select(".nv-context .nv-x.nv-axis")).call(c),d.scale(r).ticks(t.utils.calcTicksY(B/36,C)).tickSize(-N,0),d3.transition(U.select(".nv-context .nv-y.nv-axis")).call(d),U.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),h.dispatch.on("stateChange",function(t){for(var n in t)A[n]=t[n];S.stateChange(A),e.update()}),S.on("tooltipShow",function(t){_&&M(t,P.parentNode)}),S.on("changeState",function(t){"undefined"!=typeof t.disabled&&C.forEach(function(e,n){e.disabled=t.disabled[n]}),e.update()})}),e}var n,l,i,r,o=t.models.line(),s=t.models.line(),a=t.models.axis(),u=t.models.axis(),c=t.models.axis(),d=t.models.axis(),h=t.models.legend(),f=d3.svg.brush(),p={top:30,right:30,bottom:30,left:60},g={top:0,right:30,bottom:20,left:60},m=t.utils.defaultColor(),v=null,y=null,b=100,w=!0,x=null,_=!0,C=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},k="No Data Available.",S=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),T=250,A=t.utils.state(),D=null;o.clipEdge(!0),s.interactive(!1),a.orient("bottom").tickPadding(5),u.orient("left"),c.orient("bottom").tickPadding(5),d.orient("left");var M=function(n,l){var i=n.pos[0]+(l.offsetLeft||0),r=n.pos[1]+(l.offsetTop||0),s=a.tickFormat()(o.x()(n.point,n.pointIndex)),c=u.tickFormat()(o.y()(n.point,n.pointIndex)),d=C(n.series.key,s,c,n,e);t.tooltip.show([i,r],d,null,null,l)},j=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},E=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+p.left,t.pos[1]+p.top],S.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){_&&t.tooltip.cleanup()}),e.dispatch=S,e.legend=h,e.lines=o,e.lines2=s,e.xAxis=a,e.yAxis=u,e.x2Axis=c,e.y2Axis=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},focusHeight:{get:function(){return b},set:function(t){b=t}},showLegend:{get:function(){return w},set:function(t){w=t}},brushExtent:{get:function(){return x},set:function(t){x=t}},tooltips:{get:function(){return _},set:function(t){_=t}},tooltipContent:{get:function(){return C},set:function(t){C=t}},defaultState:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return p},set:function(t){p.top=void 0!==t.top?t.top:p.top,p.right=void 0!==t.right?t.right:p.right,p.bottom=void 0!==t.bottom?t.bottom:p.bottom,p.left=void 0!==t.left?t.left:p.left}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),h.color(m)}},interpolate:{get:function(){return o.interpolate()},set:function(t){o.interpolate(t),s.interpolate(t)}},xTickFormat:{get:function(){return a.xTickFormat()},set:function(t){a.xTickFormat(t),c.xTickFormat(t)}},yTickFormat:{get:function(){return u.yTickFormat()},set:function(t){u.yTickFormat(t),d.yTickFormat(t)}},duration:{get:function(){return T},set:function(t){T=t,u.duration(T),a.duration(T)}},x:{get:function(){return o.x()},set:function(t){o.x(t),s.x(t)}},y:{get:function(){return o.y()},set:function(t){o.y(t),s.y(t)}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.multiBar=function(){"use strict";function e(M){return A.reset(),M.each(function(e){var M=c-u.left-u.right,j=d-u.top-u.bottom,E=d3.select(this);t.utils.initSVG(E);_&&e.length&&(_=[{values:e[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),b&&(e=d3.layout.stack().offset(w).values(function(t){return t.values}).y(m)(!e.length&&_?_:e)),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),b&&e[0].values.map(function(t,n){var l=0,i=0;e.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=i,i-=e.size):(e.y1=e.size+l,l+=e.size)})});var O=l&&i?[]:e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});h.domain(l||d3.merge(O).map(function(t){return t.x})).rangeBands(r||[0,M],S),f.domain(i||d3.extent(d3.merge(O).map(function(t){return b?t.y>0?t.y1:t.y1+t.y:t.y}).concat(v))).range(o||[j,0]),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]):h.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),s=s||h,a=a||f;var I=E.selectAll("g.nv-wrap.nv-multibar").data([e]),$=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),F=$.append("defs"),P=$.append("g"),N=I.select("g");P.append("g").attr("class","nv-groups"),I.attr("transform","translate("+u.left+","+u.top+")"),F.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),I.select("#nv-edge-clip-"+p+" rect").attr("width",M).attr("height",j),N.attr("clip-path",y?"url(#nv-edge-clip-"+p+")":"");var L=I.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var B=A.transition(L.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,k)).attr("y",function(t){return a(b?t.y0:0)||0}).attr("height",0).remove();B.delay&&B.delay(function(t,e){var n=e*(k/(D+1))-e;return n}),L.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),L.style("stroke-opacity",1).style("fill-opacity",.75);var R=L.selectAll("rect.nv-bar").data(function(t){return _&&!e.length?_.values:t.values});R.exit().remove();R.enter().append("rect").attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,n,l){return b?0:l*h.rangeBand()/e.length}).attr("y",function(t){return a(b?t.y0:0)||0}).attr("height",0).attr("width",h.rangeBand()/(b?1:e.length)).attr("transform",function(t,e){return"translate("+h(g(t,e))+",0)"});R.style("fill",function(t,e,n){return x(t,n,e)}).style("stroke",function(t,e,n){return x(t,n,e)}).on("mouseover",function(t,n){d3.select(this).classed("hover",!0),T.elementMouseover({value:m(t,n),point:t,series:e[t.series],pos:[h(g(t,n))+h.rangeBand()*(b?e.length/2:t.series+.5)/e.length,f(m(t,n)+(b?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),T.elementMouseout({value:m(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){T.elementClick({value:m(t,n),point:t,series:e[t.series],pos:[h(g(t,n))+h.rangeBand()*(b?e.length/2:t.series+.5)/e.length,f(m(t,n)+(b?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){T.elementDblClick({value:m(t,n),point:t,series:e[t.series],pos:[h(g(t,n))+h.rangeBand()*(b?e.length/2:t.series+.5)/e.length,f(m(t,n)+(b?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),R.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+h(g(t,e))+",0)"}),C&&(n||(n=e.map(function(){return!0})),R.style("fill",function(t,e,l){return d3.rgb(C(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[l]).toString()}).style("stroke",function(t,e,l){return d3.rgb(C(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[l]).toString()}));var z=R.watchTransition(A,"multibar",Math.min(250,k)).delay(function(t,n){return n*k/e[0].values.length});b?z.attr("y",function(t){return f(b?t.y1:0)}).attr("height",function(t){return Math.max(Math.abs(f(t.y+(b?t.y0:0))-f(b?t.y0:0)),1)}).attr("x",function(t){return b?0:t.series*h.rangeBand()/e.length}).attr("width",h.rangeBand()/(b?1:e.length)):z.attr("x",function(t){return t.series*h.rangeBand()/e.length}).attr("width",h.rangeBand()/e.length).attr("y",function(t,e){return m(t,e)<0?f(0):f(0)-f(m(t,e))<1?f(0)-1:f(m(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(f(m(t,e))-f(0)),1)||0}),s=h.copy(),a=f.copy(),e[0]&&e[0].values&&(D=e[0].values.length)}),A.renderEnd("multibar immediate"),e}var n,l,i,r,o,s,a,u={top:0,right:0,bottom:0,left:0},c=960,d=500,h=d3.scale.ordinal(),f=d3.scale.linear(),p=Math.floor(1e4*Math.random()),g=function(t){return t.x},m=function(t){return t.y},v=[0],y=!0,b=!1,w="zero",x=t.utils.defaultColor(),_=!1,C=null,k=500,S=.1,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),A=t.utils.renderWatch(T,k),D=0;return e.dispatch=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return l},set:function(t){l=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return v},set:function(t){v=t}},stacked:{get:function(){return b},set:function(t){b=t}},stackOffset:{get:function(){return w},set:function(t){w=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},disabled:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return p},set:function(t){p=t}},hideable:{get:function(){return _},set:function(t){_=t}},groupSpacing:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return k},set:function(t){k=t,A.reset(k)}},color:{get:function(){return x},set:function(e){x=t.utils.getColor(e)}},barColor:{get:function(){return C},set:function(e){C=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.multiBarChart=function(){"use strict";function e(C){return j.reset(),j.models(i),m&&j.models(r),v&&j.models(o),C.each(function(C){var j=d3.select(this),F=this;t.utils.initSVG(j);var P=(c||parseInt(j.style("width"))||960)-u.left-u.right,N=(d||parseInt(j.style("height"))||400)-u.top-u.bottom;if(e.update=function(){0===M?j.call(e):j.transition().duration(M).call(e)},e.container=this,k.setter($(C),e.update).getter(I(C)).update(),k.disabled=C.map(function(t){return!!t.disabled}),!S){var L;S={};for(L in k)k[L]instanceof Array?S[L]=k[L].slice(0):S[L]=k[L]}if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length)){var B=j.selectAll(".nv-noData").data([T]);return B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),B.attr("x",u.left+P/2).attr("y",u.top+N/2).text(function(t){return t}),e}j.selectAll(".nv-noData").remove(),n=i.xScale(),l=i.yScale();var R=j.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([C]),z=R.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),H=R.select("g");if(z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-barsWrap"),z.append("g").attr("class","nv-legendWrap"),z.append("g").attr("class","nv-controlsWrap"),g&&(s.width(P-D()),i.barColor()&&C.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),H.select(".nv-legendWrap").datum(C).call(s),u.top!=s.height()&&(u.top=s.height(),N=(d||parseInt(j.style("height"))||400)-u.top-u.bottom),H.select(".nv-legendWrap").attr("transform","translate("+D()+","+-u.top+")")),f){var q=[{key:p.grouped||"Grouped",disabled:i.stacked()},{key:p.stacked||"Stacked",disabled:!i.stacked()}];a.width(D()).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(q).attr("transform","translate(0,"+-u.top+")").call(a)}R.attr("transform","translate("+u.left+","+u.top+")"),y&&H.select(".nv-y.nv-axis").attr("transform","translate("+P+",0)"),i.disabled(C.map(function(t){return t.disabled})).width(P).height(N).color(C.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!C[e].disabled}));var U=H.select(".nv-barsWrap").datum(C.filter(function(t){return!t.disabled}));if(U.call(i),m){r.scale(n).ticks(t.utils.calcTicksX(P/100,C)).tickSize(-N,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")"),H.select(".nv-x.nv-axis").call(r);var W=H.select(".nv-x.nv-axis > g").selectAll("g");if(W.selectAll("line, text").style("opacity",1),w){var V=function(t,e){return"translate("+t+","+e+")"},Y=5,X=17;W.selectAll("text").attr("transform",function(t,e,n){return V(0,n%2==0?Y:X)});var G=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;H.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return V(0,0===e||G%2!==0?X:Y)})}b&&W.filter(function(t,e){return e%Math.ceil(C[0].values.length/(P/100))!==0}).selectAll("text, line").style("opacity",0),x&&W.selectAll(".tick text").attr("transform","rotate("+x+" 0,0)").style("text-anchor",x>0?"start":"end"),H.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}v&&(o.scale(l).ticks(t.utils.calcTicksY(N/36,C)).tickSize(-P,0),H.select(".nv-y.nv-axis").call(o)),s.dispatch.on("stateChange",function(t){for(var n in t)k[n]=t[n];A.stateChange(k),e.update()}),a.dispatch.on("legendClick",function(t){if(t.disabled){switch(q=q.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":i.stacked(!1);break;case"Stacked":i.stacked(!0)}k.stacked=i.stacked(),A.stateChange(k),e.update()}}),A.on("tooltipShow",function(t){_&&O(t,F.parentNode)}),A.on("changeState",function(t){"undefined"!=typeof t.disabled&&(C.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),"undefined"!=typeof t.stacked&&(i.stacked(t.stacked),k.stacked=t.stacked,E=t.stacked),e.update()})}),j.renderEnd("multibarchart immediate"),e}var n,l,i=t.models.multiBar(),r=t.models.axis(),o=t.models.axis(),s=t.models.legend(),a=t.models.legend(),u={top:30,right:20,bottom:50,left:60},c=null,d=null,h=t.utils.defaultColor(),f=!0,p={},g=!0,m=!0,v=!0,y=!1,b=!0,w=!1,x=0,_=!0,C=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},k=t.utils.state(),S=null,T="No Data Available.",A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),D=function(){return f?180:0},M=250;k.stacked=!1,i.stacked(!1),r.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(y?"right":"left").tickFormat(d3.format(",.1f")),a.updateState(!1);var j=t.utils.renderWatch(A),E=!1,O=function(n,l){var s=n.pos[0]+(l.offsetLeft||0),a=n.pos[1]+(l.offsetTop||0),u=r.tickFormat()(i.x()(n.point,n.pointIndex)),c=o.tickFormat()(i.y()(n.point,n.pointIndex)),d=C(n.series.key,u,c,n,e);t.tooltip.show([s,a],d,n.value<0?"n":"s",null,l)},I=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:E}}},$=function(t){return function(e){void 0!==e.stacked&&(E=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],A.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){A.tooltipHide(t)}),A.on("tooltipHide",function(){_&&t.tooltip.cleanup()}),e.dispatch=A,e.multibar=i,e.legend=s,e.xAxis=r,e.yAxis=o,e.state=k,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return f},set:function(t){f=t}},controlLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},tooltips:{get:function(){return _},set:function(t){_=t}},tooltipContent:{get:function(){return C},set:function(t){C=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return T},set:function(t){T=t}},reduceXTicks:{get:function(){return b},set:function(t){b=t}},rotateLabels:{get:function(){return x},set:function(t){x=t}},staggerLabels:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return M},set:function(t){M=t,i.duration(M),r.duration(M),o.duration(M),j.reset(M)}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),s.color(h)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,o.orient(y?"right":"left")}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.multiBarHorizontal=function(){"use strict";function e(h){return D.reset(),h.each(function(e){var h=c-u.left-u.right,T=d-u.top-u.bottom,M=d3.select(this);t.utils.initSVG(M),x&&(e=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(m)(e)),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),x&&e[0].values.map(function(t,n){var l=0,i=0;e.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=i-e.size,i-=e.size):(e.y1=l,l+=e.size)})});var j=l&&i?[]:e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});f.domain(l||d3.merge(j).map(function(t){return t.x})).rangeBands(r||[0,T],.1),p.domain(i||d3.extent(d3.merge(j).map(function(t){return x?t.y>0?t.y1+t.y:t.y1:t.y}).concat(y))),_&&!x?p.range(o||[p.domain()[0]<0?k:0,h-(p.domain()[1]>0?k:0)]):p.range(o||[0,h]),s=s||f,a=a||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var E=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([e]),O=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),I=(O.append("defs"),O.append("g"));E.select("g");I.append("g").attr("class","nv-groups"),E.attr("transform","translate("+u.left+","+u.top+")");var $=E.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});$.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),$.exit().watchTransition(D,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),
$.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return b(t,e)}).style("stroke",function(t,e){return b(t,e)}),$.watchTransition(D,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var F=$.selectAll("g.nv-bar").data(function(t){return t.values});F.exit().remove();var P=F.enter().append("g").attr("transform",function(t,n,l){return"translate("+a(x?t.y0:0)+","+(x?0:l*f.rangeBand()/e.length+f(g(t,n)))+")"});P.append("rect").attr("width",0).attr("height",f.rangeBand()/(x?1:e.length)),F.on("mouseover",function(t,n){d3.select(this).classed("hover",!0),A.elementMouseover({value:m(t,n),point:t,series:e[t.series],pos:[p(m(t,n)+(x?t.y0:0)),f(g(t,n))+f.rangeBand()*(x?e.length/2:t.series+.5)/e.length],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),A.elementMouseout({value:m(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){A.elementClick({value:m(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(x?e.length/2:t.series+.5)/e.length,p(m(t,n)+(x?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){A.elementDblClick({value:m(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(x?e.length/2:t.series+.5)/e.length,p(m(t,n)+(x?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),v(e[0],0)&&(P.append("polyline"),F.select("polyline").attr("fill","none").attr("points",function(t,n){var l=v(t,n),i=.8*f.rangeBand()/(2*(x?1:e.length));l=l.length?l:[-Math.abs(l),Math.abs(l)],l=l.map(function(t){return p(t)-p(0)});var r=[[l[0],-i],[l[0],i],[l[0],0],[l[1],0],[l[1],-i],[l[1],i]];return r.map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,n){var l=f.rangeBand()/(2*(x?1:e.length));return"translate("+(m(t,n)<0?0:p(m(t,n))-p(0))+", "+l+")"})),P.append("text"),_&&!x?(F.select("text").attr("text-anchor",function(t,e){return m(t,e)<0?"end":"start"}).attr("y",f.rangeBand()/(2*e.length)).attr("dy",".32em").html(function(t,e){var n=S(m(t,e)),l=v(t,e);return void 0===l?n:l.length?n+"+"+S(Math.abs(l[1]))+"-"+S(Math.abs(l[0])):n+"&plusmn;"+S(Math.abs(l))}),F.watchTransition(D,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return m(t,e)<0?-4:p(m(t,e))-p(0)+4})):F.selectAll("text").text(""),C&&!x?(P.append("text").classed("nv-bar-label",!0),F.select("text.nv-bar-label").attr("text-anchor",function(t,e){return m(t,e)<0?"start":"end"}).attr("y",f.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(t,e){return g(t,e)}),F.watchTransition(D,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return m(t,e)<0?p(0)-p(m(t,e))+4:-4})):F.selectAll("text.nv-bar-label").text(""),F.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}),w&&(n||(n=e.map(function(){return!0})),F.style("fill",function(t,e,l){return d3.rgb(w(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[l]).toString()}).style("stroke",function(t,e,l){return d3.rgb(w(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[l]).toString()})),x?F.watchTransition(D,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+p(t.y1)+","+f(g(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(p(m(t,e)+t.y0)-p(t.y0))}).attr("height",f.rangeBand()):F.watchTransition(D,"multibarhorizontal: bars").attr("transform",function(t,n){return"translate("+p(m(t,n)<0?m(t,n):0)+","+(t.series*f.rangeBand()/e.length+f(g(t,n)))+")"}).select("rect").attr("height",f.rangeBand()/e.length).attr("width",function(t,e){return Math.max(Math.abs(p(m(t,e))-p(0)),1)}),s=f.copy(),a=p.copy()}),D.renderEnd("multibarHorizontal immediate"),e}var n,l,i,r,o,s,a,u={top:0,right:0,bottom:0,left:0},c=960,d=500,h=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),p=d3.scale.linear(),g=function(t){return t.x},m=function(t){return t.y},v=function(t){return t.yErr},y=[0],b=t.utils.defaultColor(),w=null,x=!1,_=!1,C=!1,k=60,S=d3.format(",.2f"),T=250,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),D=t.utils.renderWatch(A,T);return e.dispatch=A,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return m},set:function(t){m=t}},yErr:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return l},set:function(t){l=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return x},set:function(t){x=t}},showValues:{get:function(){return _},set:function(t){_=t}},disabled:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return h},set:function(t){h=t}},valueFormat:{get:function(){return S},set:function(t){S=t}},valuePadding:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return T},set:function(t){T=t,D.reset(T)}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e)}},barColor:{get:function(){return b},set:function(e){w=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.multiBarHorizontalChart=function(){"use strict";function e(w){return j.reset(),j.models(i),m&&j.models(r),v&&j.models(o),w.each(function(w){var j=d3.select(this),E=this;t.utils.initSVG(j);var O=(c||parseInt(j.style("width"))||960)-u.left-u.right,I=(d||parseInt(j.style("height"))||400)-u.top-u.bottom;if(e.update=function(){j.transition().duration(T).call(e)},e.container=this,y=i.stacked(),x.setter(M(w),e.update).getter(D(w)).update(),x.disabled=w.map(function(t){return!!t.disabled}),!_){var $;_={};for($ in x)x[$]instanceof Array?_[$]=x[$].slice(0):_[$]=x[$]}if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var F=j.selectAll(".nv-noData").data([C]);return F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),F.attr("x",u.left+O/2).attr("y",u.top+I/2).text(function(t){return t}),e}j.selectAll(".nv-noData").remove(),n=i.xScale(),l=i.yScale();var P=j.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([w]),N=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),L=P.select("g");if(N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),N.append("g").attr("class","nv-barsWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-controlsWrap"),g&&(s.width(O-S()),i.barColor()&&w.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),L.select(".nv-legendWrap").datum(w).call(s),u.top!=s.height()&&(u.top=s.height(),I=(d||parseInt(j.style("height"))||400)-u.top-u.bottom),L.select(".nv-legendWrap").attr("transform","translate("+S()+","+-u.top+")")),f){var B=[{key:p.grouped||"Grouped",disabled:i.stacked()},{key:p.stacked||"Stacked",disabled:!i.stacked()}];a.width(S()).color(["#444","#444","#444"]),L.select(".nv-controlsWrap").datum(B).attr("transform","translate(0,"+-u.top+")").call(a)}P.attr("transform","translate("+u.left+","+u.top+")"),i.disabled(w.map(function(t){return t.disabled})).width(O).height(I).color(w.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!w[e].disabled}));var R=L.select(".nv-barsWrap").datum(w.filter(function(t){return!t.disabled}));if(R.transition().call(i),m){r.scale(n).ticks(t.utils.calcTicksY(I/24,w)).tickSize(-O,0),L.select(".nv-x.nv-axis").call(r);var z=L.select(".nv-x.nv-axis").selectAll("g");z.selectAll("line, text")}v&&(o.scale(l).ticks(t.utils.calcTicksX(O/100,w)).tickSize(-I,0),L.select(".nv-y.nv-axis").attr("transform","translate(0,"+I+")"),L.select(".nv-y.nv-axis").call(o)),L.select(".nv-zeroLine line").attr("x1",l(0)).attr("x2",l(0)).attr("y1",0).attr("y2",-I),s.dispatch.on("stateChange",function(t){for(var n in t)x[n]=t[n];k.stateChange(x),e.update()}),a.dispatch.on("legendClick",function(t){if(t.disabled){switch(B=B.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":i.stacked(!1);break;case"Stacked":i.stacked(!0)}x.stacked=i.stacked(),k.stateChange(x),y=i.stacked(),e.update()}}),k.on("tooltipShow",function(t){b&&A(t,E.parentNode)}),k.on("changeState",function(t){"undefined"!=typeof t.disabled&&(w.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),"undefined"!=typeof t.stacked&&(i.stacked(t.stacked),x.stacked=t.stacked,y=t.stacked),e.update()})}),j.renderEnd("multibar horizontal chart immediate"),e}var n,l,i=t.models.multiBarHorizontal(),r=t.models.axis(),o=t.models.axis(),s=t.models.legend().height(30),a=t.models.legend().height(30),u={top:30,right:20,bottom:50,left:60},c=null,d=null,h=t.utils.defaultColor(),f=!0,p={},g=!0,m=!0,v=!0,y=!1,b=!0,w=function(t,e,n){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},x=t.utils.state(),_=null,C="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),S=function(){return f?180:0},T=250;x.stacked=!1,i.stacked(y),r.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),o.orient("bottom").tickFormat(d3.format(",.1f")),a.updateState(!1);var A=function(n,l){var s=n.pos[0]+(l.offsetLeft||0),a=n.pos[1]+(l.offsetTop||0),u=r.tickFormat()(i.x()(n.point,n.pointIndex)),c=o.tickFormat()(i.y()(n.point,n.pointIndex)),d=w(n.series.key,u,c,n,e);t.tooltip.show([s,a],d,n.value<0?"e":"w",null,l)},D=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:y}}},M=function(t){return function(e){void 0!==e.stacked&&(y=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},j=t.utils.renderWatch(k,T);return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],k.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){b&&t.tooltip.cleanup()}),e.dispatch=k,e.multibar=i,e.legend=s,e.xAxis=r,e.yAxis=o,e.state=x,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return f},set:function(t){f=t}},controlLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},tooltips:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return w},set:function(t){w=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return T},set:function(t){T=t,j.reset(T),i.duration(T),r.duration(T),o.duration(T)}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),s.color(h)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.multiChart=function(){"use strict";function e(d){return d.each(function(d){var f=d3.select(this),p=this;t.utils.initSVG(f),e.update=function(){f.transition().call(e)},e.container=this;var j=(s||parseInt(f.style("width"))||960)-r.left-r.right,E=(a||parseInt(f.style("height"))||400)-r.top-r.bottom,O=d.filter(function(t){return"line"==t.type&&1==t.yAxis}),I=d.filter(function(t){return"line"==t.type&&2==t.yAxis}),$=d.filter(function(t){return"bar"==t.type&&1==t.yAxis}),F=d.filter(function(t){return"bar"==t.type&&2==t.yAxis}),P=d.filter(function(t){return"area"==t.type&&1==t.yAxis}),N=d.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(d&&d.length&&d.filter(function(t){return t.values.length}).length)){var L=f.selectAll(".nv-noData").data([h]);return L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),L.attr("x",r.left+j/2).attr("y",r.top+E/2).text(function(t){return t}),e}f.selectAll(".nv-noData").remove();var B=d.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})}),R=d.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})});n.domain(d3.extent(d3.merge(B.concat(R)),function(t){return t.x})).range([0,j]);var z=f.selectAll("g.wrap.multiChart").data([d]),H=z.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");H.append("g").attr("class","x axis"),H.append("g").attr("class","y1 axis"),H.append("g").attr("class","y2 axis"),H.append("g").attr("class","lines1Wrap"),H.append("g").attr("class","lines2Wrap"),H.append("g").attr("class","bars1Wrap"),H.append("g").attr("class","bars2Wrap"),H.append("g").attr("class","stack1Wrap"),H.append("g").attr("class","stack2Wrap"),H.append("g").attr("class","legendWrap");var q=z.select("g"),U=d.map(function(t,e){return d[e].color||o(t,e)});u&&(A.color(U),A.width(j/2),q.select(".legendWrap").datum(d.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(A),r.top!=A.height()&&(r.top=A.height(),E=(a||parseInt(f.style("height"))||400)-r.top-r.bottom),q.select(".legendWrap").attr("transform","translate("+j/2+","+-r.top+")")),y.width(j).height(E).interpolate(g).color(U.filter(function(t,e){return!d[e].disabled&&1==d[e].yAxis&&"line"==d[e].type})),b.width(j).height(E).interpolate(g).color(U.filter(function(t,e){return!d[e].disabled&&2==d[e].yAxis&&"line"==d[e].type})),w.width(j).height(E).color(U.filter(function(t,e){return!d[e].disabled&&1==d[e].yAxis&&"bar"==d[e].type})),x.width(j).height(E).color(U.filter(function(t,e){return!d[e].disabled&&2==d[e].yAxis&&"bar"==d[e].type})),_.width(j).height(E).color(U.filter(function(t,e){return!d[e].disabled&&1==d[e].yAxis&&"area"==d[e].type})),C.width(j).height(E).color(U.filter(function(t,e){return!d[e].disabled&&2==d[e].yAxis&&"area"==d[e].type})),q.attr("transform","translate("+r.left+","+r.top+")");var W=q.select(".lines1Wrap").datum(O.filter(function(t){return!t.disabled})),V=q.select(".bars1Wrap").datum($.filter(function(t){return!t.disabled})),Y=q.select(".stack1Wrap").datum(P.filter(function(t){return!t.disabled})),X=q.select(".lines2Wrap").datum(I.filter(function(t){return!t.disabled})),G=q.select(".bars2Wrap").datum(F.filter(function(t){return!t.disabled})),Z=q.select(".stack2Wrap").datum(N.filter(function(t){return!t.disabled})),K=P.length?P.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],J=N.length?N.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];m.domain(l||d3.extent(d3.merge(B).concat(K),function(t){return t.y})).range([0,E]),v.domain(i||d3.extent(d3.merge(R).concat(J),function(t){return t.y})).range([0,E]),y.yDomain(m.domain()),w.yDomain(m.domain()),_.yDomain(m.domain()),b.yDomain(v.domain()),x.yDomain(v.domain()),C.yDomain(v.domain()),P.length&&d3.transition(Y).call(_),N.length&&d3.transition(Z).call(C),$.length&&d3.transition(V).call(w),F.length&&d3.transition(G).call(x),O.length&&d3.transition(W).call(y),I.length&&d3.transition(X).call(b),k.ticks(t.utils.calcTicksX(j/100,d)).tickSize(-E,0),q.select(".x.axis").attr("transform","translate(0,"+E+")"),d3.transition(q.select(".x.axis")).call(k),S.ticks(t.utils.calcTicksY(E/36,d)).tickSize(-j,0),d3.transition(q.select(".y1.axis")).call(S),T.ticks(t.utils.calcTicksY(E/36,d)).tickSize(-j,0),d3.transition(q.select(".y2.axis")).call(T),q.select(".y1.axis").classed("nv-disabled",!B.length).attr("transform","translate("+n.range()[0]+",0)"),q.select(".y2.axis").classed("nv-disabled",!R.length).attr("transform","translate("+n.range()[1]+",0)"),A.dispatch.on("stateChange",function(){e.update()}),D.on("tooltipShow",function(t){c&&M(t,p.parentNode)})}),e}var n,l,i,r={top:30,right:20,bottom:50,left:60},o=t.utils.defaultColor(),s=null,a=null,u=!0,c=!0,d=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},h="No Data Available.",f=function(t){return t.x},p=function(t){return t.y},g="monotone",n=d3.scale.linear(),m=d3.scale.linear(),v=d3.scale.linear(),y=t.models.line().yScale(m),b=t.models.line().yScale(v),w=t.models.multiBar().stacked(!1).yScale(m),x=t.models.multiBar().stacked(!1).yScale(v),_=t.models.stackedArea().yScale(m),C=t.models.stackedArea().yScale(v),k=t.models.axis().scale(n).orient("bottom").tickPadding(5),S=t.models.axis().scale(m).orient("left"),T=t.models.axis().scale(v).orient("right"),A=t.models.legend().height(30),D=d3.dispatch("tooltipShow","tooltipHide"),M=function(n,l){var i=n.pos[0]+(l.offsetLeft||0),r=n.pos[1]+(l.offsetTop||0),o=k.tickFormat()(y.x()(n.point,n.pointIndex)),s=(2==n.series.yAxis?T:S).tickFormat()(y.y()(n.point,n.pointIndex)),a=d(n.series.key,o,s,n,e);t.tooltip.show([i,r],a,void 0,void 0,l.offsetParent)};return y.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),y.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),b.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),b.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),w.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),w.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),x.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),x.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),_.dispatch.on("tooltipShow",function(t){return Math.round(100*_.y()(t.point))?(t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],void D.tooltipShow(t)):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),_.dispatch.on("tooltipHide",function(t){D.tooltipHide(t)}),C.dispatch.on("tooltipShow",function(t){return Math.round(100*C.y()(t.point))?(t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],void D.tooltipShow(t)):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),C.dispatch.on("tooltipHide",function(t){D.tooltipHide(t)}),y.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),y.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),b.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),b.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),D.on("tooltipHide",function(){c&&t.tooltip.cleanup()}),e.dispatch=D,e.lines1=y,e.lines2=b,e.bars1=w,e.bars2=x,e.stack1=_,e.stack2=C,e.xAxis=k,e.yAxis1=S,e.yAxis2=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},showLegend:{get:function(){return u},set:function(t){u=t}},yDomain1:{get:function(){return l},set:function(t){l=t}},yDomain2:{get:function(){return i},set:function(t){i=t}},tooltips:{get:function(){return c},set:function(t){c=t}},tooltipContent:{get:function(){return d},set:function(t){d=t}},noData:{get:function(){return h},set:function(t){h=t}},interpolate:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},color:{get:function(){return o},set:function(e){o=t.utils.getColor(e)}},x:{get:function(){return f},set:function(t){f=t,y.x(t),w.x(t)}},y:{get:function(){return p},set:function(t){p=t,y.y(t),w.y(t)}}}),t.utils.initOptions(e),e},t.models.ohlcBar=function(){"use strict";function e(C){return C.each(function(e){var C=d3.select(this),S=(s||parseInt(C.style("width"))||960)-o.left-o.right,T=(a||parseInt(C.style("height"))||400)-o.top-o.bottom;t.utils.initSVG(C),c.domain(n||d3.extent(e[0].values.map(h).concat(y))),w?c.range(i||[.5*S/e[0].values.length,S*(e[0].values.length-.5)/e[0].values.length]):c.range(i||[0,S]),d.domain(l||[d3.min(e[0].values.map(v).concat(b)),d3.max(e[0].values.map(m).concat(b))]).range(r||[T,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var A=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([e[0].values]),D=A.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),M=D.append("defs"),j=D.append("g"),E=A.select("g");j.append("g").attr("class","nv-ticks"),A.attr("transform","translate("+o.left+","+o.top+")"),C.on("click",function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:u})}),M.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),A.select("#nv-chart-clip-path-"+u+" rect").attr("width",S).attr("height",T),E.attr("clip-path",x?"url(#nv-chart-clip-path-"+u+")":"");var O=A.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});O.exit().remove();O.enter().append("path").attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,n){var l=S/e[0].values.length*.9;return"m0,0l0,"+(d(p(t,n))-d(m(t,n)))+"l"+-l/2+",0l"+l/2+",0l0,"+(d(v(t,n))-d(p(t,n)))+"l0,"+(d(g(t,n))-d(v(t,n)))+"l"+l/2+",0l"+-l/2+",0z"}).attr("transform",function(t,e){return"translate("+c(h(t,e))+","+d(m(t,e))+")"}).attr("fill",function(){return _[0]}).attr("stroke",function(){return _[0]}).attr("x",0).attr("y",function(t,e){return d(Math.max(0,f(t,e)))}).attr("height",function(t,e){return Math.abs(d(f(t,e))-d(0))});O.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(O).attr("transform",function(t,e){return"translate("+c(h(t,e))+","+d(m(t,e))+")"}).attr("d",function(t,n){var l=S/e[0].values.length*.9;return"m0,0l0,"+(d(p(t,n))-d(m(t,n)))+"l"+-l/2+",0l"+l/2+",0l0,"+(d(v(t,n))-d(p(t,n)))+"l0,"+(d(g(t,n))-d(v(t,n)))+"l"+l/2+",0l"+-l/2+",0z"})}),e}var n,l,i,r,o={top:0,right:0,bottom:0,left:0},s=null,a=null,u=Math.floor(1e4*Math.random()),c=d3.scale.linear(),d=d3.scale.linear(),h=function(t){return t.x},f=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},m=function(t){return t.high},v=function(t){return t.low},y=[],b=[],w=!1,x=!0,_=t.utils.defaultColor(),C=!1,k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.highlightPoint=function(t,n){e.clearHighlights(),d3.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",n)},e.clearHighlights=function(){d3.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},e.dispatch=k,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return l},set:function(t){l=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return r},set:function(t){r=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return b},set:function(t){b=t}},padData:{get:function(){return w},set:function(t){w=t}},clipEdge:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return h},set:function(t){h=t}},y:{get:function(){return f},set:function(t){f=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return m},set:function(t){m=t}},low:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return _},set:function(e){_=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.parallelCoordinates=function(){"use strict";function e(h){return h.each(function(h){function f(t){return k(s.map(function(e){return[r(e),o[e](t[e])]}))}function p(){var t=s.filter(function(t){return!o[t].brush.empty()}),e=t.map(function(t){return o[t].brush.extent()});u=[],t.forEach(function(t,n){u[n]={dimension:t,extent:e[n]}}),c=[],C.style("display",function(n){var l=t.every(function(t,l){return e[l][0]<=n[t]&&n[t]<=e[l][1]});return l&&c.push(n),l?null:"none"}),d.brush({filters:u,active:c})}var g=d3.select(this),m=(l||parseInt(g.style("width"))||960)-n.left-n.right,v=(i||parseInt(g.style("height"))||400)-n.top-n.bottom;t.utils.initSVG(g),c=h,e.update=function(){},r.rangePoints([0,m],1).domain(s),s.forEach(function(t){return o[t]=d3.scale.linear().domain(d3.extent(h,function(e){return+e[t]})).range([v,0]),o[t].brush=d3.svg.brush().y(o[t]).on("brush",p),"name"!=t});var y=g.selectAll("g.nv-wrap.nv-parallelCoordinates").data([h]),b=y.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),w=b.append("g"),x=y.select("g");w.append("g").attr("class","nv-parallelCoordinatesWrap"),y.attr("transform","translate("+n.left+","+n.top+")");var _,C,k=d3.svg.line(),S=d3.svg.axis().orient("left");_=w.append("g").attr("class","background").selectAll("path").data(h).enter().append("path").attr("d",f),C=w.append("g").attr("class","foreground").selectAll("path").data(h).enter().append("path").attr("d",f).attr("stroke",a);var T=x.selectAll(".dimension").data(s).enter().append("g").attr("class","dimension").attr("transform",function(t){return"translate("+r(t)+",0)"});T.append("g").attr("class","axis").each(function(t){d3.select(this).call(S.scale(o[t]))}).append("text").attr("text-anchor","middle").attr("y",-9).text(String),T.append("g").attr("class","brush").each(function(t){d3.select(this).call(o[t].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}),e}var n={top:30,right:10,bottom:10,left:10},l=null,i=null,r=d3.scale.ordinal(),o={},s=[],a=t.utils.defaultColor(),u=[],c=[],d=d3.dispatch("brush");return e.dispatch=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return i},set:function(t){i=t}},dimensions:{get:function(){return s},set:function(t){s=t}},margin:{get:function(){return n},set:function(t){n.top="undefined"!=typeof t.top?t.top:n.top,n.right="undefined"!=typeof t.right?t.right:n.right,n.bottom="undefined"!=typeof t.bottom?t.bottom:n.bottom,n.left="undefined"!=typeof t.left?t.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.pie=function(){"use strict";function e(u){return D.reset(),u.each(function(e){function u(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,v||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return B(e(t))}}var M=l-n.left-n.right,j=i-n.top-n.bottom,E=Math.min(M,j)/2,O=E-E/5,I=d3.select(this);t.utils.initSVG(I);var $=I.selectAll(".nv-wrap.nv-pie").data(e),F=$.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+s),P=F.append("g"),N=$.select("g"),L=P.append("g").attr("class","nv-pie");P.append("g").attr("class","nv-pieLabels"),$.attr("transform","translate("+n.left+","+n.top+")"),N.select(".nv-pie").attr("transform","translate("+M/2+","+j/2+")"),N.select(".nv-pieLabels").attr("transform","translate("+M/2+","+j/2+")"),I.on("click",function(t,e){A.chartClick({data:t,index:e,pos:d3.event,id:s})});var B=d3.svg.arc().outerRadius(O),R=d3.svg.arc().outerRadius(O+5);_&&(B.startAngle(_),R.startAngle(_)),k&&(B.endAngle(k),R.endAngle(k)),v&&(B.innerRadius(E*T),R.innerRadius(E*T));var z=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:o(t)});if(z.padAngle&&C&&z.padAngle(C),B.cornerRadius&&S&&(B.cornerRadius(S),R.cornerRadius(S)),v&&y){var H=L.append("g").attr("class","nv-pie");H.append("text").style("text-anchor","middle").attr("class","nv-pie-title").text(function(){return y}).attr("dy","0.35em").attr("transform",function(){return"translate(0, "+w+")"})}var q=$.select(".nv-pie").selectAll(".nv-slice").data(z),U=$.select(".nv-pieLabels").selectAll(".nv-label").data(z);q.exit().remove(),U.exit().remove();var W=q.enter().append("g");W.attr("class","nv-slice"),W.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),b&&d3.select(this).select("path").transition().duration(70).attr("d",R),A.elementMouseover({label:r(t.data),value:o(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:s,color:d3.select(this).style("fill")})}),W.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),b&&d3.select(this).select("path").transition().duration(50).attr("d",B),A.elementMouseout({label:r(t.data),value:o(t.data),point:t.data,index:e,id:s})}),q.attr("fill",function(t,e){return a(t,e)}),q.attr("stroke",function(t,e){return a(t,e)});var V=W.append("path").each(function(t){this._current=t});if(V.on("click",function(t,e){A.elementClick({label:r(t.data),value:o(t.data),point:t.data,index:e,pos:d3.event,id:s}),d3.event.stopPropagation()}),V.on("dblclick",function(t,e){A.elementDblClick({label:r(t.data),value:o(t.data),point:t.data,index:e,pos:d3.event,id:s}),d3.event.stopPropagation()}),q.select("path").transition().attr("d",B).attrTween("d",u),h){var Y=d3.svg.arc().innerRadius(0);if(f)var Y=B;p&&(Y=d3.svg.arc().outerRadius(B.outerRadius())),U.enter().append("g").classed("nv-label",!0).each(function(t){var e=d3.select(this);e.attr("transform",function(t){if(x){t.outerRadius=O+10,t.innerRadius=O+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+Y.centroid(t)+") rotate("+e+")"}return t.outerRadius=E+10,t.innerRadius=E+15,"translate("+Y.centroid(t)+")"}),e.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),e.append("text").style("text-anchor",x?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var X={},G=14,Z=140,K=function(t){return Math.floor(t[0]/Z)*Z+","+Math.floor(t[1]/G)*G};U.watchTransition(D,"pie labels").attr("transform",function(t){if(x){t.outerRadius=O+10,t.innerRadius=O+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+Y.centroid(t)+") rotate("+e+")"}t.outerRadius=E+10,t.innerRadius=E+15;var n=Y.centroid(t);if(t.value){var l=K(n);X[l]&&(n[1]-=G),X[K(n)]=!0}return"translate("+n+")"}),U.select(".nv-label text").style("text-anchor",x?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t){var e=(t.endAngle-t.startAngle)/(2*Math.PI),n={key:r(t.data),value:o(t.data),percent:c(e)};return t.value&&e>m?n[g]:""})}}),D.renderEnd("pie immediate"),e}var n={top:0,right:0,bottom:0,left:0},l=500,i=500,r=function(t){return t.x},o=function(t){return t.y},s=Math.floor(1e4*Math.random()),a=t.utils.defaultColor(),u=d3.format(",.2f"),c=d3.format("%"),h=!0,f=!0,p=!1,g="key",m=.02,v=!1,y=!1,b=!0,w=0,x=!1,_=!1,C=!1,k=!1,S=0,T=.5,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),D=t.utils.renderWatch(A);return e.dispatch=A,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return i;
},set:function(t){i=t}},showLabels:{get:function(){return h},set:function(t){h=t}},title:{get:function(){return y},set:function(t){y=t}},titleOffset:{get:function(){return w},set:function(t){w=t}},labelThreshold:{get:function(){return m},set:function(t){m=t}},labelFormat:{get:function(){return c},set:function(t){c=t}},valueFormat:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return r},set:function(t){r=t}},id:{get:function(){return s},set:function(t){s=t}},endAngle:{get:function(){return k},set:function(t){k=t}},startAngle:{get:function(){return _},set:function(t){_=t}},padAngle:{get:function(){return C},set:function(t){C=t}},cornerRadius:{get:function(){return S},set:function(t){S=t}},donutRatio:{get:function(){return T},set:function(t){T=t}},pieLabelsOutside:{get:function(){return f},set:function(t){f=t}},donutLabelsOutside:{get:function(){return p},set:function(t){p=t}},labelSunbeamLayout:{get:function(){return x},set:function(t){x=t}},donut:{get:function(){return v},set:function(t){v=t}},growOnHover:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return n},set:function(t){n.top="undefined"!=typeof t.top?t.top:n.top,n.right="undefined"!=typeof t.right?t.right:n.right,n.bottom="undefined"!=typeof t.bottom?t.bottom:n.bottom,n.left="undefined"!=typeof t.left?t.left:n.left}},y:{get:function(){return o},set:function(t){o=d3.functor(t)}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}},labelType:{get:function(){return g},set:function(t){g=t||"key"}}}),t.utils.initOptions(e),e},t.models.pieChart=function(){"use strict";function e(a){return v.reset(),v.models(n),a.each(function(a){var u=d3.select(this);t.utils.initSVG(u);var c=(r||parseInt(u.style("width"),10)||960)-i.left-i.right,p=(o||parseInt(u.style("height"),10)||400)-i.top-i.bottom;if(e.update=function(){u.transition().call(e)},e.container=this,d.setter(b(a),e.update).getter(y(a)).update(),d.disabled=a.map(function(t){return!!t.disabled}),!h){var m;h={};for(m in d)d[m]instanceof Array?h[m]=d[m].slice(0):h[m]=d[m]}if(!a||!a.length){var v=u.selectAll(".nv-noData").data([f]);return v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",i.left+c/2).attr("y",i.top+p/2).text(function(t){return t}),e}u.selectAll(".nv-noData").remove();var w=u.selectAll("g.nv-wrap.nv-pieChart").data([a]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),_=w.select("g");x.append("g").attr("class","nv-pieWrap"),x.append("g").attr("class","nv-legendWrap"),s&&(l.width(c).key(n.x()),w.select(".nv-legendWrap").datum(a).call(l),i.top!=l.height()&&(i.top=l.height(),p=(o||parseInt(u.style("height"))||400)-i.top-i.bottom),w.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")),w.attr("transform","translate("+i.left+","+i.top+")"),n.width(c).height(p);var C=_.select(".nv-pieWrap").datum([a]);d3.transition(C).call(n),l.dispatch.on("stateChange",function(t){for(var n in t)d[n]=t[n];g.stateChange(d),e.update()}),n.dispatch.on("elementMouseout.tooltip",function(t){g.tooltipHide(t)}),g.on("changeState",function(t){"undefined"!=typeof t.disabled&&(a.forEach(function(e,n){e.disabled=t.disabled[n]}),d.disabled=t.disabled),e.update()})}),v.renderEnd("pieChart immediate"),e}var n=t.models.pie(),l=t.models.legend(),i={top:30,right:20,bottom:20,left:20},r=null,o=null,s=!0,a=t.utils.defaultColor(),u=!0,c=function(t,e,n){return'<h3 style="background-color: '+n.color+'">'+t+"</h3><p>"+e+"</p>"},d=t.utils.state(),h=null,f="No Data Available.",p=250,g=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),m=function(l,i){var r=n.x()(l.point),o=l.pos[0]+(i&&i.offsetLeft||0),s=l.pos[1]+(i&&i.offsetTop||0),a=n.valueFormat()(n.y()(l.point)),u=c(r,a,l,e);t.tooltip.show([o,s],u,l.value<0?"n":"s",null,i)},v=t.utils.renderWatch(g),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},b=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],g.tooltipShow(t)}),g.on("tooltipShow",function(t){u&&m(t)}),g.on("tooltipHide",function(){u&&t.tooltip.cleanup()}),e.legend=l,e.dispatch=g,e.pie=n,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return f},set:function(t){f=t}},tooltipContent:{get:function(){return c},set:function(t){c=t}},tooltips:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return s},set:function(t){s=t}},defaultState:{get:function(){return h},set:function(t){h=t}},color:{get:function(){return a},set:function(t){a=t,l.color(a),n.color(a)}},duration:{get:function(){return p},set:function(t){p=t,v.reset(p)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.scatter=function(){"use strict";function e(N){return B.reset(),N.each(function(e){function N(){if(!x)return!1;var t=d3.merge(e.map(function(t,e){return t.values.map(function(t,n){var l=p(t,n),i=g(t,n);return[d(l)+1e-7*Math.random(),h(i)+1e-7*Math.random(),e,n,t]}).filter(function(t,e){return _(t[4],e)})}));if(P===!0){t.length<3&&(t.push([d.range()[0]-20,h.range()[0]-20,null,null]),t.push([d.range()[1]+20,h.range()[1]+20,null,null]),t.push([d.range()[0]-20,h.range()[0]+20,null,null]),t.push([d.range()[1]+20,h.range()[1]-20,null,null]));var n=d3.geom.polygon([[-10,-10],[-10,a+10],[s+10,a+10],[s+10,-10]]),l=d3.geom.voronoi(t).map(function(e,l){return{data:n.clip(e),series:t[l][2],point:t[l][3]}});U.select(".nv-point-paths").selectAll("path").remove();var i=U.select(".nv-point-paths").selectAll("path").data(l);if(i.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+e+")"}),T){var r=U.append("svg:g").attr("id","nv-point-clips");r.selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",A)}var u=function(t,n){if(L)return 0;var l=e[t.series];if("undefined"!=typeof l){var i=l.values[t.point];n({point:i,series:l,pos:[d(p(i,t.point))+o.left,h(g(i,t.point))+o.top],seriesIndex:t.series,pointIndex:t.point})}};i.on("click",function(t){u(t,F.elementClick)}).on("dblclick",function(t){u(t,F.elementDblClick)}).on("mouseover",function(t){u(t,F.elementMouseover)}).on("mouseout",function(t){u(t,F.elementMouseout)})}else U.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,n){if(L||!e[t.series])return 0;var l=e[t.series],i=l.values[n];F.elementClick({point:i,series:l,pos:[d(p(i,n))+o.left,h(g(i,n))+o.top],seriesIndex:t.series,pointIndex:n})}).on("mouseover",function(t,n){if(L||!e[t.series])return 0;var l=e[t.series],i=l.values[n];F.elementMouseover({point:i,series:l,pos:[d(p(i,n))+o.left,h(g(i,n))+o.top],seriesIndex:t.series,pointIndex:n})}).on("mouseout",function(t,n){if(L||!e[t.series])return 0;var l=e[t.series],i=l.values[n];F.elementMouseout({point:i,series:l,seriesIndex:t.series,pointIndex:n})});L=!1}var R=d3.select(this),z=(s||parseInt(R.style("width"))||960)-o.left-o.right,H=(a||parseInt(R.style("height"))||400)-o.top-o.bottom;t.utils.initSVG(R),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var q=D&&M&&O?[]:d3.merge(e.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),size:m(t,e)}})}));d.domain(D||d3.extent(q.map(function(t){return t.x}).concat(y))),C&&e[0]?d.range(j||[(z*k+z)/(2*e[0].values.length),z-z*(1+k)/(2*e[0].values.length)]):d.range(j||[0,z]),h.domain(M||d3.extent(q.map(function(t){return t.y}).concat(b))).range(E||[H,0]),f.domain(O||d3.extent(q.map(function(t){return t.size}).concat(w))).range(I||[16,256]),d.domain()[0]!==d.domain()[1]&&h.domain()[0]!==h.domain()[1]||($=!0),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]):h.domain([-1,1])),isNaN(d.domain()[0])&&d.domain([-1,1]),isNaN(h.domain()[0])&&h.domain([-1,1]),n=n||d,l=l||h,i=i||f;var U=R.selectAll("g.nv-wrap.nv-scatter").data([e]),W=U.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+c+($?" nv-single-point":"")),V=W.append("defs"),Y=W.append("g"),X=U.select("g");Y.append("g").attr("class","nv-groups"),Y.append("g").attr("class","nv-point-paths"),U.attr("transform","translate("+o.left+","+o.top+")"),V.append("clipPath").attr("id","nv-edge-clip-"+c).append("rect"),U.select("#nv-edge-clip-"+c+" rect").attr("width",z).attr("height",H>0?H:0),X.attr("clip-path",S?"url(#nv-edge-clip-"+c+")":""),L=!0;var G=U.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});G.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),G.exit().remove(),G.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),G.watchTransition(B,"scatter: groups").style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var Z=G.selectAll("path.nv-point").data(function(t){return t.values});Z.enter().append("path").style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t,e){return"translate("+n(p(t,e))+","+l(g(t,e))+")"}).attr("d",t.utils.symbol().type(v).size(function(t,e){return f(m(t,e))})),Z.exit().remove(),G.exit().selectAll("path.nv-point").watchTransition(B,"scatter exit").attr("transform",function(t,e){return"translate("+d(p(t,e))+","+h(g(t,e))+")"}).remove(),Z.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),Z.watchTransition(B,"scatter points").attr("transform",function(t,e){return"translate("+d(p(t,e))+","+h(g(t,e))+")"}).attr("d",t.utils.symbol().type(v).size(function(t,e){return f(m(t,e))})),clearTimeout(r),r=setTimeout(N,300),n=d.copy(),l=h.copy(),i=f.copy()}),B.renderEnd("scatter immediate"),e}var n,l,i,r,o={top:0,right:0,bottom:0,left:0},s=null,a=null,u=t.utils.defaultColor(),c=Math.floor(1e5*Math.random()),d=d3.scale.linear(),h=d3.scale.linear(),f=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},m=function(t){return t.size||1},v=function(t){return t.shape||"circle"},y=[],b=[],w=[],x=!0,_=function(t){return!t.notActive},C=!1,k=.1,S=!1,T=!0,A=function(){return 25},D=null,M=null,j=null,E=null,O=null,I=null,$=!1,F=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),P=!0,N=250,L=!1,B=t.utils.renderWatch(F,N);return e.dispatch=F,e.options=t.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return d3.selectAll(".nv-chart-"+c+" .nv-point.hover").classed("hover",!1),null},this.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+c+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)}},F.on("elementMouseover.point",function(t){x&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),F.on("elementMouseout.point",function(t){x&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},pointScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return D},set:function(t){D=t}},yDomain:{get:function(){return M},set:function(t){M=t}},pointDomain:{get:function(){return O},set:function(t){O=t}},xRange:{get:function(){return j},set:function(t){j=t}},yRange:{get:function(){return E},set:function(t){E=t}},pointRange:{get:function(){return I},set:function(t){I=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return b},set:function(t){b=t}},forcePoint:{get:function(){return w},set:function(t){w=t}},interactive:{get:function(){return x},set:function(t){x=t}},pointActive:{get:function(){return _},set:function(t){_=t}},padDataOuter:{get:function(){return k},set:function(t){k=t}},padData:{get:function(){return C},set:function(t){C=t}},clipEdge:{get:function(){return S},set:function(t){S=t}},clipVoronoi:{get:function(){return T},set:function(t){T=t}},clipRadius:{get:function(){return A},set:function(t){A=t}},id:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return p},set:function(t){p=d3.functor(t)}},y:{get:function(){return g},set:function(t){g=d3.functor(t)}},pointSize:{get:function(){return m},set:function(t){m=d3.functor(t)}},pointShape:{get:function(){return v},set:function(t){v=d3.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return N},set:function(t){N=t,B.reset(N)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e)}},useVoronoi:{get:function(){return P},set:function(t){P=t,P===!1&&(T=!1)}}}),t.utils.initOptions(e),e},t.models.scatterChart=function(){"use strict";function e(x){return E.reset(),E.models(n),v&&E.models(l),y&&E.models(i),p&&E.models(o),g&&E.models(s),x.each(function(x){var _=d3.select(this),C=this;t.utils.initSVG(_);var F=(u||parseInt(_.style("width"))||960)-a.left-a.right,P=(c||parseInt(_.style("height"))||400)-a.top-a.bottom;if(e.update=function(){0===D?_.call(e):_.transition().duration(D).call(e)},e.container=this,k.setter($(x),e.update).getter(I(x)).update(),k.disabled=x.map(function(t){return!!t.disabled}),!S){var N;S={};for(N in k)k[N]instanceof Array?S[N]=k[N].slice(0):S[N]=k[N]}if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var L=_.selectAll(".nv-noData").data([A]);return L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),L.attr("x",a.left+F/2).attr("y",a.top+P/2).text(function(t){return t}),E.renderEnd("scatter immediate"),e}_.selectAll(".nv-noData").remove(),h=n.xScale(),f=n.yScale();var B=_.selectAll("g.nv-wrap.nv-scatterChart").data([x]),R=B.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()),z=R.append("g"),H=B.select("g");z.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-scatterWrap"),z.append("g").attr("class","nv-regressionLinesWrap"),z.append("g").attr("class","nv-distWrap"),z.append("g").attr("class","nv-legendWrap"),B.attr("transform","translate("+a.left+","+a.top+")"),b&&H.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)"),m&&(r.width(F/2),B.select(".nv-legendWrap").datum(x).call(r),a.top!=r.height()&&(a.top=r.height(),P=(c||parseInt(_.style("height"))||400)-a.top-a.bottom),B.select(".nv-legendWrap").attr("transform","translate("+F/2+","+-a.top+")")),n.width(F).height(P).color(x.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!x[e].disabled})),B.select(".nv-scatterWrap").datum(x.filter(function(t){return!t.disabled})).call(n),B.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var q=B.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});q.enter().append("g").attr("class","nv-regLines");var U=q.selectAll(".nv-regLine").data(function(t){return[t]});U.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),U.filter(function(t){return t.intercept&&t.slope}).watchTransition(E,"scatterPlusLineChart: regline").attr("x1",h.range()[0]).attr("x2",h.range()[1]).attr("y1",function(t){return f(h.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t){return f(h.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return d(t,n)}).style("stroke-opacity",function(t){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),v&&(l.scale(h).ticks(l.ticks()?l.ticks():t.utils.calcTicksX(F/100,x)).tickSize(-P,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")").call(l)),y&&(i.scale(f).ticks(i.ticks()?i.ticks():t.utils.calcTicksY(P/36,x)).tickSize(-F,0),H.select(".nv-y.nv-axis").call(i)),p&&(o.getData(n.x()).scale(h).width(F).color(x.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!x[e].disabled})),z.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),H.select(".nv-distributionX").attr("transform","translate(0,"+f.range()[0]+")").datum(x.filter(function(t){return!t.disabled})).call(o)),g&&(s.getData(n.y()).scale(f).width(P).color(x.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!x[e].disabled})),z.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),H.select(".nv-distributionY").attr("transform","translate("+(b?F:-s.size())+",0)").datum(x.filter(function(t){return!t.disabled})).call(s)),r.dispatch.on("stateChange",function(t){for(var n in t)k[n]=t[n];T.stateChange(k),e.update()}),n.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-P),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+o.size()),t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],T.tooltipShow(t)}),T.on("tooltipShow",function(t){w&&O(t,C.parentNode)}),T.on("changeState",function(t){"undefined"!=typeof t.disabled&&(x.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),e.update()}),M=h.copy(),j=f.copy()}),E.renderEnd("scatter with line immediate"),e}var n=t.models.scatter(),l=t.models.axis(),i=t.models.axis(),r=t.models.legend(),o=t.models.distribution(),s=t.models.distribution(),a={top:30,right:20,bottom:50,left:75},u=null,c=null,d=t.utils.defaultColor(),h=n.xScale(),f=n.yScale(),p=!1,g=!1,m=!0,v=!0,y=!0,b=!1,w=!0,x=function(t,e){return"<strong>"+e+"</strong>"},_=function(t,e,n){return"<strong>"+n+"</strong>"},C=function(t,e,n,l){return"<h3>"+t+"</h3><p>"+l+"</p>"},k=t.utils.state(),S=null,T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),A="No Data Available.",D=250;n.xScale(h).yScale(f),l.orient("bottom").tickPadding(10),i.orient(b?"right":"left").tickPadding(10),o.axis("x"),s.axis("y");var M,j,E=t.utils.renderWatch(T,D),O=function(r,o){var s=r.pos[0]+(o.offsetLeft||0),u=r.pos[1]+(o.offsetTop||0),c=r.pos[0]+(o.offsetLeft||0),d=f.range()[0]+a.top+(o.offsetTop||0),p=h.range()[0]+a.left+(o.offsetLeft||0),g=r.pos[1]+(o.offsetTop||0),m=l.tickFormat()(n.x()(r.point,r.pointIndex)),v=i.tickFormat()(n.y()(r.point,r.pointIndex));null!=x&&t.tooltip.show([c,d],x(r.series.key,m,v,r,e),"n",1,o,"x-nvtooltip"),null!=_&&t.tooltip.show([p,g],_(r.series.key,m,v,r,e),"e",1,o,"y-nvtooltip"),null!=C&&t.tooltip.show([s,u],C(r.series.key,m,v,r.point.tooltip,r,e),r.value<0?"n":"s",null,o)},I=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},$=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseout.tooltip",function(t){T.tooltipHide(t),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",s.size())}),T.on("tooltipHide",function(){w&&t.tooltip.cleanup()}),e.dispatch=T,e.scatter=n,e.legend=r,e.xAxis=l,e.yAxis=i,e.distX=o,e.distY=s,e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},showDistX:{get:function(){return p},set:function(t){p=t}},showDistY:{get:function(){return g},set:function(t){g=t}},showLegend:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},tooltips:{get:function(){return w},set:function(t){w=t}},tooltipContent:{get:function(){return C},set:function(t){C=t}},tooltipXContent:{get:function(){return x},set:function(t){x=t}},tooltipYContent:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return A},set:function(t){A=t}},duration:{get:function(){return D},set:function(t){D=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,i.orient(t?"right":"left")}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),r.color(d),o.color(d),s.color(d)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.sparkline=function(){"use strict";function e(u){return u.each(function(e){var u=s-o.left-o.right,g=a-o.top-o.bottom,m=d3.select(this);t.utils.initSVG(m),c.domain(n||d3.extent(e,h)).range(i||[0,u]),d.domain(l||d3.extent(e,f)).range(r||[g,0]);var v=m.selectAll("g.nv-wrap.nv-sparkline").data([e]),y=v.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");y.append("g"),v.select("g");v.attr("transform","translate("+o.left+","+o.top+")");var b=v.selectAll("path").data(function(t){return[t]});b.enter().append("path"),b.exit().remove(),b.style("stroke",function(t,e){return t.color||p(t,e)}).attr("d",d3.svg.line().x(function(t,e){return c(h(t,e))}).y(function(t,e){return d(f(t,e))}));var w=v.selectAll("circle.nv-point").data(function(t){function e(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return f(t,e)}),l=e(n.lastIndexOf(d.domain()[1])),i=e(n.indexOf(d.domain()[0])),r=e(n.length-1);return[i,l,r].filter(function(t){return null!=t})});w.enter().append("circle"),w.exit().remove(),w.attr("cx",function(t){return c(h(t,t.pointIndex))}).attr("cy",function(t){return d(f(t,t.pointIndex))}).attr("r",2).attr("class",function(t){return h(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":f(t,t.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),e}var n,l,i,r,o={top:2,right:0,bottom:2,left:0},s=400,a=32,u=!0,c=d3.scale.linear(),d=d3.scale.linear(),h=function(t){return t.x},f=function(t){return t.y},p=t.utils.getColor(["#000"]);return e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return l},set:function(t){l=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return r},set:function(t){r=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},animate:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return h},set:function(t){h=d3.functor(t)}},y:{get:function(){return f},set:function(t){f=d3.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.sparklinePlus=function(){"use strict";function e(h){return h.each(function(m){function v(){if(!u){var t=A.selectAll(".nv-hoverValue").data(a),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+n(i.x()(m[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),a.length&&(e.append("line").attr("x1",0).attr("y1",-r.top).attr("x2",0).attr("y2",x),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-r.top).attr("text-anchor","end").attr("dy",".9em"),A.select(".nv-hoverValue .nv-xValue").text(c(i.x()(m[a[0]],a[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-r.top).attr("text-anchor","start").attr("dy",".9em"),A.select(".nv-hoverValue .nv-yValue").text(d(i.y()(m[a[0]],a[0]))))}}function y(){function t(t,e){for(var n=Math.abs(i.x()(t[0],0)-e),l=0,r=0;r<t.length;r++)Math.abs(i.x()(t[r],r)-e)<n&&(n=Math.abs(i.x()(t[r],r)-e),l=r);return l}if(!u){var e=d3.mouse(this)[0]-r.left;a=[t(m,Math.round(n.invert(e)))],v()}}var b=d3.select(this);t.utils.initSVG(b);var w=(o||parseInt(b.style("width"))||960)-r.left-r.right,x=(s||parseInt(b.style("height"))||400)-r.top-r.bottom;if(e.update=function(){e(h)},e.container=this,!m||!m.length){var _=b.selectAll(".nv-noData").data([g]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",r.left+w/2).attr("y",r.top+x/2).text(function(t){return t}),e}b.selectAll(".nv-noData").remove();var C=i.y()(m[m.length-1],m.length-1);n=i.xScale(),l=i.yScale();var k=b.selectAll("g.nv-wrap.nv-sparklineplus").data([m]),S=k.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),T=S.append("g"),A=k.select("g");T.append("g").attr("class","nv-sparklineWrap"),T.append("g").attr("class","nv-valueWrap"),T.append("g").attr("class","nv-hoverArea"),k.attr("transform","translate("+r.left+","+r.top+")");var D=A.select(".nv-sparklineWrap");i.width(w).height(x),D.call(i);var M=A.select(".nv-valueWrap"),j=M.selectAll(".nv-currentValue").data([C]);j.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),j.attr("x",w+(p?r.right:0)).attr("y",f?function(t){return l(t)}:0).style("fill",i.color()(m[m.length-1],m.length-1)).text(d(C)),T.select(".nv-hoverArea").append("rect").on("mousemove",y).on("click",function(){u=!u}).on("mouseout",function(){a=[],v()}),A.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-r.left+","+-r.top+")"}).attr("width",w+r.left+r.right).attr("height",x+r.top)}),e}var n,l,i=t.models.sparkline(),r={top:15,right:100,bottom:10,left:50},o=null,s=null,a=[],u=!1,c=d3.format(",r"),d=d3.format(",.2f"),h=!0,f=!0,p=!1,g="No Data Available.";return e.sparkline=i,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},xTickFormat:{get:function(){return c},set:function(t){c=t}},yTickFormat:{get:function(){return d},set:function(t){d=t}},showValue:{get:function(){return h},set:function(t){h=t}},alignValue:{get:function(){return f},set:function(t){f=t}},rightAlignValue:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.stackedArea=function(){"use strict";function e(d){return b.reset(),b.models(m),d.each(function(d){var v=r-i.left-i.right,w=o-i.top-i.bottom,x=d3.select(this);t.utils.initSVG(x),n=m.xScale(),l=m.yScale();var _=d;d.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var C=d.filter(function(t){return!t.disabled});d=d3.layout.stack().order(f).offset(h).values(function(t){return t.values}).x(u).y(c).out(function(t,e,n){var l=0===c(t)?0:n;t.display={y:l,y0:e}})(C);var k=x.selectAll("g.nv-wrap.nv-stackedarea").data([d]),S=k.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),T=S.append("defs"),A=S.append("g"),D=k.select("g");A.append("g").attr("class","nv-areaWrap"),A.append("g").attr("class","nv-scatterWrap"),k.attr("transform","translate("+i.left+","+i.top+")"),m.width(v).height(w).x(u).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(d.map(function(t){return t.color||s(t,t.seriesIndex)}));var M=D.select(".nv-scatterWrap").datum(d);M.call(m),T.append("clipPath").attr("id","nv-edge-clip-"+a).append("rect"),k.select("#nv-edge-clip-"+a+" rect").attr("width",v).attr("height",w),D.attr("clip-path",g?"url(#nv-edge-clip-"+a+")":"");var j=d3.svg.area().x(function(t,e){return n(u(t,e))}).y0(function(t){return l(t.display.y0)}).y1(function(t){return l(t.display.y+t.display.y0)}).interpolate(p),E=d3.svg.area().x(function(t,e){return n(u(t,e))}).y0(function(t){return l(t.display.y0)}).y1(function(t){return l(t.display.y0)}),O=D.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});O.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t){return E(t.values,t.seriesIndex)}).on("mouseover",function(t){d3.select(this).classed("hover",!0),y.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t){d3.select(this).classed("hover",!1),y.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t){d3.select(this).classed("hover",!1),y.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),O.exit().remove(),O.style("fill",function(t){return t.color||s(t,t.seriesIndex)}).style("stroke",function(t){return t.color||s(t,t.seriesIndex)}),O.watchTransition(b,"stackedArea path").attr("d",function(t,e){return j(t.values,e)}),m.dispatch.on("elementMouseover.area",function(t){D.select(".nv-chart-"+a+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),m.dispatch.on("elementMouseout.area",function(t){D.select(".nv-chart-"+a+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),e.d3_stackedOffset_stackPercent=function(t){var e,n,l,i=t.length,r=t[0].length,o=1/i,s=[];for(n=0;r>n;++n){for(e=0,l=0;e<_.length;e++)l+=c(_[e].values[n]);if(l)for(e=0;i>e;e++)t[e][n][1]/=l;else for(e=0;i>e;e++)t[e][n][1]=o}for(n=0;r>n;++n)s[n]=0;return s}}),b.renderEnd("stackedArea immediate"),e}var n,l,i={top:0,right:0,bottom:0,left:0},r=960,o=500,s=t.utils.defaultColor(),a=Math.floor(1e5*Math.random()),u=function(t){return t.x},c=function(t){return t.y},d="stack",h="zero",f="default",p="linear",g=!1,m=t.models.scatter(),v=250,y=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout","renderEnd");m.interactive(!1),m.pointSize(2.2).pointDomain([2.2,2.2]);var b=t.utils.renderWatch(y,v);return m.dispatch.on("elementClick.area",function(t){y.areaClick(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],y.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){y.tooltipHide(t)}),e.dispatch=y,e.scatter=m,e.interpolate=function(t){return arguments.length?(p=t,e):p},e.duration=function(t){return arguments.length?(v=t,b.reset(v),m.duration(v),e):v},e.dispatch=y,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return o},set:function(t){o=t}},clipEdge:{get:function(){return g},set:function(t){g=t}},offset:{get:function(){return h},set:function(t){h=t}},order:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return p},set:function(t){p=t}},x:{get:function(){return u},set:function(t){u=d3.functor(t)}},y:{get:function(){return c},set:function(t){c=d3.functor(t)}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return s},set:function(e){s=t.utils.getColor(e)}},style:{get:function(){return d},set:function(t){switch(d=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default");break;case"stack_percent":e.offset(e.d3_stackedOffset_stackPercent),e.order("default")}}},duration:{get:function(){return v},set:function(t){v=t,b.reset(v),m.duration(v)}}}),t.utils.inheritOptions(e,m),t.utils.initOptions(e),e},t.models.stackedAreaChart=function(){"use strict";function e(x){return E.reset(),E.models(i),
m&&E.models(r),v&&E.models(o),x.each(function(x){var E=d3.select(this),P=this;t.utils.initSVG(E);var N=(d||parseInt(E.style("width"))||960)-c.left-c.right,L=(h||parseInt(E.style("height"))||400)-c.top-c.bottom;if(e.update=function(){E.transition().duration(j).call(e)},e.container=this,C.setter(F(x),e.update).getter($(x)).update(),C.disabled=x.map(function(t){return!!t.disabled}),!k){var B;k={};for(B in C)C[B]instanceof Array?k[B]=C[B].slice(0):k[B]=C[B]}if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var R=E.selectAll(".nv-noData").data([S]);return R.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),R.attr("x",c.left+N/2).attr("y",c.top+L/2).text(function(t){return t}),e}E.selectAll(".nv-noData").remove(),n=i.xScale(),l=i.yScale();var z=E.selectAll("g.nv-wrap.nv-stackedAreaChart").data([x]),H=z.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),q=z.select("g");if(H.append("rect").style("opacity",0),H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-stackedWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),H.append("g").attr("class","nv-interactive"),q.select("rect").attr("width",N).attr("height",L),g){var U=p?N-A:N;s.width(U),q.select(".nv-legendWrap").datum(x).call(s),c.top!=s.height()&&(c.top=s.height(),L=(h||parseInt(E.style("height"))||400)-c.top-c.bottom),q.select(".nv-legendWrap").attr("transform","translate("+(N-U)+","+-c.top+")")}if(p){var W=[{key:M.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=i.style(),style:"stack"},{key:M.stream||"Stream",metaKey:"Stream",disabled:"stream"!=i.style(),style:"stream"},{key:M.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=i.style(),style:"expand"},{key:M.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=i.style(),style:"stack_percent"}];A=D.length/3*260,W=W.filter(function(t){return-1!==D.indexOf(t.metaKey)}),a.width(A).color(["#444","#444","#444"]),q.select(".nv-controlsWrap").datum(W).call(a),c.top!=Math.max(a.height(),s.height())&&(c.top=Math.max(a.height(),s.height()),L=(h||parseInt(E.style("height"))||400)-c.top-c.bottom),q.select(".nv-controlsWrap").attr("transform","translate(0,"+-c.top+")")}z.attr("transform","translate("+c.left+","+c.top+")"),y&&q.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),b&&(u.width(N).height(L).margin({left:c.left,top:c.top}).svgContainer(E).xScale(n),z.select(".nv-interactive").call(u)),i.width(N).height(L);var V=q.select(".nv-stackedWrap").datum(x);V.transition().call(i),m&&(r.scale(n).ticks(t.utils.calcTicksX(N/100,x)).tickSize(-L,0),q.select(".nv-x.nv-axis").attr("transform","translate(0,"+L+")"),q.select(".nv-x.nv-axis").transition().duration(0).call(r)),v&&(o.scale(l).ticks("wiggle"==i.offset()?0:t.utils.calcTicksY(L/36,x)).tickSize(-N,0).setTickFormat("expand"==i.style()||"stack_percent"==i.style()?d3.format("%"):_),q.select(".nv-y.nv-axis").transition().duration(0).call(o)),i.dispatch.on("areaClick.toggle",function(t){1===x.filter(function(t){return!t.disabled}).length?x.forEach(function(t){t.disabled=!1}):x.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),C.disabled=x.map(function(t){return!!t.disabled}),T.stateChange(C),e.update()}),s.dispatch.on("stateChange",function(t){for(var n in t)C[n]=t[n];T.stateChange(C),e.update()}),a.dispatch.on("legendClick",function(t){t.disabled&&(W=W.map(function(t){return t.disabled=!0,t}),t.disabled=!1,i.style(t.style),C.style=i.style(),T.stateChange(C),e.update())}),u.dispatch.on("elementMousemove",function(n){i.clearHighlights();var l,s,a,d=[];if(x.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(r,o){s=t.interactiveBisect(r.values,n.pointXValue,e.x()),i.highlightPoint(o,s,!0);var u=r.values[s];if("undefined"!=typeof u){"undefined"==typeof l&&(l=u),"undefined"==typeof a&&(a=e.xScale()(e.x()(u,s)));var c="expand"==i.style()?u.display.y:e.y()(u,s);d.push({key:r.key,value:c,color:f(r,r.seriesIndex),stackedValue:u.display})}}),d.reverse(),d.length>2){var h=e.yScale().invert(n.mouseY),p=null;d.forEach(function(t,e){h=Math.abs(h);var n=Math.abs(t.stackedValue.y0),l=Math.abs(t.stackedValue.y);return h>=n&&l+n>=h?void(p=e):void 0}),null!=p&&(d[p].highlight=!0)}var g=r.tickFormat()(e.x()(l,s)),m="expand"==i.style()?function(t){return d3.format(".1%")(t)}:function(t){return o.tickFormat()(t)};u.tooltip.position({left:a+c.left,top:n.mouseY+c.top}).chartContainer(P.parentNode).enabled(w).valueFormatter(m).data({value:g,series:d})(),u.renderGuideLine(a)}),u.dispatch.on("elementMouseout",function(){T.tooltipHide(),i.clearHighlights()}),T.on("tooltipShow",function(t){w&&I(t,P.parentNode)}),T.on("changeState",function(t){"undefined"!=typeof t.disabled&&x.length===t.disabled.length&&(x.forEach(function(e,n){e.disabled=t.disabled[n]}),C.disabled=t.disabled),"undefined"!=typeof t.style&&(i.style(t.style),O=t.style),e.update()})}),E.renderEnd("stacked Area chart immediate"),e}var n,l,i=t.models.stackedArea(),r=t.models.axis(),o=t.models.axis(),s=t.models.legend(),a=t.models.legend(),u=t.interactiveGuideline(),c={top:30,right:25,bottom:50,left:60},d=null,h=null,f=t.utils.defaultColor(),p=!0,g=!0,m=!0,v=!0,y=!1,b=!1,w=!0,x=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},_=d3.format(",.2f"),C=t.utils.state(),k=null,S="No Data Available.",T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),A=250,D=["Stacked","Stream","Expanded"],M={},j=250;C.style=i.style(),r.orient("bottom").tickPadding(7),o.orient(y?"right":"left"),a.updateState(!1);var E=t.utils.renderWatch(T),O=i.style(),I=function(n,l){var s=n.pos[0]+(l.offsetLeft||0),a=n.pos[1]+(l.offsetTop||0),u=r.tickFormat()(i.x()(n.point,n.pointIndex)),c=o.tickFormat()(i.y()(n.point,n.pointIndex)),d=x(n.series.key,u,c,n,e);t.tooltip.show([s,a],d,n.value<0?"n":"s",null,l)},$=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:i.style()}}},F=function(t){return function(e){void 0!==e.style&&(O=e.style),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return i.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],T.tooltipShow(t)}),i.dispatch.on("tooltipHide",function(t){T.tooltipHide(t)}),T.on("tooltipHide",function(){w&&t.tooltip.cleanup()}),e.dispatch=T,e.stacked=i,e.legend=s,e.controls=a,e.xAxis=r,e.yAxis=o,e.interactiveLayer=u,o.setTickFormat=o.tickFormat,e.dispatch=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},tooltips:{get:function(){return w},set:function(t){w=t}},tooltipContent:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return S},set:function(t){S=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return M},set:function(t){M=t}},yAxisTickFormat:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return j},set:function(t){j=t,E.reset(j),i.duration(j),r.duration(j),o.duration(j)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f),i.color(f)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,o.orient(y?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=!!t,t&&(e.interactive(!1),e.useVoronoi(!1))}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.version="1.7.1"}(),function(t,e,n){"use strict";function l(){return"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/MSIE\s+\d+\.\d+/)||navigator.userAgent.match(/Trident\/\d+\.\d+/)}function i(e,n){var i=t("body"),r=i.outerWidth(!0);i.addClass(e.lockClass);var o=i.outerWidth(!0)-r;if(l()&&(c=i.css("margin-top"),i.css("margin-top",0)),0!=o){var s=t("html, body");s.each(function(){var e=t(this);u[e.prop("tagName").toLowerCase()]=parseInt(e.css("margin-right"))}),t("html").css("margin-right",u.html+o),n.css("left",0-o)}}function r(e){l()&&t("body").css("margin-top",c);var n=t("body"),i=n.outerWidth(!0);n.removeClass(e.lockClass);var r=n.outerWidth(!0)-i;0!=r&&t("html, body").each(function(){var e=t(this);e.css("margin-right",u[e.prop("tagName").toLowerCase()])})}function o(l,o){var u=o;return l.length?l.each(function(){t(this).data(s+".options",u)}):t.extend(a,u),t(e).bind("keydown",function(n){if(!n.ctrlKey||65!=n.keyCode)return!0;if(t("input:focus, textarea:focus").length>0)return!0;var l=new t.Event("onSelectAll");return l.parentEvent=n,t(e).trigger(l),!0}),l.bind("keydown",function(e){var n=t(":focusable",t(this));n.filter(":last").is(":focus")&&9==(e.which||e.keyCode)&&(e.preventDefault(),n.filter(":first").focus())}),{open:function(r){var o=l.get(0),u=t.extend({},a,t(o).data(s+".options"),r);t("."+u.overlayClass).length&&t.modal().close(u);var c=t("<div/>").addClass(u.overlayClass).prependTo("body");if(c.data(s+".options",u),i(u,c),o){var d=null;u.cloning?d=t(o).clone(!0).appendTo(c).show():(c.data(s+".el",o),t(o).data(s+".parent",t(o).parent()),d=t(o).appendTo(c).show())}if(u.verticallyCenter){var h=(c.outerHeight()-d.height())/2;h>0&&d.css({"margin-top":h+"px"})}u.closeOnEsc&&t(n).bind("keyup."+s,function(e){27===e.keyCode&&t.modal().close(u)}),u.closeOnOverlayClick&&t("."+u.overlayClass).on("click."+s,function(e){e.target.className==u.overlayClass&&t.modal().close(u)}),t(n).bind("touchmove."+s,function(e){t(e).parents("."+u.overlayClass)||e.preventDefault()}),o&&t(e).bind("onSelectAll",function(t){t.parentEvent.preventDefault();var l=null,i=null,r=d.get(0);n.body.createTextRange?(l=n.body.createTextRange(),l.moveToElementText(r),l.select()):e.getSelection&&(i=e.getSelection(),l=n.createRange(),l.selectNodeContents(r),i.removeAllRanges(),i.addRange(l))}),u.onOpen&&u.onOpen(c,u)},close:function(i){var o=l.get(0),u=t.extend({},a,t(o).data(s+".options"),i),c=t("."+u.overlayClass);t.isFunction(u.onBeforeClose)&&u.onBeforeClose(c,u)===!1||(u.cloning||(o||(o=c.data(s+".el")),t(o).hide().appendTo(t(o).data(s+".parent"))),c.remove(),r(u),u.closeOnEsc&&t(n).unbind("keyup."+s),t(e).unbind("onSelectAll"),u.onClose&&u.onClose(c,u))}}}t.extend(t.expr[":"],{focusable:function(e){function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var l,i,r,o=e.nodeName.toLowerCase(),s=!isNaN(t.attr(e,"tabindex"));if("area"===o)return l=e.parentNode,i=l.name,e.href&&i&&"map"===l.nodeName.toLowerCase()?(r=t("img[usemap=#"+i+"]")[0],!!r&&n(r)):!1;var a=s;return/input|select|textarea|button|object/.test(o)?a=!e.disabled:"a"===o&&(a=e.href||s),a&&n(e)}});var s="the-modal",a={lockClass:"themodal-lock",overlayClass:"themodal-overlay",closeOnEsc:!0,closeOnOverlayClick:!0,onBeforeClose:null,onClose:null,onOpen:null,verticallyCenter:!1,cloning:!1},u={},c=0;t.modal=function(e){return o(t(),e)},t.fn.modal=function(t){return o(this,t)}}(jQuery,window,document),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e){return!e.nodeName||-1!==t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function n(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}var l=t.scrollTo=function(e,n,l){return t(window).scrollTo(e,n,l)};return l.defaults={axis:"xy",duration:0,limit:!0},t.fn.scrollTo=function(i,r,o){"object"==typeof r&&(o=r,r=0),"function"==typeof o&&(o={onAfter:o}),"max"===i&&(i=9e9),o=t.extend({},l.defaults,o),r=r||o.duration;var s=o.queue&&o.axis.length>1;return s&&(r/=2),o.offset=n(o.offset),o.over=n(o.over),this.each(function(){function a(e){var n=t.extend({},o,{queue:!0,duration:r,complete:e&&function(){e.call(d,f,o)}});h.animate(p,n)}if(null!==i){var u,c=e(this),d=c?this.contentWindow||window:this,h=t(d),f=i,p={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=n(f);break}f=c?t(f):t(f,d);case"object":if(0===f.length)return;(f.is||f.style)&&(u=(f=t(f)).offset())}var g=t.isFunction(o.offset)&&o.offset(d,f)||o.offset;t.each(o.axis.split(""),function(t,e){var n="x"===e?"Left":"Top",i=n.toLowerCase(),r="scroll"+n,m=h[r](),v=l.max(d,e);if(u)p[r]=u[i]+(c?0:m-h.offset()[i]),o.margin&&(p[r]-=parseInt(f.css("margin"+n),10)||0,p[r]-=parseInt(f.css("border"+n+"Width"),10)||0),p[r]+=g[i]||0,o.over[i]&&(p[r]+=f["x"===e?"width":"height"]()*o.over[i]);else{var y=f[i];p[r]=y.slice&&"%"===y.slice(-1)?parseFloat(y)/100*v:y}o.limit&&/^\d+$/.test(p[r])&&(p[r]=p[r]<=0?0:Math.min(p[r],v)),!t&&o.axis.length>1&&(m===p[r]?p={}:s&&(a(o.onAfterFirst),p={}))}),a(o.onAfter)}})},l.max=function(n,l){var i="x"===l?"Width":"Height",r="scroll"+i;if(!e(n))return n[r]-t(n)[i.toLowerCase()]();var o="client"+i,s=n.ownerDocument||n.document,a=s.documentElement,u=s.body;return Math.max(a[r],u[r])-Math.min(a[o],u[o])},t.Tween.propHooks.scrollLeft=t.Tween.propHooks.scrollTop={get:function(e){return t(e.elem)[e.prop]()},set:function(e){var n=this.get(e);if(e.options.interrupt&&e._last&&e._last!==n)return t(e.elem).stop();var l=Math.round(e.now);n!==l&&(t(e.elem)[e.prop](l),e._last=this.get(e))}},l}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t.jBox=e(n)}):"object"==typeof module&&module.exports?module.exports=t.jBox=e(require("jquery")):t.jBox=e(t.jQuery)}(this,function(t){var e=function n(e,l){return this.options={id:null,width:"auto",height:"auto",minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,responsiveWidth:!0,responsiveHeight:!0,responsiveMinWidth:100,responsiveMinHeight:100,attach:null,trigger:"click",preventDefault:!1,content:null,getContent:null,title:null,getTitle:null,footer:null,isolateScroll:!0,ajax:{url:null,data:"",reload:!1,getURL:"data-url",getData:"data-ajax",setContent:!0,spinner:!0,spinnerDelay:300,spinnerReposition:!0},target:null,position:{x:"center",y:"center"},outside:null,offset:0,attributes:{x:"left",y:"top"},fixed:!1,adjustPosition:!0,adjustTracker:!1,adjustDistance:5,reposition:!0,repositionOnOpen:!0,repositionOnContent:!0,pointer:!1,pointTo:"target",fade:180,animation:null,theme:"Default",addClass:null,overlay:!1,zIndex:1e4,delayOpen:0,delayClose:0,closeOnEsc:!1,closeOnClick:!1,closeOnMouseleave:!1,closeButton:!1,appendTo:t("body"),createOnInit:!1,blockScroll:!1,draggable:!1,dragOver:!0,autoClose:!1,preloadAudio:!0,audio:null,volume:100,onInit:null,onAttach:null,onPosition:null,onCreated:null,onOpen:null,onClose:null,onCloseComplete:null},this._pluginOptions={Tooltip:{getContent:"title",trigger:"mouseenter",position:{x:"center",y:"top"},outside:"y",pointer:!0},Mouse:{responsiveWidth:!1,responsiveHeight:!1,adjustPosition:"flip",target:"mouse",trigger:"mouseenter",position:{x:"right",y:"bottom"},outside:"xy",offset:5},Modal:{target:t(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomIn"}},this.options=t.extend(!0,this.options,this._pluginOptions[e]?this._pluginOptions[e]:n._pluginOptions[e],l),"string"==t.type(e)&&(this.type=e),this._fireEvent=function(t,e){this.options["_"+t]&&this.options["_"+t].bind(this)(e),this.options[t]&&this.options[t].bind(this)(e)},null===this.options.id&&(this.options.id="jBox"+n._getUniqueID()),this.id=this.options.id,("center"==this.options.position.x&&"x"==this.options.outside||"center"==this.options.position.y&&"y"==this.options.outside)&&(this.options.outside=null),"target"==this.options.pointTo&&(!this.options.outside||"xy"==this.options.outside)&&(this.options.pointer=!1),"object"!=t.type(this.options.offset)?this.options.offset={x:this.options.offset,y:this.options.offset}:this.options.offset=t.extend({x:0,y:0},this.options.offset),"object"!=t.type(this.options.adjustDistance)?this.options.adjustDistance={top:this.options.adjustDistance,right:this.options.adjustDistance,bottom:this.options.adjustDistance,left:this.options.adjustDistance}:this.options.adjustDistance=t.extend({top:5,left:5,right:5,bottom:5},this.options.adjustDistance),this.outside=this.options.outside&&"xy"!=this.options.outside?this.options.position[this.options.outside]:!1,this.align=this.outside?this.outside:"center"!=this.options.position.y&&"number"!=t.type(this.options.position.y)?this.options.position.x:"center"!=this.options.position.x&&"number"!=t.type(this.options.position.x)?this.options.position.y:this.options.attributes.x,this._getOpp=function(t){return{left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"}[t]},this._getXY=function(t){return{left:"x",right:"x",top:"y",bottom:"y",center:"x"}[t]},this._getTL=function(t){return{left:"left",right:"left",top:"top",bottom:"top",center:"left",x:"left",y:"top"}[t]},this._getInt=function(e,n){return"auto"==e?"auto":e&&"string"==t.type(e)&&"%"==e.slice(-1)?t(window)["height"==n?"innerHeight":"innerWidth"]()*parseInt(e.replace("%",""))/100:e},this._createSVG=function(e,n){var l=document.createElementNS("http://www.w3.org/2000/svg",e);return t.each(n,function(t,e){l.setAttribute(e[0],e[1]||"")}),l},this._isolateScroll=function(t){t&&t.length&&t.on("DOMMouseScroll.jBoxIsolateScroll mousewheel.jBoxIsolateScroll",function(e){var n=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,l=this.scrollTop+t.outerHeight()-this.scrollHeight>=0,i=this.scrollTop<=0;(0>n&&l||n>0&&i)&&e.preventDefault()})},this._setTitleWidth=function(){if(!this.titleContainer||"auto"==this.content[0].style.width&&!this.content[0].style.maxWidth)return null;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var t=this.content.outerWidth();this.wrapper.css("display","none")}else var t=this.content.outerWidth();this.titleContainer.css({maxWidth:Math.max(t,parseInt(this.content[0].style.maxWidth))||null})},this._draggable=function(){if(!this.options.draggable)return!1;var e="title"==this.options.draggable?this.titleContainer:this.options.draggable instanceof t?this.options.draggable:"string"==t.type(this.options.draggable)?t(this.options.draggable):this.wrapper;return e&&e instanceof t&&e.length&&!e.data("jBox-draggable")?(e.addClass("jBox-draggable").data("jBox-draggable",!0).on("mousedown",function(e){if(2!=e.button&&!t(e.target).hasClass("jBox-noDrag")&&!t(e.target).parents(".jBox-noDrag").length){this.options.dragOver&&this.wrapper.css("zIndex")<=n.zIndexMax&&(n.zIndexMax+=1,this.wrapper.css("zIndex",n.zIndexMax));var l=this.wrapper.outerHeight(),i=this.wrapper.outerWidth(),r=this.wrapper.offset().top+l-e.pageY,o=this.wrapper.offset().left+i-e.pageX;t(document).on("mousemove.jBox-draggable-"+this.id,function(t){this.wrapper.offset({top:t.pageY+r-l,left:t.pageX+o-i})}.bind(this)),e.preventDefault()}}.bind(this)).on("mouseup",function(){t(document).off("mousemove.jBox-draggable-"+this.id)}.bind(this)),n.zIndexMax=n.zIndexMax?Math.max(n.zIndexMax,this.options.zIndex):this.options.zIndex,this):!1},this._create=function(){if(!this.wrapper){if(this.wrapper=t("<div/>",{id:this.id,"class":"jBox-wrapper"+(this.type?" jBox-"+this.type:"")+(this.options.theme?" jBox-"+this.options.theme:"")+(this.options.addClass?" "+this.options.addClass:"")}).css({position:this.options.fixed?"fixed":"absolute",display:"none",opacity:0,zIndex:this.options.zIndex}).data("jBox",this),this.options.closeOnMouseleave&&this.wrapper.on("mouseleave",function(e){!this.source||!(e.relatedTarget==this.source[0]||-1!==t.inArray(this.source[0],t(e.relatedTarget).parents("*")))&&this.close()}.bind(this)),"box"==this.options.closeOnClick&&this.wrapper.on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)),this.container=t('<div class="jBox-container"/>').appendTo(this.wrapper),this.content=t('<div class="jBox-content"/>').appendTo(this.container),this.options.footer&&(this.footer=t('<div class="jBox-footer"/>').append(this.options.footer).appendTo(this.container)),this.options.isolateScroll&&this._isolateScroll(this.content),this.options.closeButton){var e=this._createSVG("svg",[["viewBox","0 0 24 24"]]);e.appendChild(this._createSVG("path",[["d","M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]])),this.closeButton=t('<div class="jBox-closeButton jBox-noDrag"/>').on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)).append(e),"box"!=this.options.closeButton&&(this.options.closeButton!==!0||this.options.overlay||this.options.title)||(this.wrapper.addClass("jBox-closeButton-box"),this.closeButton.appendTo(this.container))}if(this.wrapper.appendTo(this.options.appendTo),this.wrapper.find(".jBox-closeButton").length&&t.each(["top","right","bottom","left"],function(t,e){this.wrapper.find(".jBox-closeButton").css(e)&&"auto"!=this.wrapper.find(".jBox-closeButton").css(e)&&(this.options.adjustDistance[e]=Math.max(this.options.adjustDistance[e],this.options.adjustDistance[e]+-1*((parseInt(this.wrapper.find(".jBox-closeButton").css(e))||0)+(parseInt(this.container.css("border-"+e+"-width"))||0))))}.bind(this)),this.options.pointer){if(this.pointer={position:"target"!=this.options.pointTo?this.options.pointTo:this._getOpp(this.outside),xy:"target"!=this.options.pointTo?this._getXY(this.options.pointTo):this._getXY(this.outside),align:"center",offset:0},this.pointer.element=t('<div class="jBox-pointer jBox-pointer-'+this.pointer.position+'"/>').appendTo(this.wrapper),this.pointer.dimensions={x:this.pointer.element.outerWidth(),y:this.pointer.element.outerHeight()},"string"==t.type(this.options.pointer)){var n=this.options.pointer.split(":");n[0]&&(this.pointer.align=n[0]),n[1]&&(this.pointer.offset=parseInt(n[1]))}this.pointer.alignAttribute="x"==this.pointer.xy?"bottom"==this.pointer.align?"bottom":"top":"right"==this.pointer.align?"right":"left",this.wrapper.css("padding-"+this.pointer.position,this.pointer.dimensions[this.pointer.xy]),this.pointer.element.css(this.pointer.alignAttribute,"center"==this.pointer.align?"50%":0).css("margin-"+this.pointer.alignAttribute,this.pointer.offset),this.pointer.margin={},this.pointer.margin["margin-"+this.pointer.alignAttribute]=this.pointer.offset,"center"==this.pointer.align&&this.pointer.element.css("transform","translate("+("y"==this.pointer.xy?this.pointer.dimensions.x*-.5+"px":0)+", "+("x"==this.pointer.xy?this.pointer.dimensions.y*-.5+"px":0)+")"),this.pointer.element.css("x"==this.pointer.xy?"width":"height",parseInt(this.pointer.dimensions[this.pointer.xy])+parseInt(this.container.css("border-"+this.pointer.alignAttribute+"-width"))),this.wrapper.addClass("jBox-pointerPosition-"+this.pointer.position)}this.setContent(this.options.content,!0),this.setTitle(this.options.title,!0),this.options.draggable&&this._draggable(),this._fireEvent("onCreated")}},this.options.createOnInit&&this._create(),this.options.attach&&this.attach(),this._attachEvents=function(){this.options.closeOnEsc&&t(document).on("keyup.jBox-"+this.id,function(t){27==t.keyCode&&this.close({ignoreDelay:!0})}.bind(this)),this.options.closeOnClick!==!0&&"body"!=this.options.closeOnClick||t(document).on("touchend.jBox-"+this.id+" click.jBox-"+this.id,function(t){this.blockBodyClick||"body"==this.options.closeOnClick&&(t.target==this.wrapper[0]||this.wrapper.has(t.target).length)||this.close({ignoreDelay:!0})}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&!this.fixed&&this.outside&&(this.options.adjustTracker&&t(window).on("scroll.jBox-"+this.id,function(){this.position()}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&t(window).on("resize.jBox-"+this.id,function(){this.position()}.bind(this))),"mouse"==this.options.target&&t("body").on("mousemove.jBox-"+this.id,function(t){this.position({mouseTarget:{top:t.pageY,left:t.pageX}})}.bind(this))},this._detachEvents=function(){this.options.closeOnEsc&&t(document).off("keyup.jBox-"+this.id),(this.options.closeOnClick===!0||"body"==this.options.closeOnClick)&&t(document).off("touchend.jBox-"+this.id+" click.jBox-"+this.id),this.options.adjustTracker&&t(window).off("scroll.jBox-"+this.id),(this.options.adjustPosition||this.options.reposition)&&t(window).off("resize.jBox-"+this.id),"mouse"==this.options.target&&t("body").off("mousemove.jBox-"+this.id)},this._showOverlay=function(){this.overlay||(this.overlay=t('<div id="'+this.id+'-overlay"/>').addClass("jBox-overlay"+(this.type?" jBox-overlay-"+this.type:"")).css({display:"none",opacity:0,zIndex:this.options.zIndex-1}).appendTo(this.options.appendTo),("overlay"==this.options.closeButton||this.options.closeButton===!0&&!this.titleContainer)&&this.overlay.append(this.closeButton),"overlay"==this.options.closeOnClick&&this.overlay.on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)),t("#"+this.id+"-overlay .jBox-closeButton").length&&(this.options.adjustDistance.top=Math.max(t("#"+this.id+"-overlay .jBox-closeButton").outerHeight(),this.options.adjustDistance.top))),"block"!=this.overlay.css("display")&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.overlay.css({display:"block"})}.bind(this)}):this.overlay.css({display:"block",opacity:1}))},this._hideOverlay=function(){this.overlay&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:0},{queue:!1,duration:this.options.fade,complete:function(){this.overlay.css({display:"none"})}.bind(this)}):this.overlay.css({display:"none",opacity:0}))},this._exposeDimensions=function(){this.wrapper.css({top:-1e4,left:-1e4,right:"auto",bottom:"auto"});var t={x:this.wrapper.outerWidth(),y:this.wrapper.outerHeight()};return this.wrapper.css({top:"auto",left:"auto"}),t},this._generateAnimationCSS=function(){if("object"!=t.type(this.options.animation)&&(this.options.animation={pulse:{open:"pulse",close:"zoomOut"},zoomIn:{open:"zoomIn",close:"zoomIn"},zoomOut:{open:"zoomOut",close:"zoomOut"},move:{open:"move",close:"move"},slide:{open:"slide",close:"slide"},flip:{open:"flip",close:"flip"},tada:{open:"tada",close:"zoomOut"}}[this.options.animation]),!this.options.animation)return null;this.options.animation.open&&(this.options.animation.open=this.options.animation.open.split(":")),this.options.animation.close&&(this.options.animation.close=this.options.animation.close.split(":")),this.options.animation.openDirection=this.options.animation.open[1]?this.options.animation.open[1]:null,this.options.animation.closeDirection=this.options.animation.close[1]?this.options.animation.close[1]:null,this.options.animation.open&&(this.options.animation.open=this.options.animation.open[0]),this.options.animation.close&&(this.options.animation.close=this.options.animation.close[0]),this.options.animation.open&&(this.options.animation.open+="Open"),this.options.animation.close&&(this.options.animation.close+="Close");var e={pulse:{duration:350,css:[["0%","scale(1)"],["50%","scale(1.1)"],["100%","scale(1)"]]},zoomInOpen:{duration:this.options.fade||180,css:[["0%","scale(0.9)"],["100%","scale(1)"]]},zoomInClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(0.9)"]]},zoomOutOpen:{duration:this.options.fade||180,css:[["0%","scale(1.1)"],["100%","scale(1)"]]},zoomOutClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(1.1)"]]},moveOpen:{duration:this.options.fade||180,positions:{top:{"0%":-12},right:{"0%":12},bottom:{"0%":12},left:{"0%":-12}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},moveClose:{duration:this.options.fade||180,timing:"ease-in",positions:{top:{"100%":-12},right:{"100%":12},bottom:{"100%":12},left:{"100%":-12}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},slideOpen:{duration:400,positions:{top:{"0%":-400},right:{"0%":400},bottom:{"0%":400},left:{"0%":-400}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},slideClose:{duration:400,timing:"ease-in",positions:{top:{"100%":-400},right:{"100%":400},bottom:{"100%":400},left:{"100%":-400}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},flipOpen:{duration:600,css:[["0%","perspective(400px) rotateX(90deg)"],["40%","perspective(400px) rotateX(-15deg)"],["70%","perspective(400px) rotateX(15deg)"],["100%","perspective(400px) rotateX(0deg)"]]},flipClose:{duration:this.options.fade||300,css:[["0%","perspective(400px) rotateX(0deg)"],["100%","perspective(400px) rotateX(90deg)"]]},tada:{duration:800,css:[["0%","scale(1)"],["10%, 20%","scale(0.9) rotate(-3deg)"],["30%, 50%, 70%, 90%","scale(1.1) rotate(3deg)"],["40%, 60%, 80%","scale(1.1) rotate(-3deg)"],["100%","scale(1) rotate(0)"]]}};t.each(["pulse","tada"],function(t,n){e[n+"Open"]=e[n+"Close"]=e[n]});var n=function(n,l){return keyframe_css="@keyframes jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(l?"-"+l:"")+" {",t.each(e[this.options.animation[n]].css,function(t,i){var r=l?i[1].replace("%XY",this._getXY(l).toUpperCase()):i[1];e[this.options.animation[n]].positions&&(r=r.replace("%V",e[this.options.animation[n]].positions[l][i[0]])),keyframe_css+=i[0]+" {transform:"+r+";}"}.bind(this)),keyframe_css+="}",keyframe_css+=".jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(l?"-"+l:"")+" {",keyframe_css+="animation-duration: "+e[this.options.animation[n]].duration+"ms;",keyframe_css+="animation-name: jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(l?"-"+l:"")+";",keyframe_css+=e[this.options.animation[n]].timing?"animation-timing-function: "+e[this.options.animation[n]].timing+";":"",keyframe_css+="}",keyframe_css}.bind(this);this._animationCSS="",t.each(["open","close"],function(l,i){return this.options.animation[i]&&e[this.options.animation[i]]&&("close"!=i||this.options.fade)?void(e[this.options.animation[i]].positions?t.each(["top","right","bottom","left"],function(t,e){this._animationCSS+=n(i,e)}.bind(this)):this._animationCSS+=n(i)):""}.bind(this))},this.options.animation&&this._generateAnimationCSS(),this._blockBodyClick=function(){this.blockBodyClick=!0,setTimeout(function(){this.blockBodyClick=!1}.bind(this),10)},this._animate=function(t){if(!t&&(t=this.isOpen?"open":"close"),!this.options.fade&&"close"==t)return null;var e=this.options.animation[t+"Direction"]||("center"!=this.align?this.align:this.options.attributes.x);this.flipped&&this._getXY(e)==this._getXY(this.align)&&(e=this._getOpp(e));var n="jBox-"+this.id+"-animation-"+this.options.animation[t]+"-"+t+" jBox-"+this.id+"-animation-"+this.options.animation[t]+"-"+t+"-"+e;this.wrapper.addClass(n);var l=1e3*parseFloat(this.wrapper.css("animation-duration"));"close"==t&&(l=Math.min(l,this.options.fade)),setTimeout(function(){this.wrapper.removeClass(n)}.bind(this),l)},this._abortAnimation=function(){var t=this.wrapper.attr("class").split(" ").filter(function(t){return 0!==t.lastIndexOf("jBox-"+this.id+"-animation",0)}.bind(this));this.wrapper.attr("class",t.join(" "))},(this.options.responsiveWidth||this.options.responsiveHeight)&&t(window).on("resize.responsivejBox-"+this.id,function(){this.isOpen&&this.position()}.bind(this)),"string"===t.type(this.options.preloadAudio)&&(this.options.preloadAudio=[this.options.preloadAudio]),"string"===t.type(this.options.audio)&&(this.options.audio={open:this.options.audio}),"number"===t.type(this.options.volume)&&(this.options.volume={open:this.options.volume,close:this.options.volume}),this.options.preloadAudio===!0&&this.options.audio&&(this.options.preloadAudio=[],t.each(this.options.audio,function(t,e){this.options.preloadAudio.push(e+".mp3"),this.options.preloadAudio.push(e+".ogg")}.bind(this))),this.options.preloadAudio.length&&t.each(this.options.preloadAudio,function(t,e){var n=new Audio;n.src=e,n.preload="auto"}),this._fireEvent("onInit"),this};return e.prototype.attach=function(e,n){return!e&&(e=this.options.attach),"string"==t.type(e)&&(e=t(e)),!n&&(n=this.options.trigger),e&&e.length&&t.each(e,function(e,l){l=t(l),l.data("jBox-attached-"+this.id)||("title"==this.options.getContent&&void 0!=l.attr("title")&&l.data("jBox-getContent",l.attr("title")).removeAttr("title"),this.attachedElements||(this.attachedElements=[]),
this.attachedElements.push(l[0]),l.on(n+".jBox-attach-"+this.id,function(t){if(this.timer&&clearTimeout(this.timer),"mouseenter"!=n||!this.isOpen||this.source[0]!=l[0]){if(this.isOpen&&this.source&&this.source[0]!=l[0])var e=!0;this.source=l,!this.options.target&&(this.target=l),"click"==n&&this.options.preventDefault&&t.preventDefault(),this["click"!=n||e?"open":"toggle"]()}}.bind(this)),"mouseenter"==this.options.trigger&&l.on("mouseleave",function(e){return this.wrapper?void(this.options.closeOnMouseleave&&(e.relatedTarget==this.wrapper[0]||t(e.relatedTarget).parents("#"+this.id).length)||this.close()):null}.bind(this)),l.data("jBox-attached-"+this.id,n),this._fireEvent("onAttach",l))}.bind(this)),this},e.prototype.detach=function(e){return!e&&(e=this.attachedElements||[]),e&&e.length&&t.each(e,function(e,n){n=t(n),n.data("jBox-attached-"+this.id)&&(n.off(n.data("jBox-attached-"+this.id)+".jBox-attach-"+this.id),n.data("jBox-attached-"+this.id,null)),this.attachedElements=t.grep(this.attachedElements,function(t){return t!=n[0]})}.bind(this)),this},e.prototype.setTitle=function(e,n){if(null==e||void 0==e)return this;!this.wrapper&&this._create();var l=this.wrapper.outerHeight(),i=this.wrapper.outerWidth();return this.title||(this.titleContainer=t('<div class="jBox-title"/>'),this.title=t("<div/>").appendTo(this.titleContainer),this.wrapper.addClass("jBox-hasTitle"),("title"==this.options.closeButton||this.options.closeButton===!0&&!this.options.overlay)&&(this.wrapper.addClass("jBox-closeButton-title"),this.closeButton.appendTo(this.titleContainer)),this.titleContainer.insertBefore(this.content),this._setTitleWidth()),this.title.html(e),i!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!n&&this.options.repositionOnContent&&(l!=this.wrapper.outerHeight()||i!=this.wrapper.outerWidth())&&this.position(),this},e.prototype.setContent=function(e,n){if(null==e||void 0==e)return this;!this.wrapper&&this._create();var l=this.wrapper.outerHeight(),i=this.wrapper.outerWidth();switch(this.content.children("[data-jbox-content-appended]").appendTo("body").css({display:"none"}),t.type(e)){case"string":this.content.html(e);break;case"object":this.content.html(""),e.attr("data-jbox-content-appended",1).appendTo(this.content).css({display:"block"})}return i!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!n&&this.options.repositionOnContent&&(l!=this.wrapper.outerHeight()||i!=this.wrapper.outerWidth())&&this.position(),this},e.prototype.setDimensions=function(t,e,n){!this.wrapper&&this._create(),void 0==e&&(e="auto"),this.content.css(t,this._getInt(e)),"width"==t&&this._setTitleWidth(),(void 0==n||n)&&this.position()},e.prototype.setWidth=function(t,e){this.setDimensions("width",t,e)},e.prototype.setHeight=function(t,e){this.setDimensions("height",t,e)},e.prototype.position=function(e){if(!e&&(e={}),e=t.extend(!0,this.options,e),this.target=e.target||this.target||t(window),!(this.target instanceof t||"mouse"==this.target)&&(this.target=t(this.target)),!this.target.length)return this;this.content.css({width:this._getInt(e.width,"width"),height:this._getInt(e.height,"height"),minWidth:this._getInt(e.minWidth,"width"),minHeight:this._getInt(e.minHeight,"height"),maxWidth:this._getInt(e.maxWidth,"width"),maxHeight:this._getInt(e.maxHeight,"height")}),this._setTitleWidth();var n=this._exposeDimensions();"mouse"!=this.target&&!this.target.data("jBox-"+this.id+"-fixed")&&this.target.data("jBox-"+this.id+"-fixed",this.target[0]!=t(window)[0]&&("fixed"==this.target.css("position")||this.target.parents().filter(function(){return"fixed"==t(this).css("position")}).length>0)?"fixed":"static");var l={x:t(window).outerWidth(),y:t(window).outerHeight(),top:e.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:t(window).scrollTop(),left:e.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:t(window).scrollLeft()};l.bottom=l.top+l.y,l.right=l.left+l.x;try{var i=this.target.offset()}catch(r){var i={top:0,left:0}}"mouse"!=this.target&&"fixed"==this.target.data("jBox-"+this.id+"-fixed")&&e.fixed&&(i.top=i.top-t(window).scrollTop(),i.left=i.left-t(window).scrollLeft());var o={x:"mouse"==this.target?12:this.target.outerWidth(),y:"mouse"==this.target?20:this.target.outerHeight(),top:"mouse"==this.target&&e.mouseTarget?e.mouseTarget.top:i?i.top:0,left:"mouse"==this.target&&e.mouseTarget?e.mouseTarget.left:i?i.left:0},s=e.outside&&!("center"==e.position.x&&"center"==e.position.y),a={x:l.x-e.adjustDistance.left-e.adjustDistance.right,y:l.y-e.adjustDistance.top-e.adjustDistance.bottom,left:s?o.left-t(window).scrollLeft()-e.adjustDistance.left:0,right:s?l.x-o.left+t(window).scrollLeft()-o.x-e.adjustDistance.right:0,top:s?o.top-t(window).scrollTop()-this.options.adjustDistance.top:0,bottom:s?l.y-o.top+t(window).scrollTop()-o.y-e.adjustDistance.bottom:0},u={x:"x"!=e.outside&&"xy"!=e.outside||"number"==t.type(e.position.x)?null:e.position.x,y:"y"!=e.outside&&"xy"!=e.outside||"number"==t.type(e.position.y)?null:e.position.y},c={x:!1,y:!1};if(u.x&&n.x>a[u.x]&&a[this._getOpp(u.x)]>a[u.x]&&(u.x=this._getOpp(u.x))&&(c.x=!0),u.y&&n.y>a[u.y]&&a[this._getOpp(u.y)]>a[u.y]&&(u.y=this._getOpp(u.y))&&(c.y=!0),e.responsiveWidth||e.responsiveHeight){var d=function(){if(e.responsiveWidth&&n.x>a[u.x||"x"]){var t=a[u.x||"x"]-(this.pointer&&s&&"x"==e.outside?this.pointer.dimensions.x:0)-parseInt(this.container.css("border-left-width"))-parseInt(this.container.css("border-right-width"));this.content.css({width:t>this.options.responsiveMinWidth?t:null,minWidth:t<parseInt(this.content.css("minWidth"))?0:null}),this._setTitleWidth()}n=this._exposeDimensions()}.bind(this);e.responsiveWidth&&d(),e.responsiveWidth&&!c.y&&u.y&&n.y>a[u.y]&&a[this._getOpp(u.y)]>a[u.y]&&(u.y=this._getOpp(u.y))&&(c.y=!0);var h=function(){if(e.responsiveHeight&&n.y>a[u.y||"y"]){var t=function(){if(!this.titleContainer&&!this.footer)return 0;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var t=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);this.wrapper.css("display","none")}else var t=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);return t||0}.bind(this),l=a[u.y||"y"]-(this.pointer&&s&&"y"==e.outside?this.pointer.dimensions.y:0)-t()-parseInt(this.container.css("border-top-width"))-parseInt(this.container.css("border-bottom-width"));this.content.css({height:l>this.options.responsiveMinHeight?l:null}),this._setTitleWidth()}n=this._exposeDimensions()}.bind(this);e.responsiveHeight&&h(),e.responsiveHeight&&!c.x&&u.x&&n.x>a[u.x]&&a[this._getOpp(u.x)]>a[u.x]&&(u.x=this._getOpp(u.x))&&(c.x=!0),e.adjustPosition&&"move"!=e.adjustPosition&&(c.x&&d(),c.y&&h())}var f={},p=function(l){if("number"==t.type(e.position[l]))return void(f[e.attributes[l]]=e.position[l]);var i=e.attributes[l]="x"==l?"left":"top";return f[i]=o[i],"center"==e.position[l]?(f[i]+=Math.ceil((o[l]-n[l])/2),void("mouse"!=this.target&&this.target[0]&&this.target[0]==t(window)[0]&&(f[i]+=.5*(e.adjustDistance[i]-e.adjustDistance[this._getOpp(i)])))):(i!=e.position[l]&&(f[i]+=o[l]-n[l]),void((e.outside==l||"xy"==e.outside)&&(f[i]+=n[l]*(i!=e.position[l]?1:-1))))}.bind(this);if(p("x"),p("y"),this.pointer&&"target"==e.pointTo&&"number"!=t.type(e.position.x)&&"number"!=t.type(e.position.y)){var g=0;switch(this.pointer.align){case"center":"center"!=e.position[this._getOpp(e.outside)]&&(g+=n[this._getOpp(e.outside)]/2);break;default:switch(e.position[this._getOpp(e.outside)]){case"center":g+=(n[this._getOpp(e.outside)]/2-this.pointer.dimensions[this._getOpp(e.outside)]/2)*(this.pointer.align==this._getTL(this.pointer.align)?1:-1);break;default:g+=this.pointer.align!=e.position[this._getOpp(e.outside)]?this.dimensions[this._getOpp(e.outside)]*(-1!==t.inArray(this.pointer.align,["top","left"])?1:-1)+this.pointer.dimensions[this._getOpp(e.outside)]/2*(-1!==t.inArray(this.pointer.align,["top","left"])?-1:1):this.pointer.dimensions[this._getOpp(e.outside)]/2*(-1!==t.inArray(this.pointer.align,["top","left"])?1:-1)}}g*=e.position[this._getOpp(e.outside)]==this.pointer.alignAttribute?-1:1,g+=this.pointer.offset*(this.pointer.align==this._getOpp(this._getTL(this.pointer.align))?1:-1),f[this._getTL(this._getOpp(this.pointer.xy))]+=g}if(f[e.attributes.x]+=e.offset.x,f[e.attributes.y]+=e.offset.y,this.wrapper.css(f),e.adjustPosition){this.positionAdjusted&&(this.pointer&&this.wrapper.css("padding",0).css("padding-"+this._getOpp(this.outside),this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-"+this.pointer.position),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this._getOpp(this.outside)).css(this.pointer.margin),this.positionAdjusted=!1,this.flipped=!1);var m=l.top>f.top-(e.adjustDistance.top||0),v=l.right<f.left+n.x+(e.adjustDistance.right||0),y=l.bottom<f.top+n.y+(e.adjustDistance.bottom||0),b=l.left>f.left-(e.adjustDistance.left||0),w=b?"left":v?"right":null,x=m?"top":y?"bottom":null,_=w||x;if(_){var C=function(t){this.wrapper.css(this._getTL(t),f[this._getTL(t)]+(n[this._getXY(t)]+e.offset[this._getXY(t)]*("top"==t||"left"==t?-2:2)+o[this._getXY(t)])*("top"==t||"left"==t?1:-1)),this.pointer&&this.wrapper.removeClass("jBox-pointerPosition-"+this.pointer.position).addClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).css("padding",0).css("padding-"+t,this.pointer.dimensions[this._getXY(t)]),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+t),this.positionAdjusted=!0,this.flipped=!0}.bind(this);c.x&&C(this.options.position.x),c.y&&C(this.options.position.y);var k="x"==this._getXY(this.outside)?x:w;if(this.pointer&&"target"==e.pointTo&&"flip"!=e.adjustPosition&&this._getXY(k)==this._getOpp(this._getXY(this.outside))){if("center"==this.pointer.align)var S=n[this._getXY(k)]/2-this.pointer.dimensions[this._getOpp(this.pointer.xy)]/2-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))*(k!=this._getTL(k)?-1:1);else var S=k==this.pointer.alignAttribute?parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute)):n[this._getXY(k)]-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-this.pointer.dimensions[this._getXY(k)];spaceDiff=k==this._getTL(k)?l[this._getTL(k)]-f[this._getTL(k)]+e.adjustDistance[k]:-1*(l[this._getOpp(this._getTL(k))]-f[this._getTL(k)]-e.adjustDistance[k]-n[this._getXY(k)]),k==this._getOpp(this._getTL(k))&&f[this._getTL(k)]-spaceDiff<l[this._getTL(k)]+e.adjustDistance[this._getTL(k)]&&(spaceDiff-=l[this._getTL(k)]+e.adjustDistance[this._getTL(k)]-(this.pos[this._getTL(k)]-spaceDiff)),spaceDiff=Math.min(spaceDiff,S),spaceDiff<=S&&spaceDiff>0&&(this.pointer.element.css("margin-"+this.pointer.alignAttribute,parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-spaceDiff*(k!=this.pointer.alignAttribute?-1:1)),this.wrapper.css(this._getTL(k),f[this._getTL(k)]+spaceDiff*(k!=this._getTL(k)?-1:1)),this.positionAdjusted=!0)}}}return this._fireEvent("onPosition"),this},e.prototype.open=function(e){if(!e&&(e={}),this.isDestroyed)return!1;if(!this.wrapper&&this._create(),!this._styles&&(this._styles=t("<style/>").append(this._animationCSS).appendTo(t("head"))),this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var n=function(){this.source&&this.options.getTitle&&(this.source.attr(this.options.getTitle)&&this.setTitle(this.source.attr(this.options.getTitle)),!0),this.source&&this.options.getContent&&(this.source.data("jBox-getContent")?this.setContent(this.source.data("jBox-getContent"),!0):this.source.attr(this.options.getContent)?this.setContent(this.source.attr(this.options.getContent),!0):"html"==this.options.getContent?this.setContent(this.source.html(),!0):null),this._fireEvent("onOpen"),(this.options.ajax&&(this.options.ajax.url||this.source&&this.source.attr(this.options.ajax.getURL))&&(!this.ajaxLoaded||this.options.ajax.reload)||e.ajax&&(e.ajax.url||e.ajax.data))&&("strict"==this.options.ajax.reload||!this.source||!this.source.data("jBox-ajax-data")||e.ajax&&(e.ajax.url||e.ajax.data)?this.ajax(e.ajax||null,!0):this.setContent(this.source.data("jBox-ajax-data"))),(!this.positionedOnOpen||this.options.repositionOnOpen)&&this.position(e)&&(this.positionedOnOpen=!0),this.isClosing&&this._abortAnimation(),this.isOpen||(this.isOpen=!0,this.options.autoClose&&(this.options.delayClose=this.options.autoClose)&&this.close(),this._attachEvents(),this.options.blockScroll&&t("body").addClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._showOverlay(),this.options.animation&&!this.isClosing&&this._animate("open"),this.options.audio&&this.options.audio.open&&this.audio(this.options.audio.open,this.options.volume.open),this.options.fade?this.wrapper.stop().animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.isOpening=!0,this.wrapper.css({display:"block"})}.bind(this),always:function(){this.isOpening=!1,setTimeout(function(){this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)}.bind(this),10)}.bind(this)}):(this.wrapper.css({display:"block",opacity:1}),this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)))}.bind(this);return!this.options.delayOpen||this.isOpen||this.isClosing||e.ignoreDelay?n():this.timer=setTimeout(n,this.options.delayOpen),this},e.prototype.close=function(e){if(e||(e={}),this.isDestroyed||this.isClosing)return!1;if(this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var n=function(){this._fireEvent("onClose"),this.isOpen&&(this.isOpen=!1,this._detachEvents(),this.options.blockScroll&&t("body").removeClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._hideOverlay(),this.options.animation&&!this.isOpening&&this._animate("close"),this.options.audio&&this.options.audio.close&&this.audio(this.options.audio.close,this.options.volume.close),this.options.fade?this.wrapper.stop().animate({opacity:0},{queue:!1,duration:this.options.fade,start:function(){this.isClosing=!0}.bind(this),complete:function(){this.wrapper.css({display:"none"}),this._fireEvent("onCloseComplete")}.bind(this),always:function(){this.isClosing=!1}.bind(this)}):(this.wrapper.css({display:"none",opacity:0}),this._fireEvent("onCloseComplete")))}.bind(this);return e.ignoreDelay?n():this.timer=setTimeout(n,Math.max(this.options.delayClose,10)),this},e.prototype.toggle=function(t){return this[this.isOpen?"close":"open"](t),this},e.prototype.disable=function(){return this.isDisabled=!0,this},e.prototype.enable=function(){return this.isDisabled=!1,this},e.prototype.hide=function(){return this.disable(),this.wrapper&&this.wrapper.css({display:"none"}),this},e.prototype.show=function(){return this.enable(),this.wrapper&&this.wrapper.css({display:"block"}),this},e.prototype.ajax=function(e,n){e||(e={}),t.each([["getData","data"],["getURL","url"]],function(t,n){this.options.ajax[n[0]]&&!e[n[1]]&&this.source&&void 0!=this.source.attr(this.options.ajax[n[0]])&&(e[n[1]]=this.source.attr(this.options.ajax[n[0]])||"")}.bind(this));var l=t.extend(!0,{},this.options.ajax);this.ajaxRequest&&this.ajaxRequest.abort();var i=e.beforeSend||l.beforeSend||function(){},r=e.complete||l.complete||function(){},o=e.success||l.success||function(){},s=e.error||l.error||function(){},a=t.extend(!0,l,e);return a.beforeSend=function(){this.wrapper.addClass("jBox-loading"),a.spinner&&(this.spinnerDelay=setTimeout(function(){this.wrapper.addClass("jBox-loading-spinner"),a.spinnerReposition&&(n?this.positionOnFadeComplete=!0:this.position()),this.spinner=t(a.spinner!==!0?a.spinner:'<div class="jBox-spinner"></div>').appendTo(this.container),this.titleContainer&&"absolute"==this.spinner.css("position")&&this.spinner.css({transform:"translateY("+.5*this.titleContainer.outerHeight()+"px)"})}.bind(this),""==this.content.html()?0:a.spinnerDelay||0)),i.bind(this)()}.bind(this),a.complete=function(t){this.spinnerDelay&&clearTimeout(this.spinnerDelay),this.wrapper.removeClass("jBox-loading jBox-loading-spinner jBox-loading-spinner-delay"),this.spinner&&this.spinner.length&&this.spinner.remove()&&a.spinnerReposition&&(n?this.positionOnFadeComplete=!0:this.position()),this.ajaxLoaded=!0,r.bind(this)(t)}.bind(this),a.success=function(t){a.setContent&&this.setContent(t,!0)&&(n?this.positionOnFadeComplete=!0:this.position()),a.setContent&&this.source&&this.source.data("jBox-ajax-data",t),o.bind(this)(t)}.bind(this),a.error=function(t){s.bind(this)(t)}.bind(this),this.ajaxRequest=t.ajax(a),this},e.prototype.audio=function(n,l){if(!n)return this;if(!e._audio&&(e._audio={}),!e._audio[n]){var i=t("<audio/>");t("<source/>",{src:n+".mp3"}).appendTo(i),t("<source/>",{src:n+".ogg"}).appendTo(i),e._audio[n]=i[0]}e._audio[n].volume=Math.min((void 0!=l?l:100)/100,1);try{e._audio[n].pause(),e._audio[n].currentTime=0}catch(r){}return e._audio[n].play(),this},e._animationSpeeds={tada:1e3,tadaSmall:1e3,flash:500,shake:400,pulseUp:250,pulseDown:250,popIn:250,popOut:250,fadeIn:200,fadeOut:200,slideUp:400,slideRight:400,slideLeft:400,slideDown:400},e.prototype.animate=function(t,n){!n&&(n={}),!this.animationTimeout&&(this.animationTimeout={}),!n.element&&(n.element=this.wrapper),!n.element.data("jBox-animating-id")&&n.element.data("jBox-animating-id",e._getUniqueElementID()),n.element.data("jBox-animating")&&(n.element.removeClass(n.element.data("jBox-animating")).data("jBox-animating",null),this.animationTimeout[n.element.data("jBox-animating-id")]&&clearTimeout(this.animationTimeout[n.element.data("jBox-animating-id")])),n.element.addClass("jBox-animated-"+t).data("jBox-animating","jBox-animated-"+t),this.animationTimeout[n.element.data("jBox-animating-id")]=setTimeout(function(){n.element.removeClass(n.element.data("jBox-animating")).data("jBox-animating",null),n.complete&&n.complete()},e._animationSpeeds[t])},e.prototype.destroy=function(){return this.detach(),this.isOpen&&this.close({ignoreDelay:!0}),this.wrapper&&this.wrapper.remove(),this.overlay&&this.overlay.remove(),this._styles&&this._styles.remove(),this.isDestroyed=!0,this},e._getUniqueID=function(){var t=1;return function(){return t++}}(),e._getUniqueElementID=function(){var t=1;return function(){return t++}}(),e._pluginOptions={},e.plugin=function(t,n){e._pluginOptions[t]=n},t.fn.jBox=function(n,l){return!n&&(n={}),!l&&(l={}),new e(n,t.extend(l,{attach:this}))},e}),function(t,e){function n(e,n){n=n||{};var l=this,i=n.query||"> :even";t.extend(l,{$el:e,options:n,sections:[],isAccordion:n.accordion||!1,db:n.persist?jQueryCollapseStorage(e.get(0).id):!1}),l.states=l.db?l.db.read():[],l.$el.find(i).each(function(){new jQueryCollapseSection(t(this),l)}),function(e){l.$el.on("click","[data-collapse-summary] "+(e.options.clickQuery||""),t.proxy(l.handleClick,e)),l.$el.bind("toggle close open",t.proxy(l.handleEvent,e))}(l)}function l(e,n){n.options.clickQuery||e.wrapInner('<a href="#"/>'),t.extend(this,{isOpen:!1,$summary:e.attr("data-collapse-summary",""),$details:e.next(),options:n.options,parent:n}),n.sections.push(this);var l=n.states[this._index()];0===l?this.close(!0):this.$summary.is(".open")||1===l?this.open(!0):this.close(!0)}n.prototype={handleClick:function(e,n){e.preventDefault(),n=n||"toggle";for(var l=this.sections,i=l.length;i--;)if(t.contains(l[i].$summary[0],e.target)){l[i][n]();break}},handleEvent:function(t){return t.target==this.$el.get(0)?this[t.type]():void this.handleClick(t,t.type)},open:function(t){this._change("open",t)},close:function(t){this._change("close",t)},toggle:function(t){this._change("toggle",t)},_change:function(e,n){return isFinite(n)?this.sections[n][e]():void t.each(this.sections,function(t,n){n[e]()})}},l.prototype={toggle:function(){this.isOpen?this.close():this.open()},close:function(t){this._changeState("close",t)},open:function(e){var n=this;n.options.accordion&&!e&&t.each(n.parent.sections,function(t,e){e.close()}),n._changeState("open",e)},_index:function(){return t.inArray(this,this.parent.sections)},_changeState:function(e,n){var l=this;l.isOpen="open"==e,t.isFunction(l.options[e])&&!n?l.options[e].apply(l.$details):l.$details[l.isOpen?"show":"hide"](),l.$summary.toggleClass("open","close"!==e),l.$details.attr("aria-hidden","close"===e),l.$summary.attr("aria-expanded","open"===e),l.$summary.trigger("open"===e?"opened":"closed",l),l.parent.db&&l.parent.db.write(l._index(),l.isOpen)}},t.fn.extend({collapse:function(e,l){var i=l?t("body").find("[data-collapse]"):t(this);return i.each(function(){var i=l?{}:e,r=t(this).attr("data-collapse")||"";t.each(r.split(" "),function(t,e){e&&(i[e]=!0)}),new n(t(this),i)})}}),e.jQueryCollapse=n,e.jQueryCollapseSection=l,t(function(){t.fn.collapse(!1,!0)})}(window.jQuery,window),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n,l){"use strict";function i(e){var n,l,r="a aa ai ao as b fn i m o s ",o={};t.each(e,function(t){n=t.match(/^([^A-Z]+?)([A-Z])/),n&&-1!==r.indexOf(n[1]+" ")&&(l=t.replace(n[0],n[2].toLowerCase()),o[l]=t,"o"===n[1]&&i(e[t]))}),e._hungarianMap=o}function r(e,n,o){e._hungarianMap||i(e);var s;t.each(n,function(i){s=e._hungarianMap[i],s===l||!o&&n[s]!==l||("o"===s.charAt(0)?(n[s]||(n[s]={}),t.extend(!0,n[s],n[i]),r(e[s],n[s],o)):n[s]=n[i])})}function o(t){var e=Xt.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&It(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&It(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var l=t.sDecimal;l&&Ht(l)}function s(t){pe(t,"ordering","bSort"),pe(t,"orderMulti","bSortMulti"),pe(t,"orderClasses","bSortClasses"),pe(t,"orderCellsTop","bSortCellsTop"),pe(t,"order","aaSorting"),pe(t,"orderFixed","aaSortingFixed"),pe(t,"paging","bPaginate"),pe(t,"pagingType","sPaginationType"),pe(t,"pageLength","iDisplayLength"),pe(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var n=0,l=e.length;l>n;n++)e[n]&&r(Xt.models.oSearch,e[n])}function a(e){pe(e,"orderable","bSortable"),pe(e,"orderData","aDataSort"),pe(e,"orderSequence","asSorting"),pe(e,"orderDataType","sortDataType");var n=e.aDataSort;n&&!t.isArray(n)&&(e.aDataSort=[n])}function u(e){if(!Xt.__browser){var n={};Xt.__browser=n;var l=t("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),i=l.children(),r=i.children();n.barWidth=i[0].offsetWidth-i[0].clientWidth,n.bScrollOversize=100===r[0].offsetWidth&&100!==i[0].clientWidth,n.bScrollbarLeft=1!==Math.round(r.offset().left),n.bBounding=!!l[0].getBoundingClientRect().width,l.remove()}t.extend(e.oBrowser,Xt.__browser),e.oScroll.iBarWidth=Xt.__browser.barWidth}function c(t,e,n,i,r,o){var s,a=i,u=!1;for(n!==l&&(s=n,u=!0);a!==r;)t.hasOwnProperty(a)&&(s=u?e(s,t[a],a,t):t[a],u=!0,a+=o);return s}function d(e,l){var i=Xt.defaults.column,r=e.aoColumns.length,o=t.extend({},Xt.models.oColumn,i,{nTh:l?l:n.createElement("th"),sTitle:i.sTitle?i.sTitle:l?l.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[r],mData:i.mData?i.mData:r,idx:r});e.aoColumns.push(o);var s=e.aoPreSearchCols;s[r]=t.extend({},Xt.models.oSearch,s[r]),h(e,r,t(l).data())}function h(e,n,i){var o=e.aoColumns[n],s=e.oClasses,u=t(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=u.attr("width")||null;var c=(u.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(o.sWidthOrig=c[1])}i!==l&&null!==i&&(a(i),r(Xt.defaults.column,i),i.mDataProp===l||i.mData||(i.mData=i.mDataProp),i.sType&&(o._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),t.extend(o,i),It(o,i,"sWidth","sWidthOrig"),i.iDataSort!==l&&(o.aDataSort=[i.iDataSort]),It(o,i,"aDataSort"));var d=o.mData,h=A(d),f=o.mRender?A(o.mRender):null,p=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};o._bAttrSrc=t.isPlainObject(d)&&(p(d.sort)||p(d.type)||p(d.filter)),o._setter=null,o.fnGetData=function(t,e,n){var i=h(t,e,l,n);return f&&e?f(i,e,t,n):i},o.fnSetData=function(t,e,n){return D(d)(t,e,n)},"number"!=typeof d&&(e._rowReadObject=!0),e.oFeatures.bSort||(o.bSortable=!1,u.addClass(s.sSortableNone));var g=-1!==t.inArray("asc",o.asSorting),m=-1!==t.inArray("desc",o.asSorting);o.bSortable&&(g||m)?g&&!m?(o.sSortingClass=s.sSortableAsc,o.sSortingClassJUI=s.sSortJUIAscAllowed):!g&&m?(o.sSortingClass=s.sSortableDesc,o.sSortingClassJUI=s.sSortJUIDescAllowed):(o.sSortingClass=s.sSortable,o.sSortingClassJUI=s.sSortJUI):(o.sSortingClass=s.sSortableNone,o.sSortingClassJUI="")}function f(t){if(t.oFeatures.bAutoWidth!==!1){var e=t.aoColumns;vt(t);for(var n=0,l=e.length;l>n;n++)e[n].nTh.style.width=e[n].sWidth}var i=t.oScroll;""===i.sY&&""===i.sX||gt(t),Nt(t,null,"column-sizing",[t])}function p(t,e){var n=v(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function g(e,n){var l=v(e,"bVisible"),i=t.inArray(n,l);return-1!==i?i:null}function m(e){var n=0;return t.each(e.aoColumns,function(e,l){l.bVisible&&"none"!==t(l.nTh).css("display")&&n++}),n}function v(e,n){var l=[];return t.map(e.aoColumns,function(t,e){t[n]&&l.push(e)}),l}function y(t){var e,n,i,r,o,s,a,u,c,d=t.aoColumns,h=t.aoData,f=Xt.ext.type.detect;for(e=0,n=d.length;n>e;e++)if(a=d[e],c=[],!a.sType&&a._sManualType)a.sType=a._sManualType;else if(!a.sType){for(i=0,r=f.length;r>i;i++){for(o=0,s=h.length;s>o&&(c[o]===l&&(c[o]=k(t,o,e,"type")),u=f[i](c[o],t),u||i===f.length-1)&&"html"!==u;o++);if(u){a.sType=u;break}}a.sType||(a.sType="string")}}function b(e,n,i,r){var o,s,a,u,c,h,f,p=e.aoColumns;if(n)for(o=n.length-1;o>=0;o--){f=n[o];var g=f.targets!==l?f.targets:f.aTargets;for(t.isArray(g)||(g=[g]),a=0,u=g.length;u>a;a++)if("number"==typeof g[a]&&g[a]>=0){for(;p.length<=g[a];)d(e);r(g[a],f)}else if("number"==typeof g[a]&&g[a]<0)r(p.length+g[a],f);else if("string"==typeof g[a])for(c=0,h=p.length;h>c;c++)("_all"==g[a]||t(p[c].nTh).hasClass(g[a]))&&r(c,f)}if(i)for(o=0,s=i.length;s>o;o++)r(o,i[o])}function w(e,n,i,r){var o=e.aoData.length,s=t.extend(!0,{},Xt.models.oRow,{src:i?"dom":"data",idx:o});s._aData=n,e.aoData.push(s);for(var a=e.aoColumns,u=0,c=a.length;c>u;u++)a[u].sType=null;e.aiDisplayMaster.push(o);var d=e.rowIdFn(n);return d!==l&&(e.aIds[d]=s),!i&&e.oFeatures.bDeferRender||$(e,o,i,r),o}function x(e,n){var l;return n instanceof t||(n=t(n)),n.map(function(t,n){return l=I(e,n),w(e,l.data,n,l.cells)})}function _(t,e){return e._DT_RowIndex!==l?e._DT_RowIndex:null}function C(e,n,l){return t.inArray(l,e.aoData[n].anCells)}function k(t,e,n,i){var r=t.iDraw,o=t.aoColumns[n],s=t.aoData[e]._aData,a=o.sDefaultContent,u=o.fnGetData(s,i,{settings:t,row:e,col:n});if(u===l)return t.iDrawError!=r&&null===a&&(Ot(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=r),a;if(u!==s&&null!==u||null===a||i===l){if("function"==typeof u)return u.call(s)}else u=a;return null===u&&"display"==i?"":u}function S(t,e,n,l){var i=t.aoColumns[n],r=t.aoData[e]._aData;i.fnSetData(r,l,{settings:t,row:e,col:n})}function T(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function A(e){if(t.isPlainObject(e)){var n={};return t.each(e,function(t,e){e&&(n[t]=A(e))}),function(t,e,i,r){var o=n[e]||n._;return o!==l?o(t,e,i,r):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,n,l,i){return e(t,n,l,i)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t){return t[e]};var i=function(e,n,r){var o,s,a,u;if(""!==r)for(var c=T(r),d=0,h=c.length;h>d;d++){if(o=c[d].match(ge),s=c[d].match(me),o){if(c[d]=c[d].replace(ge,""),""!==c[d]&&(e=e[c[d]]),a=[],c.splice(0,d+1),u=c.join("."),t.isArray(e))for(var f=0,p=e.length;p>f;f++)a.push(i(e[f],n,u));var g=o[0].substring(1,o[0].length-1);e=""===g?a:a.join(g);break}if(s)c[d]=c[d].replace(me,""),e=e[c[d]]();else{if(null===e||e[c[d]]===l)return l;e=e[c[d]]}}return e};return function(t,n){return i(t,n,e)}}function D(e){if(t.isPlainObject(e))return D(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,l){e(t,"set",n,l)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){t[e]=n};var n=function(e,i,r){for(var o,s,a,u,c,d=T(r),h=d[d.length-1],f=0,p=d.length-1;p>f;f++){if(s=d[f].match(ge),a=d[f].match(me),s){if(d[f]=d[f].replace(ge,""),e[d[f]]=[],o=d.slice(),o.splice(0,f+1),c=o.join("."),t.isArray(i))for(var g=0,m=i.length;m>g;g++)u={},n(u,i[g],c),e[d[f]].push(u);else e[d[f]]=i;return}a&&(d[f]=d[f].replace(me,""),e=e[d[f]](i)),null!==e[d[f]]&&e[d[f]]!==l||(e[d[f]]={}),e=e[d[f]]}h.match(me)?e=e[h.replace(me,"")](i):e[h.replace(ge,"")]=i};return function(t,l){return n(t,l,e)}}function M(t){return ae(t.aoData,"_aData")}function j(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function E(t,e,n){for(var i=-1,r=0,o=t.length;o>r;r++)t[r]==e?i=r:t[r]>e&&t[r]--;-1!=i&&n===l&&t.splice(i,1)}function O(t,e,n,i){var r,o,s=t.aoData[e],a=function(n,l){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=k(t,e,l,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var u=s.anCells;if(u)if(i!==l)a(u[i],i);else for(r=0,o=u.length;o>r;r++)a(u[r],r)}else s._aData=I(t,s,i,i===l?l:s._aData).data;s._aSortData=null,s._aFilterData=null;var c=t.aoColumns;if(i!==l)c[i].sType=null;else{for(r=0,o=c.length;o>r;r++)c[r].sType=null;F(t,s)}}function I(e,n,i,r){var o,s,a,u=[],c=n.firstChild,d=0,h=e.aoColumns,f=e._rowReadObject;r=r!==l?r:f?{}:[];var p=function(t,e){if("string"==typeof t){var n=t.indexOf("@");if(-1!==n){var l=t.substring(n+1),i=D(t);i(r,e.getAttribute(l))}}},g=function(e){if(i===l||i===d)if(s=h[d],a=t.trim(e.innerHTML),s&&s._bAttrSrc){var n=D(s.mData._);n(r,a),p(s.mData.sort,e),p(s.mData.type,e),p(s.mData.filter,e)}else f?(s._setter||(s._setter=D(s.mData)),s._setter(r,a)):r[d]=a;d++};if(c)for(;c;)o=c.nodeName.toUpperCase(),"TD"!=o&&"TH"!=o||(g(c),u.push(c)),c=c.nextSibling;else{u=n.anCells;for(var m=0,v=u.length;v>m;m++)g(u[m])}var y=n.firstChild?n:n.nTr;if(y){var b=y.getAttribute("id");b&&D(e.rowId)(r,b)}return{data:r,cells:u}}function $(e,l,i,r){var o,s,a,u,c,d=e.aoData[l],h=d._aData,f=[];if(null===d.nTr){for(o=i||n.createElement("tr"),d.nTr=o,d.anCells=f,o._DT_RowIndex=l,F(e,d),u=0,c=e.aoColumns.length;c>u;u++)a=e.aoColumns[u],s=i?r[u]:n.createElement(a.sCellType),s._DT_CellIndex={row:l,column:u},f.push(s),i&&!a.mRender&&a.mData===u||t.isPlainObject(a.mData)&&a.mData._===u+".display"||(s.innerHTML=k(e,l,u,"display")),a.sClass&&(s.className+=" "+a.sClass),a.bVisible&&!i?o.appendChild(s):!a.bVisible&&i&&s.parentNode.removeChild(s),a.fnCreatedCell&&a.fnCreatedCell.call(e.oInstance,s,k(e,l,u),h,l,u);Nt(e,"aoRowCreatedCallback",null,[o,h,l])}d.nTr.setAttribute("role","row")}function F(e,n){var l=n.nTr,i=n._aData;if(l){var r=e.rowIdFn(i);if(r&&(l.id=r),i.DT_RowClass){var o=i.DT_RowClass.split(" ");n.__rowc=n.__rowc?fe(n.__rowc.concat(o)):o,t(l).removeClass(n.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&t(l).attr(i.DT_RowAttr),i.DT_RowData&&t(l).data(i.DT_RowData)}}function P(e){var n,l,i,r,o,s=e.nTHead,a=e.nTFoot,u=0===t("th, td",s).length,c=e.oClasses,d=e.aoColumns;for(u&&(r=t("<tr/>").appendTo(s)),n=0,l=d.length;l>n;n++)o=d[n],i=t(o.nTh).addClass(o.sClass),u&&i.appendTo(r),e.oFeatures.bSort&&(i.addClass(o.sSortingClass),o.bSortable!==!1&&(i.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Tt(e,o.nTh,n))),o.sTitle!=i[0].innerHTML&&i.html(o.sTitle),Bt(e,"header")(e,i,o,c);if(u&&z(e.aoHeader,s),t(s).find(">tr").attr("role","row"),t(s).find(">tr>th, >tr>td").addClass(c.sHeaderTH),t(a).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==a){var h=e.aoFooter[0];for(n=0,l=h.length;l>n;n++)o=d[n],o.nTf=h[n].cell,o.sClass&&t(o.nTf).addClass(o.sClass)}}function N(e,n,i){var r,o,s,a,u,c,d,h,f,p=[],g=[],m=e.aoColumns.length;if(n){for(i===l&&(i=!1),r=0,o=n.length;o>r;r++){for(p[r]=n[r].slice(),p[r].nTr=n[r].nTr,s=m-1;s>=0;s--)e.aoColumns[s].bVisible||i||p[r].splice(s,1);g.push([])}for(r=0,o=p.length;o>r;r++){if(d=p[r].nTr)for(;c=d.firstChild;)d.removeChild(c);for(s=0,a=p[r].length;a>s;s++)if(h=1,
f=1,g[r][s]===l){for(d.appendChild(p[r][s].cell),g[r][s]=1;p[r+h]!==l&&p[r][s].cell==p[r+h][s].cell;)g[r+h][s]=1,h++;for(;p[r][s+f]!==l&&p[r][s].cell==p[r][s+f].cell;){for(u=0;h>u;u++)g[r+u][s+f]=1;f++}t(p[r][s].cell).attr("rowspan",h).attr("colspan",f)}}}}function L(e){var n=Nt(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==t.inArray(!1,n))return void ft(e,!1);var i=[],r=0,o=e.asStripeClasses,s=o.length,a=(e.aoOpenRows.length,e.oLanguage),u=e.iInitDisplayStart,c="ssp"==Rt(e),d=e.aiDisplay;e.bDrawing=!0,u!==l&&-1!==u&&(e._iDisplayStart=c?u:u>=e.fnRecordsDisplay()?0:u,e.iInitDisplayStart=-1);var h=e._iDisplayStart,f=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ft(e,!1);else if(c){if(!e.bDestroying&&!U(e))return}else e.iDraw++;if(0!==d.length)for(var p=c?0:h,g=c?e.aoData.length:f,v=p;g>v;v++){var y=d[v],b=e.aoData[y];null===b.nTr&&$(e,y);var w=b.nTr;if(0!==s){var x=o[r%s];b._sRowStripe!=x&&(t(w).removeClass(b._sRowStripe).addClass(x),b._sRowStripe=x)}Nt(e,"aoRowCallback",null,[w,b._aData,r,v]),i.push(w),r++}else{var _=a.sZeroRecords;1==e.iDraw&&"ajax"==Rt(e)?_=a.sLoadingRecords:a.sEmptyTable&&0===e.fnRecordsTotal()&&(_=a.sEmptyTable),i[0]=t("<tr/>",{"class":s?o[0]:""}).append(t("<td />",{valign:"top",colSpan:m(e),"class":e.oClasses.sRowEmpty}).html(_))[0]}Nt(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],M(e),h,f,d]),Nt(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],M(e),h,f,d]);var C=t(e.nTBody);C.children().detach(),C.append(t(i)),Nt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function B(t,e){var n=t.oFeatures,l=n.bSort,i=n.bFilter;l&&Ct(t),i?G(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),e!==!0&&(t._iDisplayStart=0),t._drawHold=e,L(t),t._drawHold=!1}function R(e){var n=e.oClasses,l=t(e.nTable),i=t("<div/>").insertBefore(l),r=e.oFeatures,o=t("<div/>",{id:e.sTableId+"_wrapper","class":n.sWrapper+(e.nTFoot?"":" "+n.sNoFooter)});e.nHolding=i[0],e.nTableWrapper=o[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,a,u,c,d,h,f=e.sDom.split(""),p=0;p<f.length;p++){if(s=null,a=f[p],"<"==a){if(u=t("<div/>")[0],c=f[p+1],"'"==c||'"'==c){for(d="",h=2;f[p+h]!=c;)d+=f[p+h],h++;if("H"==d?d=n.sJUIHeader:"F"==d&&(d=n.sJUIFooter),-1!=d.indexOf(".")){var g=d.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==d.charAt(0)?u.id=d.substr(1,d.length-1):u.className=d;p+=h}o.append(u),o=t(u)}else if(">"==a)o=o.parent();else if("l"==a&&r.bPaginate&&r.bLengthChange)s=ut(e);else if("f"==a&&r.bFilter)s=X(e);else if("r"==a&&r.bProcessing)s=ht(e);else if("t"==a)s=pt(e);else if("i"==a&&r.bInfo)s=lt(e);else if("p"==a&&r.bPaginate)s=ct(e);else if(0!==Xt.ext.feature.length)for(var m=Xt.ext.feature,v=0,y=m.length;y>v;v++)if(a==m[v].cFeature){s=m[v].fnInit(e);break}if(s){var b=e.aanFeatures;b[a]||(b[a]=[]),b[a].push(s),o.append(s)}}i.replaceWith(o),e.nHolding=null}function z(e,n){var l,i,r,o,s,a,u,c,d,h,f,p=t(n).children("tr"),g=function(t,e,n){for(var l=t[e];l[n];)n++;return n};for(e.splice(0,e.length),r=0,a=p.length;a>r;r++)e.push([]);for(r=0,a=p.length;a>r;r++)for(l=p[r],c=0,i=l.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(d=1*i.getAttribute("colspan"),h=1*i.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,h=h&&0!==h&&1!==h?h:1,u=g(e,r,c),f=1===d,s=0;d>s;s++)for(o=0;h>o;o++)e[r+o][u+s]={cell:i,unique:f},e[r+o].nTr=l;i=i.nextSibling}}function H(t,e,n){var l=[];n||(n=t.aoHeader,e&&(n=[],z(n,e)));for(var i=0,r=n.length;r>i;i++)for(var o=0,s=n[i].length;s>o;o++)!n[i][o].unique||l[o]&&t.bSortCellsTop||(l[o]=n[i][o].cell);return l}function q(e,n,l){if(Nt(e,"aoServerParams","serverParams",[n]),n&&t.isArray(n)){var i={},r=/(.*?)\[\]$/;t.each(n,function(t,e){var n=e.name.match(r);if(n){var l=n[0];i[l]||(i[l]=[]),i[l].push(e.value)}else i[e.name]=e.value}),n=i}var o,s=e.ajax,a=e.oInstance,u=function(t){Nt(e,null,"xhr",[e,t,e.jqXHR]),l(t)};if(t.isPlainObject(s)&&s.data){o=s.data;var c=t.isFunction(o)?o(n,e):o;n=t.isFunction(o)&&c?c:t.extend(!0,n,c),delete s.data}var d={data:n,success:function(t){var n=t.error||t.sError;n&&Ot(e,0,n),e.json=t,u(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(n,l){var i=Nt(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,i)&&("parsererror"==l?Ot(e,0,"Invalid JSON response",1):4===n.readyState&&Ot(e,0,"Ajax error",7)),ft(e,!1)}};e.oAjaxData=n,Nt(e,null,"preXhr",[e,n]),e.fnServerData?e.fnServerData.call(a,e.sAjaxSource,t.map(n,function(t,e){return{name:e,value:t}}),u,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=t.ajax(t.extend(d,{url:s||e.sAjaxSource})):t.isFunction(s)?e.jqXHR=s.call(a,n,u,e):(e.jqXHR=t.ajax(t.extend(d,s)),s.data=o)}function U(t){return t.bAjaxDataGet?(t.iDraw++,ft(t,!0),q(t,W(t),function(e){V(t,e)}),!1):!0}function W(e){var n,l,i,r,o=e.aoColumns,s=o.length,a=e.oFeatures,u=e.oPreviousSearch,c=e.aoPreSearchCols,d=[],h=_t(e),f=e._iDisplayStart,p=a.bPaginate!==!1?e._iDisplayLength:-1,g=function(t,e){d.push({name:t,value:e})};g("sEcho",e.iDraw),g("iColumns",s),g("sColumns",ae(o,"sName").join(",")),g("iDisplayStart",f),g("iDisplayLength",p);var m={draw:e.iDraw,columns:[],order:[],start:f,length:p,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;s>n;n++)i=o[n],r=c[n],l="function"==typeof i.mData?"function":i.mData,m.columns.push({data:l,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),g("mDataProp_"+n,l),a.bFilter&&(g("sSearch_"+n,r.sSearch),g("bRegex_"+n,r.bRegex),g("bSearchable_"+n,i.bSearchable)),a.bSort&&g("bSortable_"+n,i.bSortable);a.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),a.bSort&&(t.each(h,function(t,e){m.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)}),g("iSortingCols",h.length));var v=Xt.ext.legacy.ajax;return null===v?e.sAjaxSource?d:m:v?d:m}function V(t,e){var n=function(t,n){return e[t]!==l?e[t]:e[n]},i=Y(t,e),r=n("sEcho","draw"),o=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(r){if(1*r<t.iDraw)return;t.iDraw=1*r}j(t),t._iRecordsTotal=parseInt(o,10),t._iRecordsDisplay=parseInt(s,10);for(var a=0,u=i.length;u>a;a++)w(t,i[a]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,L(t),t._bInitComplete||st(t,e),t.bAjaxDataGet=!0,ft(t,!1)}function Y(e,n){var i=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==l?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===i?n.aaData||n[i]:""!==i?A(i)(n):n}function X(e){var l=e.oClasses,i=e.sTableId,r=e.oLanguage,o=e.oPreviousSearch,s=e.aanFeatures,a='<input type="search" class="'+l.sFilterInput+'"/>',u=r.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",a):u+a;var c=t("<div/>",{id:s.f?null:i+"_filter","class":l.sFilter}).append(t("<label/>").append(u)),d=function(){var t=(s.f,this.value?this.value:"");t!=o.sSearch&&(G(e,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),e._iDisplayStart=0,L(e))},h=null!==e.searchDelay?e.searchDelay:"ssp"===Rt(e)?400:0,f=t("input",c).val(o.sSearch).attr("placeholder",r.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",h?xe(d,h):d).bind("keypress.DT",function(t){return 13==t.keyCode?!1:void 0}).attr("aria-controls",i);return t(e.nTable).on("search.dt.DT",function(t,l){if(e===l)try{f[0]!==n.activeElement&&f.val(o.sSearch)}catch(i){}}),c[0]}function G(t,e,n){var i=t.oPreviousSearch,r=t.aoPreSearchCols,o=function(t){i.sSearch=t.sSearch,i.bRegex=t.bRegex,i.bSmart=t.bSmart,i.bCaseInsensitive=t.bCaseInsensitive},s=function(t){return t.bEscapeRegex!==l?!t.bEscapeRegex:t.bRegex};if(y(t),"ssp"!=Rt(t)){J(t,e.sSearch,n,s(e),e.bSmart,e.bCaseInsensitive),o(e);for(var a=0;a<r.length;a++)K(t,r[a].sSearch,a,s(r[a]),r[a].bSmart,r[a].bCaseInsensitive);Z(t)}else o(e);t.bFiltered=!0,Nt(t,null,"search",[t])}function Z(e){for(var n,l,i=Xt.ext.search,r=e.aiDisplay,o=0,s=i.length;s>o;o++){for(var a=[],u=0,c=r.length;c>u;u++)l=r[u],n=e.aoData[l],i[o](e,n._aFilterData,l,n._aData,u)&&a.push(l);r.length=0,t.merge(r,a)}}function K(t,e,n,l,i,r){if(""!==e)for(var o,s=t.aiDisplay,a=Q(e,l,i,r),u=s.length-1;u>=0;u--)o=t.aoData[s[u]]._aFilterData[n],a.test(o)||s.splice(u,1)}function J(t,e,n,l,i,r){var o,s,a,u=Q(e,l,i,r),c=t.oPreviousSearch.sSearch,d=t.aiDisplayMaster;if(0!==Xt.ext.search.length&&(n=!0),s=tt(t),e.length<=0)t.aiDisplay=d.slice();else for((s||n||c.length>e.length||0!==e.indexOf(c)||t.bSorted)&&(t.aiDisplay=d.slice()),o=t.aiDisplay,a=o.length-1;a>=0;a--)u.test(t.aoData[o[a]]._sFilterRow)||o.splice(a,1)}function Q(e,n,l,i){if(e=n?e:ve(e),l){var r=t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")});e="^(?=.*?"+r.join(")(?=.*?")+").*$"}return new RegExp(e,i?"i":"")}function tt(t){var e,n,l,i,r,o,s,a,u=t.aoColumns,c=Xt.ext.type.search,d=!1;for(n=0,i=t.aoData.length;i>n;n++)if(a=t.aoData[n],!a._aFilterData){for(o=[],l=0,r=u.length;r>l;l++)e=u[l],e.bSearchable?(s=k(t,n,l,"filter"),c[e.sType]&&(s=c[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(ye.innerHTML=s,s=be?ye.textContent:ye.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),o.push(s);a._aFilterData=o,a._sFilterRow=o.join("  "),d=!0}return d}function et(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function nt(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function lt(e){var n=e.sTableId,l=e.aanFeatures.i,i=t("<div/>",{"class":e.oClasses.sInfo,id:l?null:n+"_info"});return l||(e.aoDrawCallback.push({fn:it,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",n+"_info")),i[0]}function it(e){var n=e.aanFeatures.i;if(0!==n.length){var l=e.oLanguage,i=e._iDisplayStart+1,r=e.fnDisplayEnd(),o=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),a=s?l.sInfo:l.sInfoEmpty;s!==o&&(a+=" "+l.sInfoFiltered),a+=l.sInfoPostFix,a=rt(e,a);var u=l.fnInfoCallback;null!==u&&(a=u.call(e.oInstance,e,i,r,o,s,a)),t(n).html(a)}}function rt(t,e){var n=t.fnFormatNumber,l=t._iDisplayStart+1,i=t._iDisplayLength,r=t.fnRecordsDisplay(),o=-1===i;return e.replace(/_START_/g,n.call(t,l)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,r)).replace(/_PAGE_/g,n.call(t,o?1:Math.ceil(l/i))).replace(/_PAGES_/g,n.call(t,o?1:Math.ceil(r/i)))}function ot(t){var e,n,l,i=t.iInitDisplayStart,r=t.aoColumns,o=t.oFeatures,s=t.bDeferLoading;if(!t.bInitialised)return void setTimeout(function(){ot(t)},200);for(R(t),P(t),N(t,t.aoHeader),N(t,t.aoFooter),ft(t,!0),o.bAutoWidth&&vt(t),e=0,n=r.length;n>e;e++)l=r[e],l.sWidth&&(l.nTh.style.width=xt(l.sWidth));Nt(t,null,"preInit",[t]),B(t);var a=Rt(t);("ssp"!=a||s)&&("ajax"==a?q(t,[],function(n){var l=Y(t,n);for(e=0;e<l.length;e++)w(t,l[e]);t.iInitDisplayStart=i,B(t),ft(t,!1),st(t,n)},t):(ft(t,!1),st(t)))}function st(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&f(t),Nt(t,null,"plugin-init",[t,e]),Nt(t,"aoInitComplete","init",[t,e])}function at(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Lt(t),Nt(t,null,"length",[t,n])}function ut(e){for(var n=e.oClasses,l=e.sTableId,i=e.aLengthMenu,r=t.isArray(i[0]),o=r?i[0]:i,s=r?i[1]:i,a=t("<select/>",{name:l+"_length","aria-controls":l,"class":n.sLengthSelect}),u=0,c=o.length;c>u;u++)a[0][u]=new Option(s[u],o[u]);var d=t("<div><label/></div>").addClass(n.sLength);return e.aanFeatures.l||(d[0].id=l+"_length"),d.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),t("select",d).val(e._iDisplayLength).bind("change.DT",function(){at(e,t(this).val()),L(e)}),t(e.nTable).bind("length.dt.DT",function(n,l,i){e===l&&t("select",d).val(i)}),d[0]}function ct(e){var n=e.sPaginationType,l=Xt.ext.pager[n],i="function"==typeof l,r=function(t){L(t)},o=t("<div/>").addClass(e.oClasses.sPaging+n)[0],s=e.aanFeatures;return i||l.fnInit(e,o,r),s.p||(o.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(i){var e,n,o=t._iDisplayStart,a=t._iDisplayLength,u=t.fnRecordsDisplay(),c=-1===a,d=c?0:Math.ceil(o/a),h=c?1:Math.ceil(u/a),f=l(d,h);for(e=0,n=s.p.length;n>e;e++)Bt(t,"pageButton")(t,s.p[e],e,f,d,h)}else l.fnUpdate(t,r)},sName:"pagination"})),o}function dt(t,e,n){var l=t._iDisplayStart,i=t._iDisplayLength,r=t.fnRecordsDisplay();0===r||-1===i?l=0:"number"==typeof e?(l=e*i,l>r&&(l=0)):"first"==e?l=0:"previous"==e?(l=i>=0?l-i:0,0>l&&(l=0)):"next"==e?r>l+i&&(l+=i):"last"==e?l=Math.floor((r-1)/i)*i:Ot(t,0,"Unknown paging action: "+e,5);var o=t._iDisplayStart!==l;return t._iDisplayStart=l,o&&(Nt(t,null,"page",[t]),n&&L(t)),o}function ht(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function ft(e,n){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",n?"block":"none"),Nt(e,null,"processing",[e,n])}function pt(e){var n=t(e.nTable);n.attr("role","grid");var l=e.oScroll;if(""===l.sX&&""===l.sY)return e.nTable;var i=l.sX,r=l.sY,o=e.oClasses,s=n.children("caption"),a=s.length?s[0]._captionSide:null,u=t(n[0].cloneNode(!1)),c=t(n[0].cloneNode(!1)),d=n.children("tfoot"),h="<div/>",f=function(t){return t?xt(t):null};d.length||(d=null);var p=t(h,{"class":o.sScrollWrapper}).append(t(h,{"class":o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?f(i):"100%"}).append(t(h,{"class":o.sScrollHeadInner}).css({"box-sizing":"content-box",width:l.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===a?s:null).append(n.children("thead"))))).append(t(h,{"class":o.sScrollBody}).css({position:"relative",overflow:"auto",width:f(i)}).append(n));d&&p.append(t(h,{"class":o.sScrollFoot}).css({overflow:"hidden",border:0,width:i?f(i):"100%"}).append(t(h,{"class":o.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===a?s:null).append(n.children("tfoot")))));var g=p.children(),m=g[0],v=g[1],y=d?g[2]:null;return i&&t(v).on("scroll.DT",function(){var t=this.scrollLeft;m.scrollLeft=t,d&&(y.scrollLeft=t)}),t(v).css(r&&l.bCollapse?"max-height":"height",r),e.nScrollHead=m,e.nScrollBody=v,e.nScrollFoot=y,e.aoDrawCallback.push({fn:gt,sName:"scrolling"}),p[0]}function gt(e){var n,i,r,o,s,a,u,c,d,h=e.oScroll,g=h.sX,m=h.sXInner,v=h.sY,y=h.iBarWidth,b=t(e.nScrollHead),w=b[0].style,x=b.children("div"),_=x[0].style,C=x.children("table"),k=e.nScrollBody,S=t(k),T=k.style,A=t(e.nScrollFoot),D=A.children("div"),M=D.children("table"),j=t(e.nTHead),E=t(e.nTable),O=E[0],I=O.style,$=e.nTFoot?t(e.nTFoot):null,F=e.oBrowser,P=F.bScrollOversize,N=ae(e.aoColumns,"nTh"),L=[],B=[],R=[],z=[],q=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},U=k.scrollHeight>k.clientHeight;if(e.scrollBarVis!==U&&e.scrollBarVis!==l)return e.scrollBarVis=U,void f(e);e.scrollBarVis=U,E.children("thead, tfoot").remove(),$&&(a=$.clone().prependTo(E),i=$.find("tr"),o=a.find("tr")),s=j.clone().prependTo(E),n=j.find("tr"),r=s.find("tr"),s.find("th, td").removeAttr("tabindex"),g||(T.width="100%",b[0].style.width="100%"),t.each(H(e,s),function(t,n){u=p(e,t),n.style.width=e.aoColumns[u].sWidth}),$&&mt(function(t){t.style.width=""},o),d=E.outerWidth(),""===g?(I.width="100%",P&&(E.find("tbody").height()>k.offsetHeight||"scroll"==S.css("overflow-y"))&&(I.width=xt(E.outerWidth()-y)),d=E.outerWidth()):""!==m&&(I.width=xt(m),d=E.outerWidth()),mt(q,r),mt(function(e){R.push(e.innerHTML),L.push(xt(t(e).css("width")))},r),mt(function(e,n){-1!==t.inArray(e,N)&&(e.style.width=L[n])},n),t(r).height(0),$&&(mt(q,o),mt(function(e){z.push(e.innerHTML),B.push(xt(t(e).css("width")))},o),mt(function(t,e){t.style.width=B[e]},i),t(o).height(0)),mt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+R[e]+"</div>",t.style.width=L[e]},r),$&&mt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+z[e]+"</div>",t.style.width=B[e]},o),E.outerWidth()<d?(c=k.scrollHeight>k.offsetHeight||"scroll"==S.css("overflow-y")?d+y:d,P&&(k.scrollHeight>k.offsetHeight||"scroll"==S.css("overflow-y"))&&(I.width=xt(c-y)),""!==g&&""===m||Ot(e,1,"Possible column misalignment",6)):c="100%",T.width=xt(c),w.width=xt(c),$&&(e.nScrollFoot.style.width=xt(c)),v||P&&(T.height=xt(O.offsetHeight+y));var W=E.outerWidth();C[0].style.width=xt(W),_.width=xt(W);var V=E.height()>k.clientHeight||"scroll"==S.css("overflow-y"),Y="padding"+(F.bScrollbarLeft?"Left":"Right");_[Y]=V?y+"px":"0px",$&&(M[0].style.width=xt(W),D[0].style.width=xt(W),D[0].style[Y]=V?y+"px":"0px"),E.children("colgroup").insertBefore(E.children("thead")),S.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(k.scrollTop=0)}function mt(t,e,n){for(var l,i,r=0,o=0,s=e.length;s>o;){for(l=e[o].firstChild,i=n?n[o].firstChild:null;l;)1===l.nodeType&&(n?t(l,i,r):t(l,r),r++),l=l.nextSibling,i=n?i.nextSibling:null;o++}}function vt(n){var l,i,r,o=n.nTable,s=n.aoColumns,a=n.oScroll,u=a.sY,c=a.sX,d=a.sXInner,h=s.length,g=v(n,"bVisible"),y=t("th",n.nTHead),b=o.getAttribute("width"),w=o.parentNode,x=!1,_=n.oBrowser,C=_.bScrollOversize,k=o.style.width;for(k&&-1!==k.indexOf("%")&&(b=k),l=0;l<g.length;l++)i=s[g[l]],null!==i.sWidth&&(i.sWidth=yt(i.sWidthOrig,w),x=!0);if(C||!x&&!c&&!u&&h==m(n)&&h==y.length)for(l=0;h>l;l++){var S=p(n,l);null!==S&&(s[S].sWidth=xt(y.eq(l).width()))}else{var T=t(o).clone().css("visibility","hidden").removeAttr("id");T.find("tbody tr").remove();var A=t("<tr/>").appendTo(T.find("tbody"));for(T.find("thead, tfoot").remove(),T.append(t(n.nTHead).clone()).append(t(n.nTFoot).clone()),T.find("tfoot th, tfoot td").css("width",""),y=H(n,T.find("thead")[0]),l=0;l<g.length;l++)i=s[g[l]],y[l].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?xt(i.sWidthOrig):"",i.sWidthOrig&&c&&t(y[l]).append(t("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(l=0;l<g.length;l++)r=g[l],i=s[r],t(bt(n,r)).clone(!1).append(i.sContentPadding).appendTo(A);t("[name]",T).removeAttr("name");var D=t("<div/>").css(c||u?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(T).appendTo(w);c&&d?T.width(d):c?(T.css("width","auto"),T.removeAttr("width"),T.width()<w.clientWidth&&b&&T.width(w.clientWidth)):u?T.width(w.clientWidth):b&&T.width(b);var M=0;for(l=0;l<g.length;l++){var j=t(y[l]),E=j.outerWidth()-j.width(),O=_.bBounding?Math.ceil(y[l].getBoundingClientRect().width):j.outerWidth();M+=O,s[g[l]].sWidth=xt(O-E)}o.style.width=xt(M),D.remove()}if(b&&(o.style.width=xt(b)),(b||c)&&!n._reszEvt){var I=function(){t(e).bind("resize.DT-"+n.sInstance,xe(function(){f(n)}))};C?setTimeout(I,1e3):I(),n._reszEvt=!0}}function yt(e,l){if(!e)return 0;var i=t("<div/>").css("width",xt(e)).appendTo(l||n.body),r=i[0].offsetWidth;return i.remove(),r}function bt(e,n){var l=wt(e,n);if(0>l)return null;var i=e.aoData[l];return i.nTr?i.anCells[n]:t("<td/>").html(k(e,l,n,"display"))[0]}function wt(t,e){for(var n,l=-1,i=-1,r=0,o=t.aoData.length;o>r;r++)n=k(t,r,e,"display")+"",n=n.replace(we,""),n=n.replace(/&nbsp;/g," "),n.length>l&&(l=n.length,i=r);return i}function xt(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function _t(e){var n,i,r,o,s,a,u,c=[],d=e.aoColumns,h=e.aaSortingFixed,f=t.isPlainObject(h),p=[],g=function(e){e.length&&!t.isArray(e[0])?p.push(e):t.merge(p,e)};for(t.isArray(h)&&g(h),f&&h.pre&&g(h.pre),g(e.aaSorting),f&&h.post&&g(h.post),n=0;n<p.length;n++)for(u=p[n][0],o=d[u].aDataSort,i=0,r=o.length;r>i;i++)s=o[i],a=d[s].sType||"string",p[n]._idx===l&&(p[n]._idx=t.inArray(p[n][1],d[s].asSorting)),c.push({src:u,col:s,dir:p[n][1],index:p[n]._idx,type:a,formatter:Xt.ext.type.order[a+"-pre"]});return c}function Ct(t){var e,n,l,i,r,o=[],s=Xt.ext.type.order,a=t.aoData,u=(t.aoColumns,0),c=t.aiDisplayMaster;for(y(t),r=_t(t),e=0,n=r.length;n>e;e++)i=r[e],i.formatter&&u++,Dt(t,i.col);if("ssp"!=Rt(t)&&0!==r.length){for(e=0,l=c.length;l>e;e++)o[c[e]]=e;u===r.length?c.sort(function(t,e){var n,l,i,s,u,c=r.length,d=a[t]._aSortData,h=a[e]._aSortData;for(i=0;c>i;i++)if(u=r[i],n=d[u.col],l=h[u.col],s=l>n?-1:n>l?1:0,0!==s)return"asc"===u.dir?s:-s;return n=o[t],l=o[e],l>n?-1:n>l?1:0}):c.sort(function(t,e){var n,l,i,u,c,d,h=r.length,f=a[t]._aSortData,p=a[e]._aSortData;for(i=0;h>i;i++)if(c=r[i],n=f[c.col],l=p[c.col],d=s[c.type+"-"+c.dir]||s["string-"+c.dir],u=d(n,l),0!==u)return u;return n=o[t],l=o[e],l>n?-1:n>l?1:0})}t.bSorted=!0}function kt(t){for(var e,n,l=t.aoColumns,i=_t(t),r=t.oLanguage.oAria,o=0,s=l.length;s>o;o++){var a=l[o],u=a.asSorting,c=a.sTitle.replace(/<.*?>/g,""),d=a.nTh;d.removeAttribute("aria-sort"),a.bSortable?(i.length>0&&i[0].col==o?(d.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),n=u[i[0].index+1]||u[0]):n=u[0],e=c+("asc"===n?r.sSortAscending:r.sSortDescending)):e=c,d.setAttribute("aria-label",e)}}function St(e,n,i,r){var o,s=e.aoColumns[n],a=e.aaSorting,u=s.asSorting,c=function(e,n){var i=e._idx;return i===l&&(i=t.inArray(e[1],u)),i+1<u.length?i+1:n?null:0};if("number"==typeof a[0]&&(a=e.aaSorting=[a]),i&&e.oFeatures.bSortMulti){var d=t.inArray(n,ae(a,"0"));-1!==d?(o=c(a[d],!0),null===o&&1===a.length&&(o=0),null===o?a.splice(d,1):(a[d][1]=u[o],a[d]._idx=o)):(a.push([n,u[0],0]),a[a.length-1]._idx=0)}else a.length&&a[0][0]==n?(o=c(a[0]),a.length=1,a[0][1]=u[o],a[0]._idx=o):(a.length=0,a.push([n,u[0]]),a[0]._idx=0);B(e),"function"==typeof r&&r(e)}function Tt(t,e,n,l){var i=t.aoColumns[n];Ft(e,{},function(e){i.bSortable!==!1&&(t.oFeatures.bProcessing?(ft(t,!0),setTimeout(function(){St(t,n,e.shiftKey,l),"ssp"!==Rt(t)&&ft(t,!1)},0)):St(t,n,e.shiftKey,l))})}function At(e){var n,l,i,r=e.aLastSort,o=e.oClasses.sSortColumn,s=_t(e),a=e.oFeatures;if(a.bSort&&a.bSortClasses){for(n=0,l=r.length;l>n;n++)i=r[n].src,t(ae(e.aoData,"anCells",i)).removeClass(o+(2>n?n+1:3));for(n=0,l=s.length;l>n;n++)i=s[n].src,t(ae(e.aoData,"anCells",i)).addClass(o+(2>n?n+1:3))}e.aLastSort=s}function Dt(t,e){var n,l=t.aoColumns[e],i=Xt.ext.order[l.sSortDataType];i&&(n=i.call(t.oInstance,t,e,g(t,e)));for(var r,o,s=Xt.ext.type.order[l.sType+"-pre"],a=0,u=t.aoData.length;u>a;a++)r=t.aoData[a],r._aSortData||(r._aSortData=[]),r._aSortData[e]&&!i||(o=i?n[a]:k(t,a,e,"sort"),r._aSortData[e]=s?s(o):o)}function Mt(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var n={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:et(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:et(e.aoPreSearchCols[n])}})};Nt(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.oSavedState=n,e.fnStateSaveCallback.call(e.oInstance,e,n)}}function jt(e){var n,i,r=e.aoColumns;if(e.oFeatures.bStateSave){var o=e.fnStateLoadCallback.call(e.oInstance,e);if(o&&o.time){var s=Nt(e,"aoStateLoadParams","stateLoadParams",[e,o]);if(-1===t.inArray(!1,s)){var a=e.iStateDuration;if(!(a>0&&o.time<+new Date-1e3*a)&&r.length===o.columns.length){for(e.oLoadedState=t.extend(!0,{},o),o.start!==l&&(e._iDisplayStart=o.start,e.iInitDisplayStart=o.start),o.length!==l&&(e._iDisplayLength=o.length),o.order!==l&&(e.aaSorting=[],t.each(o.order,function(t,n){e.aaSorting.push(n[0]>=r.length?[0,n[1]]:n)})),o.search!==l&&t.extend(e.oPreviousSearch,nt(o.search)),n=0,i=o.columns.length;i>n;n++){var u=o.columns[n];u.visible!==l&&(r[n].bVisible=u.visible),u.search!==l&&t.extend(e.aoPreSearchCols[n],nt(u.search))}Nt(e,"aoStateLoaded","stateLoaded",[e,o])}}}}}function Et(e){var n=Xt.settings,l=t.inArray(e,ae(n,"nTable"));return-1!==l?n[l]:null}function Ot(t,n,l,i){if(l="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+l,i&&(l+=". For more information about this error, please see http://datatables.net/tn/"+i),n)e.console&&console.log&&console.log(l);else{var r=Xt.ext,o=r.sErrMode||r.errMode;if(t&&Nt(t,null,"error",[t,i,l]),"alert"==o)alert(l);else{if("throw"==o)throw new Error(l);"function"==typeof o&&o(t,i,l)}}}function It(e,n,i,r){return t.isArray(i)?void t.each(i,function(l,i){t.isArray(i)?It(e,n,i[0],i[1]):It(e,n,i)}):(r===l&&(r=i),void(n[i]!==l&&(e[r]=n[i])))}function $t(e,n,l){var i;for(var r in n)n.hasOwnProperty(r)&&(i=n[r],t.isPlainObject(i)?(t.isPlainObject(e[r])||(e[r]={}),t.extend(!0,e[r],i)):l&&"data"!==r&&"aaData"!==r&&t.isArray(i)?e[r]=i.slice():e[r]=i);return e}function Ft(e,n,l){t(e).bind("click.DT",n,function(t){e.blur(),l(t)}).bind("keypress.DT",n,function(t){13===t.which&&(t.preventDefault(),l(t))}).bind("selectstart.DT",function(){return!1})}function Pt(t,e,n,l){n&&t[e].push({fn:n,sName:l})}function Nt(e,n,l,i){var r=[];if(n&&(r=t.map(e[n].slice().reverse(),function(t){return t.fn.apply(e.oInstance,i)})),null!==l){var o=t.Event(l+".dt");t(e.nTable).trigger(o,i),r.push(o.result)}return r}function Lt(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),l=t._iDisplayLength;e>=n&&(e=n-l),e-=e%l,(-1===l||0>e)&&(e=0),t._iDisplayStart=e}function Bt(e,n){var l=e.renderer,i=Xt.ext.renderer[n];return t.isPlainObject(l)&&l[n]?i[l[n]]||i._:"string"==typeof l?i[l]||i._:i._}function Rt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function zt(t,e){var n=[],l=Ue.numbers_length,i=Math.floor(l/2);return l>=e?n=ce(0,e):i>=t?(n=ce(0,l-2),n.push("ellipsis"),n.push(e-1)):t>=e-1-i?(n=ce(e-(l-2),e),n.splice(0,0,"ellipsis"),n.splice(0,0,0)):(n=ce(t-i+2,t+i-1),n.push("ellipsis"),n.push(e-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Ht(e){t.each({num:function(t){return We(t,e)},"num-fmt":function(t){return We(t,e,ee)},"html-num":function(t){return We(t,e,Kt)},"html-num-fmt":function(t){return We(t,e,Kt,ee)}},function(t,n){Ut.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(Ut.type.search[t+e]=Ut.type.search.html)})}function qt(t){return function(){var e=[Et(this[Xt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Xt.ext.internal[t].apply(this,e)}}var Ut,Wt,Vt,Yt,Xt=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Wt(t?Et(this[Ut.iApiIndex]):this)},this.fnAddData=function(e,n){var i=this.api(!0),r=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?i.rows.add(e):i.row.add(e);return(n===l||n)&&i.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],i=n.oScroll;t===l||t?e.draw(!1):""===i.sX&&""===i.sY||gt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===l||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var i=this.api(!0),r=i.rows(t),o=r.settings()[0],s=o.aoData[r[0][0]];return r.remove(),e&&e.call(this,o,s),(n===l||n)&&i.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,i,r,o){var s=this.api(!0);null===e||e===l?s.search(t,n,i,o):s.column(e).search(t,n,i,o),s.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==l){var i=t.nodeName?t.nodeName.toLowerCase():"";return e!==l||"td"==i||"th"==i?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==l?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();if("TR"==n)return e.row(t).index();if("TD"==n||"TH"==n){var l=e.cell(t).index();return[l.row,l.columnVisible,l.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===l||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){var i=this.api(!0).column(t).visible(e);(n===l||n)&&i.columns.adjust().draw()},this.fnSettings=function(){return Et(this[Ut.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,i,r){var o=this.api(!0);return n===l||null===n?o.row(e).data(t):o.cell(e,n).data(t),(r===l||r)&&o.columns.adjust(),(i===l||i)&&o.draw(),0},this.fnVersionCheck=Ut.fnVersionCheck;var n=this,i=e===l,c=this.length;i&&(e={}),this.oApi=this.internal=Ut.internal;for(var f in Xt.ext.internal)f&&(this[f]=qt(f));return this.each(function(){var f,p={},g=c>1?$t(p,e,!0):e,m=0,v=this.getAttribute("id"),y=!1,_=Xt.defaults,C=t(this);if("table"!=this.nodeName.toLowerCase())return void Ot(null,0,"Non-table node initialisation ("+this.nodeName+")",2);s(_),a(_.column),r(_,_,!0),r(_.column,_.column,!0),r(_,t.extend(g,C.data()));var k=Xt.settings;for(m=0,f=k.length;f>m;m++){var S=k[m];if(S.nTable==this||S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){var T=g.bRetrieve!==l?g.bRetrieve:_.bRetrieve,D=g.bDestroy!==l?g.bDestroy:_.bDestroy;if(i||T)return S.oInstance;if(D){S.oInstance.fnDestroy();break}return void Ot(S,0,"Cannot reinitialise DataTable",3)}if(S.sTableId==this.id){k.splice(m,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+Xt.ext._unique++,this.id=v);var M=t.extend(!0,{},Xt.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:v,sTableId:v});M.nTable=this,M.oApi=n.internal,M.oInit=g,k.push(M),M.oInstance=1===n.length?n:C.dataTable(),s(g),g.oLanguage&&o(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=t.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=$t(t.extend(!0,{},_),g),It(M.oFeatures,g,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),It(M,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),It(M.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),It(M.oLanguage,g,"fnInfoCallback"),Pt(M,"aoDrawCallback",g.fnDrawCallback,"user"),Pt(M,"aoServerParams",g.fnServerParams,"user"),Pt(M,"aoStateSaveParams",g.fnStateSaveParams,"user"),Pt(M,"aoStateLoadParams",g.fnStateLoadParams,"user"),Pt(M,"aoStateLoaded",g.fnStateLoaded,"user"),Pt(M,"aoRowCallback",g.fnRowCallback,"user"),Pt(M,"aoRowCreatedCallback",g.fnCreatedRow,"user"),Pt(M,"aoHeaderCallback",g.fnHeaderCallback,"user"),Pt(M,"aoFooterCallback",g.fnFooterCallback,"user"),Pt(M,"aoInitComplete",g.fnInitComplete,"user"),Pt(M,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),M.rowIdFn=A(g.rowId),u(M);var j=M.oClasses;if(g.bJQueryUI?(t.extend(j,Xt.ext.oJUIClasses,g.oClasses),g.sDom===_.sDom&&"lfrtip"===_.sDom&&(M.sDom='<"H"lfr>t<"F"ip>'),M.renderer?t.isPlainObject(M.renderer)&&!M.renderer.header&&(M.renderer.header="jqueryui"):M.renderer="jqueryui"):t.extend(j,Xt.ext.classes,g.oClasses),C.addClass(j.sTable),M.iInitDisplayStart===l&&(M.iInitDisplayStart=g.iDisplayStart,M._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading){M.bDeferLoading=!0;var E=t.isArray(g.iDeferLoading);M._iRecordsDisplay=E?g.iDeferLoading[0]:g.iDeferLoading,M._iRecordsTotal=E?g.iDeferLoading[1]:g.iDeferLoading}var O=M.oLanguage;t.extend(!0,O,g.oLanguage),""!==O.sUrl&&(t.ajax({dataType:"json",url:O.sUrl,success:function(e){o(e),r(_.oLanguage,e),t.extend(!0,O,e),ot(M)},error:function(){ot(M)}}),y=!0),null===g.asStripeClasses&&(M.asStripeClasses=[j.sStripeOdd,j.sStripeEven]);var I=M.asStripeClasses,$=C.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(I,function(t){return $.hasClass(t)}))&&(t("tbody tr",this).removeClass(I.join(" ")),M.asDestroyStripes=I.slice());var F,P=[],N=this.getElementsByTagName("thead");if(0!==N.length&&(z(M.aoHeader,N[0]),P=H(M)),null===g.aoColumns)for(F=[],m=0,f=P.length;f>m;m++)F.push(null);else F=g.aoColumns;for(m=0,f=F.length;f>m;m++)d(M,P?P[m]:null);if(b(M,g.aoColumnDefs,F,function(t,e){h(M,t,e)}),$.length){var L=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t($[0]).children("th, td").each(function(t,e){var n=M.aoColumns[t];if(n.mData===t){var i=L(e,"sort")||L(e,"order"),r=L(e,"filter")||L(e,"search");null===i&&null===r||(n.mData={_:t+".display",sort:null!==i?t+".@data-"+i:l,type:null!==i?t+".@data-"+i:l,filter:null!==r?t+".@data-"+r:l},h(M,t))}})}var B=M.oFeatures;if(g.bStateSave&&(B.bStateSave=!0,jt(M,g),Pt(M,"aoDrawCallback",Mt,"state_save")),g.aaSorting===l){var R=M.aaSorting;for(m=0,f=R.length;f>m;m++)R[m][1]=M.aoColumns[m].asSorting[0]}At(M),B.bSort&&Pt(M,"aoDrawCallback",function(){if(M.bSorted){
var e=_t(M),n={};t.each(e,function(t,e){n[e.src]=e.dir}),Nt(M,null,"order",[M,e,n]),kt(M)}}),Pt(M,"aoDrawCallback",function(){(M.bSorted||"ssp"===Rt(M)||B.bDeferRender)&&At(M)},"sc");var q=C.children("caption").each(function(){this._captionSide=C.css("caption-side")}),U=C.children("thead");0===U.length&&(U=t("<thead/>").appendTo(this)),M.nTHead=U[0];var W=C.children("tbody");0===W.length&&(W=t("<tbody/>").appendTo(this)),M.nTBody=W[0];var V=C.children("tfoot");if(0===V.length&&q.length>0&&(""!==M.oScroll.sX||""!==M.oScroll.sY)&&(V=t("<tfoot/>").appendTo(this)),0===V.length||0===V.children().length?C.addClass(j.sNoFooter):V.length>0&&(M.nTFoot=V[0],z(M.aoFooter,M.nTFoot)),g.aaData)for(m=0;m<g.aaData.length;m++)w(M,g.aaData[m]);else(M.bDeferLoading||"dom"==Rt(M))&&x(M,t(M.nTBody).children("tr"));M.aiDisplay=M.aiDisplayMaster.slice(),M.bInitialised=!0,y===!1&&ot(M)}),n=null,this},Gt={},Zt=/[\r\n]/g,Kt=/<.*?>/g,Jt=/^[\w\+\-]/,Qt=/[\w\+\-]$/,te=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),ee=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ne=function(t){return!t||t===!0||"-"===t},le=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ie=function(t,e){return Gt[e]||(Gt[e]=new RegExp(ve(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Gt[e],"."):t},re=function(t,e,n){var l="string"==typeof t;return ne(t)?!0:(e&&l&&(t=ie(t,e)),n&&l&&(t=t.replace(ee,"")),!isNaN(parseFloat(t))&&isFinite(t))},oe=function(t){return ne(t)||"string"==typeof t},se=function(t,e,n){if(ne(t))return!0;var l=oe(t);return l&&re(he(t),e,n)?!0:null},ae=function(t,e,n){var i=[],r=0,o=t.length;if(n!==l)for(;o>r;r++)t[r]&&t[r][e]&&i.push(t[r][e][n]);else for(;o>r;r++)t[r]&&i.push(t[r][e]);return i},ue=function(t,e,n,i){var r=[],o=0,s=e.length;if(i!==l)for(;s>o;o++)t[e[o]][n]&&r.push(t[e[o]][n][i]);else for(;s>o;o++)r.push(t[e[o]][n]);return r},ce=function(t,e){var n,i=[];e===l?(e=0,n=t):(n=e,e=t);for(var r=e;n>r;r++)i.push(r);return i},de=function(t){for(var e=[],n=0,l=t.length;l>n;n++)t[n]&&e.push(t[n]);return e},he=function(t){return t.replace(Kt,"")},fe=function(t){var e,n,l,i=[],r=t.length,o=0;t:for(n=0;r>n;n++){for(e=t[n],l=0;o>l;l++)if(i[l]===e)continue t;i.push(e),o++}return i};Xt.util={throttle:function(t,e){var n,i,r=e!==l?e:200;return function(){var e=this,o=+new Date,s=arguments;n&&n+r>o?(clearTimeout(i),i=setTimeout(function(){n=l,t.apply(e,s)},r)):(n=o,t.apply(e,s))}},escapeRegex:function(t){return t.replace(te,"\\$1")}};var pe=function(t,e,n){t[e]!==l&&(t[n]=t[e])},ge=/\[.*?\]$/,me=/\(\)$/,ve=Xt.util.escapeRegex,ye=t("<div>")[0],be=ye.textContent!==l,we=/<.*?>/g,xe=Xt.util.throttle,_e=[],Ce=Array.prototype,ke=function(e){var n,l,i=Xt.settings,r=t.map(i,function(t){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(n=t.inArray(e,r),-1!==n?[i[n]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?l=t(e):e instanceof t&&(l=e),l?l.map(function(){return n=t.inArray(this,r),-1!==n?i[n]:null}).toArray():void 0):[]};Wt=function(e,n){if(!(this instanceof Wt))return new Wt(e,n);var l=[],i=function(t){var e=ke(t);e&&(l=l.concat(e))};if(t.isArray(e))for(var r=0,o=e.length;o>r;r++)i(e[r]);else i(e);this.context=fe(l),n&&t.merge(this,n),this.selector={rows:null,cols:null,opts:null},Wt.extend(this,this,_e)},Xt.Api=Wt,t.extend(Wt.prototype,{any:function(){return 0!==this.count()},concat:Ce.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;n>e;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Wt(e[t],this[t]):null},filter:function(t){var e=[];if(Ce.filter)e=Ce.filter.call(this,t,this);else for(var n=0,l=this.length;l>n;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new Wt(this.context,e)},flatten:function(){var t=[];return new Wt(this.context,t.concat.apply(t,this.toArray()))},join:Ce.join,indexOf:Ce.indexOf||function(t,e){for(var n=e||0,l=this.length;l>n;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,i){var r,o,s,a,u,c,d,h,f=[],p=this.context,g=this.selector;for("string"==typeof t&&(i=n,n=e,e=t,t=!1),o=0,s=p.length;s>o;o++){var m=new Wt(p[o]);if("table"===e)r=n.call(m,p[o],o),r!==l&&f.push(r);else if("columns"===e||"rows"===e)r=n.call(m,p[o],this[o],o),r!==l&&f.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(d=this[o],"column-rows"===e&&(c=je(p[o],g.opts)),a=0,u=d.length;u>a;a++)h=d[a],r="cell"===e?n.call(m,p[o],h.row,h.column,o,a):n.call(m,p[o],h,o,a,c),r!==l&&f.push(r)}if(f.length||i){var v=new Wt(p,t?f.concat.apply([],f):f),y=v.selector;return y.rows=g.rows,y.cols=g.cols,y.opts=g.opts,v}return this},lastIndexOf:Ce.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(Ce.map)e=Ce.map.call(this,t,this);else for(var n=0,l=this.length;l>n;n++)e.push(t.call(this,this[n],n));return new Wt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:Ce.pop,push:Ce.push,reduce:Ce.reduce||function(t,e){return c(this,t,e,0,this.length,1)},reduceRight:Ce.reduceRight||function(t,e){return c(this,t,e,this.length-1,-1,-1)},reverse:Ce.reverse,selector:null,shift:Ce.shift,sort:Ce.sort,splice:Ce.splice,toArray:function(){return Ce.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new Wt(this.context,fe(this))},unshift:Ce.unshift}),Wt.extend=function(e,n,l){if(l.length&&n&&(n instanceof Wt||n.__dt_wrapper)){var i,r,o,s=function(t,e,n){return function(){var l=e.apply(t,arguments);return Wt.extend(l,l,n.methodExt),l}};for(i=0,r=l.length;r>i;i++)o=l[i],n[o.name]="function"==typeof o.val?s(e,o.val,o):t.isPlainObject(o.val)?{}:o.val,n[o.name].__dt_wrapper=!0,Wt.extend(e,n[o.name],o.propExt)}},Wt.register=Vt=function(e,n){if(t.isArray(e))for(var l=0,i=e.length;i>l;l++)Wt.register(e[l],n);else{var r,o,s,a,u=e.split("."),c=_e,d=function(t,e){for(var n=0,l=t.length;l>n;n++)if(t[n].name===e)return t[n];return null};for(r=0,o=u.length;o>r;r++){a=-1!==u[r].indexOf("()"),s=a?u[r].replace("()",""):u[r];var h=d(c,s);h||(h={name:s,val:{},methodExt:[],propExt:[]},c.push(h)),r===o-1?h.val=n:c=a?h.methodExt:h.propExt}}},Wt.registerPlural=Yt=function(e,n,i){Wt.register(e,i),Wt.register(n,function(){var e=i.apply(this,arguments);return e===this?this:e instanceof Wt?e.length?t.isArray(e[0])?new Wt(e.context,e[0]):e[0]:l:e})};var Se=function(e,n){if("number"==typeof e)return[n[e]];var l=t.map(n,function(t){return t.nTable});return t(l).filter(e).map(function(){var e=t.inArray(this,l);return n[e]}).toArray()};Vt("tables()",function(t){return t?new Wt(Se(t,this.context)):this}),Vt("table()",function(t){var e=this.tables(t),n=e.context;return n.length?new Wt(n[0]):e}),Yt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Yt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Yt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Yt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Yt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Vt("draw()",function(t){return this.iterator("table",function(e){"page"===t?L(e):("string"==typeof t&&(t="full-hold"!==t),B(e,t===!1))})}),Vt("page()",function(t){return t===l?this.page.info().page:this.iterator("table",function(e){dt(e,t)})}),Vt("page.info()",function(){if(0===this.context.length)return l;var t=this.context[0],e=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,i=t.fnRecordsDisplay(),r=-1===n;return{page:r?0:Math.floor(e/n),pages:r?1:Math.ceil(i/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:i,serverSide:"ssp"===Rt(t)}}),Vt("page.len()",function(t){return t===l?0!==this.context.length?this.context[0]._iDisplayLength:l:this.iterator("table",function(e){at(e,t)})});var Te=function(t,e,n){if(n){var l=new Wt(t);l.one("draw",function(){n(l.ajax.json())})}if("ssp"==Rt(t))B(t,e);else{ft(t,!0);var i=t.jqXHR;i&&4!==i.readyState&&i.abort(),q(t,[],function(n){j(t);for(var l=Y(t,n),i=0,r=l.length;r>i;i++)w(t,l[i]);B(t,e),ft(t,!1)})}};Vt("ajax.json()",function(){var t=this.context;return t.length>0?t[0].json:void 0}),Vt("ajax.params()",function(){var t=this.context;return t.length>0?t[0].oAjaxData:void 0}),Vt("ajax.reload()",function(t,e){return this.iterator("table",function(n){Te(n,e===!1,t)})}),Vt("ajax.url()",function(e){var n=this.context;return e===l?0===n.length?l:(n=n[0],n.ajax?t.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource):this.iterator("table",function(n){t.isPlainObject(n.ajax)?n.ajax.url=e:n.ajax=e})}),Vt("ajax.url().load()",function(t,e){return this.iterator("table",function(n){Te(n,e===!1,t)})});var Ae=function(e,n,i,r,o){var s,a,u,c,d,h,f=[],p=typeof n;for(n&&"string"!==p&&"function"!==p&&n.length!==l||(n=[n]),u=0,c=n.length;c>u;u++)for(a=n[u]&&n[u].split?n[u].split(","):[n[u]],d=0,h=a.length;h>d;d++)s=i("string"==typeof a[d]?t.trim(a[d]):a[d]),s&&s.length&&(f=f.concat(s));var g=Ut.selector[e];if(g.length)for(u=0,c=g.length;c>u;u++)f=g[u](r,o,f);return fe(f)},De=function(e){return e||(e={}),e.filter&&e.search===l&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Me=function(t){for(var e=0,n=t.length;n>e;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},je=function(e,n){var l,i,r,o=[],s=e.aiDisplay,a=e.aiDisplayMaster,u=n.search,c=n.order,d=n.page;if("ssp"==Rt(e))return"removed"===u?[]:ce(0,a.length);if("current"==d)for(l=e._iDisplayStart,i=e.fnDisplayEnd();i>l;l++)o.push(s[l]);else if("current"==c||"applied"==c)o="none"==u?a.slice():"applied"==u?s.slice():t.map(a,function(e){return-1===t.inArray(e,s)?e:null});else if("index"==c||"original"==c)for(l=0,i=e.aoData.length;i>l;l++)"none"==u?o.push(l):(r=t.inArray(l,s),(-1===r&&"removed"==u||r>=0&&"applied"==u)&&o.push(l));return o},Ee=function(e,n,i){var r=function(n){var r=le(n);if(null!==r&&!i)return[r];var o=je(e,i);if(null!==r&&-1!==t.inArray(r,o))return[r];if(!n)return o;if("function"==typeof n)return t.map(o,function(t){var l=e.aoData[t];return n(t,l._aData,l.nTr)?t:null});var s=de(ue(e.aoData,o,"nTr"));if(n.nodeName){if(n._DT_RowIndex!==l)return[n._DT_RowIndex];if(n._DT_CellIndex)return[n._DT_CellIndex.row];var a=t(n).closest("*[data-dt-row]");return a.length?[a.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var u=e.aIds[n.replace(/^#/,"")];if(u!==l)return[u.idx]}return t(s).filter(n).map(function(){return this._DT_RowIndex}).toArray()};return Ae("row",n,r,e,i)};Vt("rows()",function(e,n){e===l?e="":t.isPlainObject(e)&&(n=e,e=""),n=De(n);var i=this.iterator("table",function(t){return Ee(t,e,n)},1);return i.selector.rows=e,i.selector.opts=n,i}),Vt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||l},1)}),Vt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return ue(t.aoData,e,"_aData")},1)}),Yt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var l=e.aoData[n];return"search"===t?l._aFilterData:l._aSortData},1)}),Yt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){O(e,n,t)})}),Yt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Yt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,l=0,i=n.length;i>l;l++)for(var r=0,o=this[l].length;o>r;r++){var s=n[l].rowIdFn(n[l].aoData[this[l][r]]._aData);e.push((t===!0?"#":"")+s)}return new Wt(n,e)}),Yt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,n,i){var r,o,s,a,u,c,d=e.aoData,h=d[n];for(d.splice(n,1),r=0,o=d.length;o>r;r++)if(u=d[r],c=u.anCells,null!==u.nTr&&(u.nTr._DT_RowIndex=r),null!==c)for(s=0,a=c.length;a>s;s++)c[s]._DT_CellIndex.row=r;E(e.aiDisplayMaster,n),E(e.aiDisplay,n),E(t[i],n,!1),Lt(e);var f=e.rowIdFn(h._aData);f!==l&&delete e.aIds[f]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;n>e;e++)t.aoData[e].idx=e}),this}),Vt("rows.add()",function(e){var n=this.iterator("table",function(t){var n,l,i,r=[];for(l=0,i=e.length;i>l;l++)n=e[l],n.nodeName&&"TR"===n.nodeName.toUpperCase()?r.push(x(t,n)[0]):r.push(w(t,n));return r},1),l=this.rows(-1);return l.pop(),t.merge(l,n),l}),Vt("row()",function(t,e){return Me(this.rows(t,e))}),Vt("row().data()",function(t){var e=this.context;return t===l?e.length&&this.length?e[0].aoData[this[0]]._aData:l:(e[0].aoData[this[0]]._aData=t,O(e[0],this[0],"data"),this)}),Vt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Vt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var n=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?x(t,e)[0]:w(t,e)});return this.row(n[0])});var Oe=function(e,n,l,i){var r=[],o=function(n,l){if(t.isArray(n)||n instanceof t)for(var i=0,s=n.length;s>i;i++)o(n[i],l);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())r.push(n);else{var a=t("<tr><td/></tr>").addClass(l);t("td",a).addClass(l).html(n)[0].colSpan=m(e),r.push(a[0])}};o(l,i),n._details&&n._details.remove(),n._details=t(r),n._detailsShow&&n._details.insertAfter(n.nTr)},Ie=function(t,e){var n=t.context;if(n.length){var i=n[0].aoData[e!==l?e:t[0]];i&&i._details&&(i._details.remove(),i._detailsShow=l,i._details=l)}},$e=function(t,e){var n=t.context;if(n.length&&t.length){var l=n[0].aoData[t[0]];l._details&&(l._detailsShow=e,e?l._details.insertAfter(l.nTr):l._details.detach(),Fe(n[0]))}},Fe=function(t){var e=new Wt(t),n=".dt.DT_details",l="draw"+n,i="column-visibility"+n,r="destroy"+n,o=t.aoData;e.off(l+" "+i+" "+r),ae(o,"_details").length>0&&(e.on(l,function(n,l){t===l&&e.rows({page:"current"}).eq(0).each(function(t){var e=o[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on(i,function(e,n){if(t===n)for(var l,i=m(n),r=0,s=o.length;s>r;r++)l=o[r],l._details&&l._details.children("td[colspan]").attr("colspan",i)}),e.on(r,function(n,l){if(t===l)for(var i=0,r=o.length;r>i;i++)o[i]._details&&Ie(e,i)}))},Pe="",Ne=Pe+"row().child",Le=Ne+"()";Vt(Le,function(t,e){var n=this.context;return t===l?n.length&&this.length?n[0].aoData[this[0]]._details:l:(t===!0?this.child.show():t===!1?Ie(this):n.length&&this.length&&Oe(n[0],n[0].aoData[this[0]],t,e),this)}),Vt([Ne+".show()",Le+".show()"],function(){return $e(this,!0),this}),Vt([Ne+".hide()",Le+".hide()"],function(){return $e(this,!1),this}),Vt([Ne+".remove()",Le+".remove()"],function(){return Ie(this),this}),Vt(Ne+".isShown()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]]._detailsShow||!1:!1});var Be=/^(.+):(name|visIdx|visible)$/,Re=function(t,e,n,l,i){for(var r=[],o=0,s=i.length;s>o;o++)r.push(k(t,i[o],e));return r},ze=function(e,n,l){var i=e.aoColumns,r=ae(i,"sName"),o=ae(i,"nTh"),s=function(n){var s=le(n);if(""===n)return ce(i.length);if(null!==s)return[s>=0?s:i.length+s];if("function"==typeof n){var a=je(e,l);return t.map(i,function(t,l){return n(l,Re(e,l,0,0,a),o[l])?l:null})}var u="string"==typeof n?n.match(Be):"";if(u)switch(u[2]){case"visIdx":case"visible":var c=parseInt(u[1],10);if(0>c){var d=t.map(i,function(t,e){return t.bVisible?e:null});return[d[d.length+c]]}return[p(e,c)];case"name":return t.map(r,function(t,e){return t===u[1]?e:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var h=t(o).filter(n).map(function(){return t.inArray(this,o)}).toArray();if(h.length||!n.nodeName)return h;var f=t(n).closest("*[data-dt-column]");return f.length?[f.data("dt-column")]:[]};return Ae("column",n,s,e,l)},He=function(e,n,i){var r,o,s,a,u=e.aoColumns,c=u[n],d=e.aoData;if(i===l)return c.bVisible;if(c.bVisible!==i){if(i){var h=t.inArray(!0,ae(u,"bVisible"),n+1);for(o=0,s=d.length;s>o;o++)a=d[o].nTr,r=d[o].anCells,a&&a.insertBefore(r[n],r[h]||null)}else t(ae(e.aoData,"anCells",n)).detach();c.bVisible=i,N(e,e.aoHeader),N(e,e.aoFooter),Mt(e)}};Vt("columns()",function(e,n){e===l?e="":t.isPlainObject(e)&&(n=e,e=""),n=De(n);var i=this.iterator("table",function(t){return ze(t,e,n)},1);return i.selector.cols=e,i.selector.opts=n,i}),Yt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Yt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Yt("columns().data()","column().data()",function(){return this.iterator("column-rows",Re,1)}),Yt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Yt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,l,i,r){return ue(e.aoData,r,"search"===t?"_aFilterData":"_aSortData",n)},1)}),Yt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,l,i){return ue(t.aoData,i,"anCells",e)},1)}),Yt("columns().visible()","column().visible()",function(t,e){var n=this.iterator("column",function(e,n){return t===l?e.aoColumns[n].bVisible:void He(e,n,t)});return t!==l&&(this.iterator("column",function(n,l){Nt(n,null,"column-visibility",[n,l,t,e])}),(e===l||e)&&this.columns.adjust()),n}),Yt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?g(e,n):n},1)}),Vt("columns.adjust()",function(){return this.iterator("table",function(t){f(t)},1)}),Vt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return p(n,e);if("fromData"===t||"toVisible"===t)return g(n,e)}}),Vt("column()",function(t,e){return Me(this.columns(t,e))});var qe=function(e,n,i){var r,o,s,a,u,c,d,h=e.aoData,f=je(e,i),p=de(ue(h,f,"anCells")),g=t([].concat.apply([],p)),m=e.aoColumns.length,v=function(n){var i="function"==typeof n;if(null===n||n===l||i){for(o=[],s=0,a=f.length;a>s;s++)for(r=f[s],u=0;m>u;u++)c={row:r,column:u},i?(d=h[r],n(c,k(e,r,u),d.anCells?d.anCells[u]:null)&&o.push(c)):o.push(c);return o}if(t.isPlainObject(n))return[n];var p=g.filter(n).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray();return p.length||!n.nodeName?p:(d=t(n).closest("*[data-dt-row]"),d.length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[])};return Ae("cell",n,v,e,i)};Vt("cells()",function(e,n,i){if(t.isPlainObject(e)&&(e.row===l?(i=e,e=null):(i=n,n=null)),t.isPlainObject(n)&&(i=n,n=null),null===n||n===l)return this.iterator("table",function(t){return qe(t,e,De(i))});var r,o,s,a,u,c=this.columns(n,i),d=this.rows(e,i),h=this.iterator("table",function(t,e){for(r=[],o=0,s=d[e].length;s>o;o++)for(a=0,u=c[e].length;u>a;a++)r.push({row:d[e][o],column:c[e][a]});return r},1);return t.extend(h.selector,{cols:n,rows:e,opts:i}),h}),Yt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){var i=t.aoData[e];return i&&i.anCells?i.anCells[n]:l},1)}),Vt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return k(t,e,n)},1)}),Yt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,l){return e.aoData[n][t][l]},1)}),Yt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,l){return k(e,n,l,t)},1)}),Yt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:g(t,n)}},1)}),Yt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,l){O(e,n,t,l)})}),Vt("cell()",function(t,e,n){return Me(this.cells(t,e,n))}),Vt("cell().data()",function(t){var e=this.context,n=this[0];return t===l?e.length&&n.length?k(e[0],n[0].row,n[0].column):l:(S(e[0],n[0].row,n[0].column,t),O(e[0],n[0].row,"data",n[0].column),this)}),Vt("order()",function(e,n){var i=this.context;return e===l?0!==i.length?i[0].aaSorting:l:("number"==typeof e?e=[[e,n]]:e.length&&!t.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Vt("order.listener()",function(t,e,n){return this.iterator("table",function(l){Tt(l,t,e,n)})}),Vt("order.fixed()",function(e){if(!e){var n=this.context,i=n.length?n[0].aaSortingFixed:l;return t.isArray(i)?{pre:i}:i}return this.iterator("table",function(n){n.aaSortingFixed=t.extend(!0,{},e)})}),Vt(["columns().order()","column().order()"],function(e){var n=this;return this.iterator("table",function(l,i){var r=[];t.each(n[i],function(t,n){r.push([n,e])}),l.aaSorting=r})}),Vt("search()",function(e,n,i,r){var o=this.context;return e===l?0!==o.length?o[0].oPreviousSearch.sSearch:l:this.iterator("table",function(l){l.oFeatures.bFilter&&G(l,t.extend({},l.oPreviousSearch,{sSearch:e+"",bRegex:null===n?!1:n,bSmart:null===i?!0:i,bCaseInsensitive:null===r?!0:r}),1)})}),Yt("columns().search()","column().search()",function(e,n,i,r){return this.iterator("column",function(o,s){var a=o.aoPreSearchCols;return e===l?a[s].sSearch:void(o.oFeatures.bFilter&&(t.extend(a[s],{sSearch:e+"",bRegex:null===n?!1:n,bSmart:null===i?!0:i,bCaseInsensitive:null===r?!0:r}),G(o,o.oPreviousSearch,1)))})}),Vt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Vt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Vt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Vt("state.save()",function(){return this.iterator("table",function(t){Mt(t)})}),Xt.versionCheck=Xt.fnVersionCheck=function(t){for(var e,n,l=Xt.version.split("."),i=t.split("."),r=0,o=i.length;o>r;r++)if(e=parseInt(l[r],10)||0,n=parseInt(i[r],10)||0,e!==n)return e>n;return!0},Xt.isDataTable=Xt.fnIsDataTable=function(e){var n=t(e).get(0),l=!1;return t.each(Xt.settings,function(e,i){var r=i.nScrollHead?t("table",i.nScrollHead)[0]:null,o=i.nScrollFoot?t("table",i.nScrollFoot)[0]:null;i.nTable!==n&&r!==n&&o!==n||(l=!0)}),l},Xt.tables=Xt.fnTables=function(e){var n=!1;t.isPlainObject(e)&&(n=e.api,e=e.visible);var l=t.map(Xt.settings,function(n){return!e||e&&t(n.nTable).is(":visible")?n.nTable:void 0});return n?new Wt(l):l},Xt.camelToHungarian=r,Vt("$()",function(e,n){var l=this.rows(n).nodes(),i=t(l);return t([].concat(i.filter(e).toArray(),i.find(e).toArray()))}),t.each(["on","one","off"],function(e,n){Vt(n+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var l=t(this.tables().nodes());return l[n].apply(l,e),this})}),Vt("clear()",function(){return this.iterator("table",function(t){j(t)})}),Vt("settings()",function(){return new Wt(this.context,this.context)}),Vt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Vt("data()",function(){return this.iterator("table",function(t){return ae(t.aoData,"_aData")}).flatten()}),Vt("destroy()",function(n){return n=n||!1,this.iterator("table",function(l){var i,r=l.nTableWrapper.parentNode,o=l.oClasses,s=l.nTable,a=l.nTBody,u=l.nTHead,c=l.nTFoot,d=t(s),h=t(a),f=t(l.nTableWrapper),p=t.map(l.aoData,function(t){return t.nTr});l.bDestroying=!0,Nt(l,"aoDestroyCallback","destroy",[l]),n||new Wt(l).columns().visible(!0),f.unbind(".DT").find(":not(tbody *)").unbind(".DT"),t(e).unbind(".DT-"+l.sInstance),s!=u.parentNode&&(d.children("thead").detach(),d.append(u)),c&&s!=c.parentNode&&(d.children("tfoot").detach(),d.append(c)),l.aaSorting=[],l.aaSortingFixed=[],At(l),t(p).removeClass(l.asStripeClasses.join(" ")),t("th, td",u).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),l.bJUI&&(t("th span."+o.sSortIcon+", td span."+o.sSortIcon,u).detach(),t("th, td",u).each(function(){var e=t("div."+o.sSortJUIWrapper,this);t(this).append(e.contents()),e.detach()})),h.children().detach(),h.append(p);var g=n?"remove":"detach";d[g](),f[g](),!n&&r&&(r.insertBefore(s,l.nTableReinsertBefore),d.css("width",l.sDestroyWidth).removeClass(o.sTable),i=l.asDestroyStripes.length,i&&h.children().each(function(e){t(this).addClass(l.asDestroyStripes[e%i])}));var m=t.inArray(l,Xt.settings);-1!==m&&Xt.settings.splice(m,1)})}),t.each(["column","row","cell"],function(t,e){Vt(e+"s().every()",function(t){var n=this.selector.opts,i=this;return this.iterator(e,function(r,o,s,a,u){t.call(i[e](o,"cell"===e?s:n,"cell"===e?n:l),o,s,a,u)})})}),Vt("i18n()",function(e,n,i){var r=this.context[0],o=A(e)(r.oLanguage);return o===l&&(o=n),i!==l&&t.isPlainObject(o)&&(o=o[i]!==l?o[i]:o._),o.replace("%d",i)}),Xt.version="1.10.12",Xt.settings=[],Xt.models={},Xt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Xt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Xt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Xt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Xt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},i(Xt.defaults),Xt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},i(Xt.defaults.column),Xt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:l,oAjaxData:l,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Rt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Rt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,l=this.aiDisplay.length,i=this.oFeatures,r=i.bPaginate;return i.bServerSide?r===!1||-1===t?e+l:Math.min(e+t,this._iRecordsDisplay):!r||n>l||-1===t?l:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Xt.ext=Ut={buttons:{},classes:{},build:"dt/dt-1.10.12,b-1.2.1,b-html5-1.2.1",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Xt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Xt.version},t.extend(Ut,{afnFiltering:Ut.search,aTypes:Ut.type.detect,ofnSearch:Ut.type.search,oSort:Ut.type.order,afnSortData:Ut.order,aoFeatures:Ut.feature,oApi:Ut.internal,oStdClasses:Ut.classes,oPagination:Ut.pager}),t.extend(Xt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var n=e+"ui-state-default",l=e+"css_right ui-icon ui-icon-",i=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";t.extend(Xt.ext.oJUIClasses,Xt.ext.classes,{sPageButton:"fg-button ui-button "+n,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:n+" sorting_asc",sSortDesc:n+" sorting_desc",sSortable:n+" sorting",sSortableAsc:n+" sorting_asc_disabled",sSortableDesc:n+" sorting_desc_disabled",sSortableNone:n+" sorting_disabled",sSortJUIAsc:l+"triangle-1-n",sSortJUIDesc:l+"triangle-1-s",sSortJUI:l+"carat-2-n-s",sSortJUIAscAllowed:l+"carat-1-n",sSortJUIDescAllowed:l+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+n,sScrollFoot:"dataTables_scrollFoot "+n,sHeaderTH:n,sFooterTH:n,sJUIHeader:i+" ui-corner-tl ui-corner-tr",sJUIFooter:i+" ui-corner-bl ui-corner-br"})}();var Ue=Xt.ext.pager;t.extend(Ue,{simple:function(){return["previous","next"]},full:function(){
return["first","previous","next","last"]},numbers:function(t,e){return[zt(t,e)]},simple_numbers:function(t,e){return["previous",zt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",zt(t,e),"next","last"]},_numbers:zt,numbers_length:7}),t.extend(!0,Xt.ext.renderer,{pageButton:{_:function(e,l,i,r,o,s){var a,u,c,d=e.oClasses,h=e.oLanguage.oPaginate,f=e.oLanguage.oAria.paginate||{},p=0,g=function(n,l){var r,c,m,v,y=function(t){dt(e,t.data.action,!0)};for(r=0,c=l.length;c>r;r++)if(v=l[r],t.isArray(v)){var b=t("<"+(v.DT_el||"div")+"/>").appendTo(n);g(b,v)}else{switch(a=null,u="",v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":a=h.sFirst,u=v+(o>0?"":" "+d.sPageButtonDisabled);break;case"previous":a=h.sPrevious,u=v+(o>0?"":" "+d.sPageButtonDisabled);break;case"next":a=h.sNext,u=v+(s-1>o?"":" "+d.sPageButtonDisabled);break;case"last":a=h.sLast,u=v+(s-1>o?"":" "+d.sPageButtonDisabled);break;default:a=v+1,u=o===v?d.sPageButtonActive:""}null!==a&&(m=t("<a>",{"class":d.sPageButton+" "+u,"aria-controls":e.sTableId,"aria-label":f[v],"data-dt-idx":p,tabindex:e.iTabIndex,id:0===i&&"string"==typeof v?e.sTableId+"_"+v:null}).html(a).appendTo(n),Ft(m,{action:v},y),p++)}};try{c=t(l).find(n.activeElement).data("dt-idx")}catch(m){}g(t(l).empty(),r),c&&t(l).find("[data-dt-idx="+c+"]").focus()}}}),t.extend(Xt.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return re(t,n)?"num"+n:null},function(t){if(t&&!(t instanceof Date)&&(!Jt.test(t)||!Qt.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||ne(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return re(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return se(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return se(t,n,!0)?"html-num-fmt"+n:null},function(t){return ne(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(Xt.ext.type.search,{html:function(t){return ne(t)?t:"string"==typeof t?t.replace(Zt," ").replace(Kt,""):""},string:function(t){return ne(t)?t:"string"==typeof t?t.replace(Zt," "):t}});var We=function(t,e,n,l){return 0===t||t&&"-"!==t?(e&&(t=ie(t,e)),t.replace&&(n&&(t=t.replace(n,"")),l&&(t=t.replace(l,""))),1*t):-(1/0)};t.extend(Ut.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return ne(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return ne(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return e>t?-1:t>e?1:0},"string-desc":function(t,e){return e>t?1:t>e?-1:0}}),Ht(""),t.extend(!0,Xt.ext.renderer,{header:{_:function(e,n,l,i){t(e.nTable).on("order.dt.DT",function(t,r,o,s){if(e===r){var a=l.idx;n.removeClass(l.sSortingClass+" "+i.sSortAsc+" "+i.sSortDesc).addClass("asc"==s[a]?i.sSortAsc:"desc"==s[a]?i.sSortDesc:l.sSortingClass)}})},jqueryui:function(e,n,l,i){t("<div/>").addClass(i.sSortJUIWrapper).append(n.contents()).append(t("<span/>").addClass(i.sSortIcon+" "+l.sSortingClassJUI)).appendTo(n),t(e.nTable).on("order.dt.DT",function(t,r,o,s){if(e===r){var a=l.idx;n.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass("asc"==s[a]?i.sSortAsc:"desc"==s[a]?i.sSortDesc:l.sSortingClass),n.find("span."+i.sSortIcon).removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed).addClass("asc"==s[a]?i.sSortJUIAsc:"desc"==s[a]?i.sSortJUIDesc:l.sSortingClassJUI)}})}}});var Ve=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Xt.render={number:function(t,e,n,l,i){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var o=0>r?"-":"",s=parseFloat(r);if(isNaN(s))return Ve(r);r=Math.abs(s);var a=parseInt(r,10),u=n?e+(r-a).toFixed(n).substring(2):"";return o+(l||"")+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+u+(i||"")}}},text:function(){return{display:Ve}}},t.extend(Xt.ext.internal,{_fnExternApiFunc:qt,_fnBuildAjax:q,_fnAjaxUpdate:U,_fnAjaxParameters:W,_fnAjaxUpdateDraw:V,_fnAjaxDataSrc:Y,_fnAddColumn:d,_fnColumnOptions:h,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:i,_fnCamelToHungarian:r,_fnLanguageCompat:o,_fnBrowserDetect:u,_fnAddData:w,_fnAddTr:x,_fnNodeToDataIndex:_,_fnNodeToColumnIndex:C,_fnGetCellData:k,_fnSetCellData:S,_fnSplitObjNotation:T,_fnGetObjectDataFn:A,_fnSetObjectDataFn:D,_fnGetDataMaster:M,_fnClearTable:j,_fnDeleteIndex:E,_fnInvalidate:O,_fnGetRowElements:I,_fnCreateTr:$,_fnBuildHead:P,_fnDrawHead:N,_fnDraw:L,_fnReDraw:B,_fnAddOptionsHtml:R,_fnDetectHeader:z,_fnGetUniqueThs:H,_fnFeatureHtmlFilter:X,_fnFilterComplete:G,_fnFilterCustom:Z,_fnFilterColumn:K,_fnFilter:J,_fnFilterCreateSearch:Q,_fnEscapeRegex:ve,_fnFilterData:tt,_fnFeatureHtmlInfo:lt,_fnUpdateInfo:it,_fnInfoMacros:rt,_fnInitialise:ot,_fnInitComplete:st,_fnLengthChange:at,_fnFeatureHtmlLength:ut,_fnFeatureHtmlPaginate:ct,_fnPageChange:dt,_fnFeatureHtmlProcessing:ht,_fnProcessingDisplay:ft,_fnFeatureHtmlTable:pt,_fnScrollDraw:gt,_fnApplyToChildren:mt,_fnCalculateColumnWidths:vt,_fnThrottle:xe,_fnConvertToWidth:yt,_fnGetWidestNode:bt,_fnGetMaxLenString:wt,_fnStringToCss:xt,_fnSortFlatten:_t,_fnSort:Ct,_fnSortAria:kt,_fnSortListener:St,_fnSortAttachListener:Tt,_fnSortingClasses:At,_fnSortData:Dt,_fnSaveState:Mt,_fnLoadState:jt,_fnSettingsFromNode:Et,_fnLog:Ot,_fnMap:It,_fnBindAction:Ft,_fnCallbackReg:Pt,_fnCallbackFire:Nt,_fnLengthOverflow:Lt,_fnRenderer:Bt,_fnDataSource:Rt,_fnRowAttributes:F,_fnCalculateEnd:function(){}}),t.fn.dataTable=Xt,Xt.$=t,t.fn.dataTableSettings=Xt.settings,t.fn.dataTableExt=Xt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Xt,function(e,n){t.fn.DataTable[e]=n}),t.fn.dataTable}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n&&n.fn.dataTable||(n=require("datatables.net")(e,n).$),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n,l){"use strict";var i=t.fn.dataTable,r=0,o=0,s=i.ext.buttons,a=function(e,n){n===!0&&(n={}),t.isArray(n)&&(n={buttons:n}),this.c=t.extend(!0,{},a.defaults,n),n.buttons&&(this.c.buttons=n.buttons),this.s={dt:new i.Api(e),buttons:[],listenKeys:"",namespace:"dtb"+r++},this.dom={container:t("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};t.extend(a.prototype,{action:function(t,e){var n=this._nodeToButton(t);return e===l?n.conf.action:(n.conf.action=e,this)},active:function(e,n){var i=this._nodeToButton(e),r=this.c.dom.button.active,o=t(i.node);return n===l?o.hasClass(r):(o.toggleClass(r,n===l?!0:n),this)},add:function(t,e){var n=this.s.buttons;if("string"==typeof e){for(var l=e.split("-"),i=this.s,r=0,o=l.length-1;o>r;r++)i=i.buttons[1*l[r]];n=i.buttons,e=1*l[l.length-1]}return this._expandButton(n,t,!1,e),this._draw(),this},container:function(){return this.dom.container},disable:function(e){var n=this._nodeToButton(e);return t(n.node).addClass(this.c.dom.button.disabled),this},destroy:function(){t("body").off("keyup."+this.s.namespace);var e,n,l=this.s.buttons.slice();for(e=0,n=l.length;n>e;e++)this.remove(l[e].node);this.dom.container.remove();var i=this.s.dt.settings()[0];for(e=0,n=i.length;n>e;e++)if(i.inst===this){i.splice(e,1);break}return this},enable:function(e,n){if(n===!1)return this.disable(e);var l=this._nodeToButton(e);return t(l.node).removeClass(this.c.dom.button.disabled),this},name:function(){return this.c.name},node:function(e){var n=this._nodeToButton(e);return t(n.node)},remove:function(e){var n=this._nodeToButton(e),l=this._nodeToHost(e),i=this.s.dt;if(n.buttons.length)for(var r=n.buttons.length-1;r>=0;r--)this.remove(n.buttons[r].node);n.conf.destroy&&n.conf.destroy.call(i.button(e),i,t(e),n.conf),this._removeKey(n.conf),t(n.node).remove();var o=t.inArray(n,l);return l.splice(o,1),this},text:function(e,n){var i=this._nodeToButton(e),r=this.c.dom.collection.buttonLiner,o=i.inCollection&&r&&r.tag?r.tag:this.c.dom.buttonLiner.tag,s=this.s.dt,a=t(i.node),u=function(t){return"function"==typeof t?t(s,a,i.conf):t};return n===l?u(i.conf.text):(i.conf.text=n,o?a.children(o).html(u(n)):a.html(u(n)),this)},_constructor:function(){var e=this,l=this.s.dt,i=l.settings()[0],r=this.c.buttons;i._buttons||(i._buttons=[]),i._buttons.push({inst:this,name:this.c.name});for(var o=0,s=r.length;s>o;o++)this.add(r[o]);l.on("destroy",function(){e.destroy()}),t("body").on("keyup."+this.s.namespace,function(t){if(!n.activeElement||n.activeElement===n.body){var l=String.fromCharCode(t.keyCode).toLowerCase();-1!==e.s.listenKeys.toLowerCase().indexOf(l)&&e._keypress(l,t)}})},_addKey:function(e){e.key&&(this.s.listenKeys+=t.isPlainObject(e.key)?e.key.key:e.key)},_draw:function(t,e){t||(t=this.dom.container,e=this.s.buttons),t.children().detach();for(var n=0,l=e.length;l>n;n++)t.append(e[n].inserter),e[n].buttons&&e[n].buttons.length&&this._draw(e[n].collection,e[n].buttons)},_expandButton:function(e,n,i,r){for(var o=this.s.dt,s=0,a=t.isArray(n)?n:[n],u=0,c=a.length;c>u;u++){var d=this._resolveExtends(a[u]);if(d)if(t.isArray(d))this._expandButton(e,d,i,r);else{var h=this._buildButton(d,i);if(h){if(r!==l?(e.splice(r,0,h),r++):e.push(h),h.conf.buttons){var f=this.c.dom.collection;h.collection=t("<"+f.tag+"/>").addClass(f.className),h.conf._collection=h.collection,this._expandButton(h.buttons,h.conf.buttons,!0,r)}d.init&&d.init.call(o.button(h.node),o,t(h.node),d),s++}}}},_buildButton:function(e,n){var l=this.c.dom.button,i=this.c.dom.buttonLiner,r=this.c.dom.collection,s=this.s.dt,a=function(t){return"function"==typeof t?t(s,c,e):t};if(n&&r.button&&(l=r.button),n&&r.buttonLiner&&(i=r.buttonLiner),e.available&&!e.available(s,e))return!1;var u=function(e,n,l,i){i.action.call(n.button(l),e,n,l,i),t(n.table().node()).triggerHandler("buttons-action.dt",[n.button(l),n,l,i])},c=t("<"+l.tag+"/>").addClass(l.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(t){t.preventDefault(),!c.hasClass(l.disabled)&&e.action&&u(t,s,c,e),c.blur()}).on("keyup.dtb",function(t){13===t.keyCode&&!c.hasClass(l.disabled)&&e.action&&u(t,s,c,e)});if("a"===l.tag.toLowerCase()&&c.attr("href","#"),i.tag){var d=t("<"+i.tag+"/>").html(a(e.text)).addClass(i.className);"a"===i.tag.toLowerCase()&&d.attr("href","#"),c.append(d)}else c.html(a(e.text));e.enabled===!1&&c.addClass(l.disabled),e.className&&c.addClass(e.className),e.titleAttr&&c.attr("title",e.titleAttr),e.namespace||(e.namespace=".dt-button-"+o++);var h,f=this.c.dom.buttonContainer;return h=f&&f.tag?t("<"+f.tag+"/>").addClass(f.className).append(c):c,this._addKey(e),{conf:e,node:c.get(0),inserter:h,buttons:[],inCollection:n,collection:null}},_nodeToButton:function(t,e){e||(e=this.s.buttons);for(var n=0,l=e.length;l>n;n++){if(e[n].node===t)return e[n];if(e[n].buttons.length){var i=this._nodeToButton(t,e[n].buttons);if(i)return i}}},_nodeToHost:function(t,e){e||(e=this.s.buttons);for(var n=0,l=e.length;l>n;n++){if(e[n].node===t)return e;if(e[n].buttons.length){var i=this._nodeToHost(t,e[n].buttons);if(i)return i}}},_keypress:function(e,n){var l=function(l,i){if(l.key)if(l.key===e)t(i).click();else if(t.isPlainObject(l.key)){if(l.key.key!==e)return;if(l.key.shiftKey&&!n.shiftKey)return;if(l.key.altKey&&!n.altKey)return;if(l.key.ctrlKey&&!n.ctrlKey)return;if(l.key.metaKey&&!n.metaKey)return;t(i).click()}},i=function(t){for(var e=0,n=t.length;n>e;e++)l(t[e].conf,t[e].node),t[e].buttons.length&&i(t[e].buttons)};i(this.s.buttons)},_removeKey:function(e){if(e.key){var n=t.isPlainObject(e.key)?e.key.key:e.key,l=this.s.listenKeys.split(""),i=t.inArray(n,l);l.splice(i,1),this.s.listenKeys=l.join("")}},_resolveExtends:function(e){var n,i,r=this.s.dt,o=function(n){for(var i=0;!t.isPlainObject(n)&&!t.isArray(n);){if(n===l)return;if("function"==typeof n){if(n=n(r,e),!n)return!1}else if("string"==typeof n){if(!s[n])throw"Unknown button type: "+n;n=s[n]}if(i++,i>30)throw"Buttons: Too many iterations"}return t.isArray(n)?n:t.extend({},n)};for(e=o(e);e&&e.extend;){if(!s[e.extend])throw"Cannot extend unknown button type: "+e.extend;var a=o(s[e.extend]);if(t.isArray(a))return a;if(!a)return!1;var u=a.className;e=t.extend({},a,e),u&&e.className!==u&&(e.className=u+" "+e.className);var c=e.postfixButtons;if(c){for(e.buttons||(e.buttons=[]),n=0,i=c.length;i>n;n++)e.buttons.push(c[n]);e.postfixButtons=null}var d=e.prefixButtons;if(d){for(e.buttons||(e.buttons=[]),n=0,i=d.length;i>n;n++)e.buttons.splice(n,0,d[n]);e.prefixButtons=null}e.extend=a.extend}return e}}),a.background=function(e,n,i){i===l&&(i=400),e?t("<div/>").addClass(n).css("display","none").appendTo("body").fadeIn(i):t("body > div."+n).fadeOut(i,function(){t(this).remove()})},a.instanceSelector=function(e,n){if(!e)return t.map(n,function(t){return t.inst});var l=[],i=t.map(n,function(t){return t.name}),r=function(e){if(t.isArray(e))for(var o=0,s=e.length;s>o;o++)r(e[o]);else if("string"==typeof e)if(-1!==e.indexOf(","))r(e.split(","));else{var a=t.inArray(t.trim(e),i);-1!==a&&l.push(n[a].inst)}else"number"==typeof e&&l.push(n[e].inst)};return r(e),l},a.buttonSelector=function(e,n){for(var i=[],r=function(t,e,n){for(var i,o,s=0,a=e.length;a>s;s++)i=e[s],i&&(o=n!==l?n+s:s+"",t.push({node:i.node,name:i.conf.name,idx:o}),i.buttons&&r(t,i.buttons,o+"-"))},o=function(e,n){var s,a,u=[];r(u,n.s.buttons);var c=t.map(u,function(t){return t.node});if(t.isArray(e)||e instanceof t)for(s=0,a=e.length;a>s;s++)o(e[s],n);else if(null===e||e===l||"*"===e)for(s=0,a=u.length;a>s;s++)i.push({inst:n,node:u[s].node});else if("number"==typeof e)i.push({inst:n,node:n.s.buttons[e].node});else if("string"==typeof e)if(-1!==e.indexOf(",")){var d=e.split(",");for(s=0,a=d.length;a>s;s++)o(t.trim(d[s]),n)}else if(e.match(/^\d+(\-\d+)*$/)){var h=t.map(u,function(t){return t.idx});i.push({inst:n,node:u[t.inArray(e,h)].node})}else if(-1!==e.indexOf(":name")){var f=e.replace(":name","");for(s=0,a=u.length;a>s;s++)u[s].name===f&&i.push({inst:n,node:u[s].node})}else t(c).filter(e).each(function(){i.push({inst:n,node:this})});else if("object"==typeof e&&e.nodeName){var p=t.inArray(e,c);-1!==p&&i.push({inst:n,node:c[p]})}},s=0,a=e.length;a>s;s++){var u=e[s];o(n,u)}return i},a.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:"dt-button-collection"},button:{tag:"a",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},a.version="1.2.1",t.extend(s,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",action:function(n,l,i,r){var o=i,s=o.offset(),u=t(l.table().container()),c=!1;t("div.dt-button-background").length&&(c=t("div.dt-button-collection").offset(),t("body").trigger("click.dtb-collection")),r._collection.addClass(r.collectionLayout).css("display","none").appendTo("body").fadeIn(r.fade);var d=r._collection.css("position");if(c&&"absolute"===d)r._collection.css({top:c.top+5,left:c.left+5});else if("absolute"===d){r._collection.css({top:s.top+o.outerHeight(),left:s.left});var h=s.left+r._collection.outerWidth(),f=u.offset().left+u.width();h>f&&r._collection.css("left",s.left-(h-f))}else{var p=r._collection.height()/2;p>t(e).height()/2&&(p=t(e).height()/2),r._collection.css("marginTop",-1*p)}r.background&&a.background(!0,r.backgroundClassName,r.fade),setTimeout(function(){t("div.dt-button-background").on("click.dtb-collection",function(){}),t("body").on("click.dtb-collection",function(e){t(e.target).parents().andSelf().filter(r._collection).length||(r._collection.fadeOut(r.fade,function(){r._collection.detach()}),t("div.dt-button-background").off("click.dtb-collection"),a.background(!1,r.backgroundClassName,r.fade),t("body").off("click.dtb-collection"),l.off("buttons-action.b-internal"))})},10),r.autoClose&&l.on("buttons-action.b-internal",function(){t("div.dt-button-background").click()})},background:!0,collectionLayout:"",backgroundClassName:"dt-button-background",autoClose:!1,fade:400},copy:function(t,e){return s.copyHtml5?"copyHtml5":s.copyFlash&&s.copyFlash.available(t,e)?"copyFlash":void 0},csv:function(t,e){return s.csvHtml5&&s.csvHtml5.available(t,e)?"csvHtml5":s.csvFlash&&s.csvFlash.available(t,e)?"csvFlash":void 0},excel:function(t,e){return s.excelHtml5&&s.excelHtml5.available(t,e)?"excelHtml5":s.excelFlash&&s.excelFlash.available(t,e)?"excelFlash":void 0},pdf:function(t,e){return s.pdfHtml5&&s.pdfHtml5.available(t,e)?"pdfHtml5":s.pdfFlash&&s.pdfFlash.available(t,e)?"pdfFlash":void 0},pageLength:function(e){var n=e.settings()[0].aLengthMenu,l=t.isArray(n[0])?n[0]:n,i=t.isArray(n[0])?n[1]:n,r=function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())};return{extend:"collection",text:r,className:"buttons-page-length",autoClose:!0,buttons:t.map(l,function(t,e){return{text:i[e],action:function(e,n){n.page.len(t).draw()},init:function(e,n,l){var i=this,r=function(){i.active(e.page.len()===t)};e.on("length.dt"+l.namespace,r),r()},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}}),init:function(t,e,n){var l=this;t.on("length.dt"+n.namespace,function(){l.text(r(t))})},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}}}),i.Api.register("buttons()",function(t,e){return e===l&&(e=t,t=l),this.iterator(!0,"table",function(n){return n._buttons?a.buttonSelector(a.instanceSelector(t,n._buttons),e):void 0},!0)}),i.Api.register("button()",function(t,e){var n=this.buttons(t,e);return n.length>1&&n.splice(1,n.length),n}),i.Api.registerPlural("buttons().active()","button().active()",function(t){return t===l?this.map(function(t){return t.inst.active(t.node)}):this.each(function(e){e.inst.active(e.node,t)})}),i.Api.registerPlural("buttons().action()","button().action()",function(t){return t===l?this.map(function(t){return t.inst.action(t.node)}):this.each(function(e){e.inst.action(e.node,t)})}),i.Api.register(["buttons().enable()","button().enable()"],function(t){return this.each(function(e){e.inst.enable(e.node,t)})}),i.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(t){t.inst.disable(t.node)})}),i.Api.registerPlural("buttons().nodes()","button().node()",function(){var e=t();return t(this.each(function(t){e=e.add(t.inst.node(t.node))})),e}),i.Api.registerPlural("buttons().text()","button().text()",function(t){return t===l?this.map(function(t){return t.inst.text(t.node)}):this.each(function(e){e.inst.text(e.node,t)})}),i.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(t){t.inst.node(t.node).trigger("click")})}),i.Api.registerPlural("buttons().containers()","buttons().container()",function(){var e=t();return t(this.each(function(t){e=e.add(t.inst.container())})),e}),i.Api.register("button().add()",function(t,e){return 1===this.length&&this[0].inst.add(e,t),this.button(t)}),i.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(t){t.destroy()}),this}),i.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(t){t.inst.remove(t.node)}),this});var u;i.Api.register("buttons.info()",function(e,n,i){var r=this;return e===!1?(t("#datatables_buttons_info").fadeOut(function(){t(this).remove()}),clearTimeout(u),u=null,this):(u&&clearTimeout(u),t("#datatables_buttons_info").length&&t("#datatables_buttons_info").remove(),e=e?"<h2>"+e+"</h2>":"",t('<div id="datatables_buttons_info" class="dt-button-info"/>').html(e).append(t("<div/>")["string"==typeof n?"html":"append"](n)).css("display","none").appendTo("body").fadeIn(),i!==l&&0!==i&&(u=setTimeout(function(){r.buttons.info(!1)},i)),this)}),i.Api.register("buttons.exportData()",function(t){return this.context.length?d(new i.Api(this.context[0]),t):void 0});var c=t("<textarea/>")[0],d=function(e,n){for(var l=t.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return i(t)},footer:function(t){return i(t)},body:function(t){return i(t)}}},n),i=function(t){return"string"!=typeof t?t:(l.stripHtml&&(t=t.replace(/<[^>]*>/g,"")),l.trim&&(t=t.replace(/^\s+|\s+$/g,"")),l.stripNewlines&&(t=t.replace(/\n/g," ")),l.decodeEntities&&(c.innerHTML=t,t=c.value),t)},r=e.columns(l.columns).indexes().map(function(t){return l.format.header(e.column(t).header().innerHTML,t)}).toArray(),o=e.table().footer()?e.columns(l.columns).indexes().map(function(t){var n=e.column(t).footer();return l.format.footer(n?n.innerHTML:"",t)}).toArray():null,s=e.rows(l.rows,l.modifier).indexes().toArray(),a=e.cells(s,l.columns).render(l.orthogonal).toArray(),u=r.length,d=u>0?a.length/u:0,h=new Array(d),f=0,p=0,g=d;g>p;p++){for(var m=new Array(u),v=0;u>v;v++)m[v]=l.format.body(a[f],v,p),f++;h[p]=m}return{header:r,footer:o,body:h}};return t.fn.dataTable.Buttons=a,t.fn.DataTable.Buttons=a,t(n).on("init.dt plugin-init.dt",function(t,e){if("dt"===t.namespace){var n=e.oInit.buttons||i.defaults.buttons;n&&!e._buttons&&new a(e,n).container()}}),i.ext.feature.push({fnInit:function(t){var e=new i.Api(t),n=e.init().buttons||i.defaults.buttons;return new a(e,n).container()},cFeature:"B"}),a}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n,l,i){return e||(e=window),n&&n.fn.dataTable||(n=require("datatables.net")(e,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(e,n),t(n,e,e.document,l,i)}:t(jQuery,window,document)}(function(t,e,n,l,i,r){"use strict";function o(t){for(var e="A".charCodeAt(0),n="Z".charCodeAt(0),l=n-e+1,i="";t>=0;)i=String.fromCharCode(t%l+e)+i,t=Math.floor(t/l)-1;return i}function s(e,n){y===r&&(y=-1===b.serializeToString(t.parseXML(x["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r")),t.each(n,function(n,l){if(t.isPlainObject(l)){var i=e.folder(n);s(i,l)}else{if(y){var r,o,a=l.childNodes[0],u=[];for(r=a.attributes.length-1;r>=0;r--){var c=a.attributes[r].nodeName,d=a.attributes[r].nodeValue;-1!==c.indexOf(":")&&(u.push({name:c,value:d}),a.removeAttribute(c))}for(r=0,o=u.length;o>r;r++){var h=l.createAttribute(u[r].name.replace(":","_dt_b_namespace_token_"));h.value=u[r].value,a.setAttributeNode(h)}}var f=b.serializeToString(l);y&&(-1===f.indexOf("<?xml")&&(f='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+f),f=f.replace(/_dt_b_namespace_token_/g,":")),f=f.replace(/<row xmlns="" /g,"<row ").replace(/<cols xmlns="">/g,"<cols>"),e.file(n,f)}})}function a(e,n,l){var i=e.createElement(n);return l&&(l.attr&&t(i).attr(l.attr),l.children&&t.each(l.children,function(t,e){i.appendChild(e)}),l.text&&i.appendChild(e.createTextNode(l.text))),i}function u(t,e){var n,l=t.header[e].length;t.footer&&t.footer[e].length>l&&(l=t.footer[e].length);for(var i=0,r=t.body.length;r>i&&(n=t.body[i][e].toString().length,n>l&&(l=n),!(l>40));i++);return l>5?l:5}var c=t.fn.dataTable;l===r&&(l=e.JSZip),i===r&&(i=e.pdfMake);var d=function(t){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},l=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in l,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),a=t.webkitRequestFileSystem,u=t.requestFileSystem||a||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},d="application/octet-stream",h=0,f=4e4,p=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,f)},g=function(t,e,n){e=[].concat(e);for(var l=e.length;l--;){var i=t["on"+e[l]];if("function"==typeof i)try{i.call(t,n||t)}catch(r){c(r)}}},m=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},v=function(e,c,f){f||(e=m(e));var v,y,b,w=this,x=e.type,_=!1,C=function(){g(w,"writestart progress write writeend".split(" "))},k=function(){if(y&&s&&"undefined"!=typeof FileReader){var l=new FileReader;return l.onloadend=function(){var t=l.result;y.location.href="data:attachment/file"+t.slice(t.search(/[,;]/)),w.readyState=w.DONE,C()},l.readAsDataURL(e),void(w.readyState=w.INIT)}if(!_&&v||(v=n().createObjectURL(e)),y)y.location.href=v;else{var i=t.open(v,"_blank");i===r&&s&&(t.location.href=v)}w.readyState=w.DONE,C(),p(v)},S=function(t){return function(){return w.readyState!==w.DONE?t.apply(this,arguments):void 0}},T={create:!0,exclusive:!1};return w.readyState=w.INIT,c||(c="download"),i?(v=n().createObjectURL(e),void setTimeout(function(){l.href=v,l.download=c,o(l),C(),p(v),w.readyState=w.DONE})):(t.chrome&&x&&x!==d&&(b=e.slice||e.webkitSlice,e=b.call(e,0,e.size,d),_=!0),a&&"download"!==c&&(c+=".download"),(x===d||a)&&(y=t),u?(h+=e.size,void u(t.TEMPORARY,h,S(function(t){t.root.getDirectory("saved",T,S(function(t){var n=function(){t.getFile(c,T,S(function(t){t.createWriter(S(function(n){n.onwriteend=function(e){y.location.href=t.toURL(),w.readyState=w.DONE,g(w,"writeend",e),p(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&k()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=w["on"+t]}),n.write(e),w.abort=function(){n.abort(),w.readyState=w.DONE},w.readyState=w.WRITING}),k)}),k)};t.getFile(c,{create:!1},S(function(t){t.remove(),n()}),S(function(t){t.code===t.NOT_FOUND_ERR?n():k()}))}),k)}),k)):void k())},y=v.prototype,b=function(t,e,n){return new v(t,e,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return n||(t=m(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(y.abort=function(){var t=this;t.readyState=t.DONE,g(t,"abort")},y.readyState=y.INIT=0,y.WRITING=1,y.DONE=2,y.error=y.onwritestart=y.onprogress=y.onwrite=y.onabort=y.onerror=y.onwriteend=null,b)}}("undefined"!=typeof self&&self||"undefined"!=typeof e&&e||this.content);c.fileSave=d;var h=function(e,n){var l="*"===e.filename&&"*"!==e.title&&e.title!==r?e.title:e.filename;return"function"==typeof l&&(l=l()),-1!==l.indexOf("*")&&(l=t.trim(l.replace("*",t("title").text()))),l=l.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),n===r||n===!0?l+e.extension:l},f=function(t){var e="Sheet1";return t.sheetName&&(e=t.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),e},p=function(e){var n=e.title;return"function"==typeof n&&(n=n()),-1!==n.indexOf("*")?n.replace("*",t("title").text()||"Exported data"):n},g=function(t){return t.newline?t.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},m=function(t,e){for(var n=g(e),l=t.buttons.exportData(e.exportOptions),i=e.fieldBoundary,o=e.fieldSeparator,s=new RegExp(i,"g"),a=e.escapeChar!==r?e.escapeChar:"\\",u=function(t){for(var e="",n=0,l=t.length;l>n;n++)n>0&&(e+=o),e+=i?i+(""+t[n]).replace(s,a+i)+i:t[n];return e},c=e.header?u(l.header)+n:"",d=e.footer&&l.footer?n+u(l.footer):"",h=[],f=0,p=l.body.length;p>f;f++)h.push(u(l.body[f]));return{str:c+h.join(n)+d,rows:h.length}},v=function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Opera")};try{var y,b=new XMLSerializer}catch(w){}var x={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill/><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="2"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'
};return c.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(t){return t.i18n("buttons.copy","Copy")},action:function(e,l,i,r){var o=m(l,r),s=o.str,a=t("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});r.customize&&(s=r.customize(s,r));var u=t("<textarea readonly/>").val(s).appendTo(a);if(n.queryCommandSupported("copy")){a.appendTo(l.table().container()),u[0].focus(),u[0].select();try{return n.execCommand("copy"),a.remove(),void l.buttons.info(l.i18n("buttons.copyTitle","Copy to clipboard"),l.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},o.rows),2e3)}catch(c){}}var d=t("<span>"+l.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i>\u2318</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(a);l.buttons.info(l.i18n("buttons.copyTitle","Copy to clipboard"),d,0),u[0].focus(),u[0].select();var h=t(d).closest(".dt-button-info"),f=function(){h.off("click.buttons-copy"),t(n).off(".buttons-copy"),l.buttons.info(!1)};h.on("click.buttons-copy",f),t(n).on("keydown.buttons-copy",function(t){27===t.keyCode&&f()}).on("copy.buttons-copy cut.buttons-copy",function(){f()})},exportOptions:{},fieldSeparator:"	",fieldBoundary:"",header:!0,footer:!1},c.ext.buttons.csvHtml5={className:"buttons-csv buttons-html5",available:function(){return e.FileReader!==r&&e.Blob},text:function(t){return t.i18n("buttons.csv","CSV")},action:function(t,e,l,i){var r=m(e,i).str,o=i.charset;i.customize&&(r=i.customize(r,i)),o!==!1?(o||(o=n.characterSet||n.charset),o&&(o=";charset="+o)):o="",d(new Blob([r],{type:"text/csv"+o}),h(i))},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},c.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return e.FileReader!==r&&l!==r&&!v()&&b},text:function(t){return t.i18n("buttons.excel","Excel")},action:function(e,n,i,c){var p,g,m=0,v=function(e){var n=x[e];return t.parseXML(n)},y=v("xl/worksheets/sheet1.xml"),b=y.getElementsByTagName("sheetData")[0],w={_rels:{".rels":v("_rels/.rels")},xl:{_rels:{"workbook.xml.rels":v("xl/_rels/workbook.xml.rels")},"workbook.xml":v("xl/workbook.xml"),"styles.xml":v("xl/styles.xml"),worksheets:{"sheet1.xml":y}},"[Content_Types].xml":v("[Content_Types].xml")},_=n.buttons.exportData(c.exportOptions),C=function(e){p=m+1,g=a(y,"row",{attr:{r:p}});for(var n=0,l=e.length;l>n;n++){var i,s=o(n)+""+p;if(null!==e[n]&&e[n]!==r||(e[n]=""),"number"==typeof e[n]||e[n].match&&t.trim(e[n]).match(/^-?\d+(\.\d+)?$/)&&!t.trim(e[n]).match(/^0\d+/))i=a(y,"c",{attr:{t:"n",r:s},children:[a(y,"v",{text:e[n]})]});else{var u=e[n].replace?e[n].replace(/&(?!amp;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):e[n];i=a(y,"c",{attr:{t:"inlineStr",r:s},children:{row:a(y,"is",{children:{row:a(y,"t",{text:u})}})}})}g.appendChild(i)}b.appendChild(g),m++};t("sheets sheet",w.xl["workbook.xml"]).attr("name",f(c)),c.customizeData&&c.customizeData(_),c.header&&(C(_.header,m),t("row c",y).attr("s","2"));for(var k=0,S=_.body.length;S>k;k++)C(_.body[k],m);c.footer&&_.footer&&(C(_.footer,m),t("row:last c",y).attr("s","2"));var T=a(y,"cols");t("worksheet",y).prepend(T);for(var A=0,D=_.header.length;D>A;A++)T.appendChild(a(y,"col",{attr:{min:A+1,max:A+1,width:u(_,A),customWidth:1}}));c.customize&&c.customize(w);var M=new l,j={type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};s(M,w),M.generateAsync?M.generateAsync(j).then(function(t){d(t,h(c))}):d(M.generate(j),h(c))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1},c.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return e.FileReader!==r&&i},text:function(t){return t.i18n("buttons.pdf","PDF")},action:function(e,n,l,r){var o=(g(r),n.buttons.exportData(r.exportOptions)),s=[];r.header&&s.push(t.map(o.header,function(t){return{text:"string"==typeof t?t:t+"",style:"tableHeader"}}));for(var a=0,u=o.body.length;u>a;a++)s.push(t.map(o.body[a],function(t){return{text:"string"==typeof t?t:t+"",style:a%2?"tableBodyEven":"tableBodyOdd"}}));r.footer&&o.footer&&s.push(t.map(o.footer,function(t){return{text:"string"==typeof t?t:t+"",style:"tableFooter"}}));var c={pageSize:r.pageSize,pageOrientation:r.orientation,content:[{table:{headerRows:1,body:s},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}};r.message&&c.content.unshift({text:r.message,style:"message",margin:[0,0,0,12]}),r.title&&c.content.unshift({text:p(r,!1),style:"title",margin:[0,0,0,12]}),r.customize&&r.customize(c,r);var f=i.createPdf(c);"open"!==r.download||v()?f.getBuffer(function(t){var e=new Blob([t],{type:"application/pdf"});d(e,h(r))}):f.open()},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,message:null,customize:null,download:"download"},c.Buttons}),function(t,e,n,l){"function"==typeof define&&define.amd?define(function(){return l(t,e,n)}):"object"==typeof exports?module.exports=l:t.ssm=l(t,e,n)}(window,document,void 0,function(t){"use strict";function e(t){this.message=t,this.name="Error"}function n(t){this.id=t.id||o(),this.query=t.query||"",delete t.id,delete t.query;var e={onEnter:[],onLeave:[],onResize:[],onFirstRun:[]};return this.options=r(e,t),"function"==typeof this.options.onEnter&&(this.options.onEnter=[this.options.onEnter]),"function"==typeof this.options.onLeave&&(this.options.onLeave=[this.options.onLeave]),"function"==typeof this.options.onResize&&(this.options.onResize=[this.options.onResize]),"function"==typeof this.options.onFirstRun&&(this.options.onFirstRun=[this.options.onFirstRun]),this.testConfigOptions("once")===!1?(this.valid=!1,!1):(this.valid=!0,this.active=!1,void this.init())}function l(){this.states=[],this.resizeTimer=null,this.configOptions=[],t.addEventListener("resize",a(this.resizeBrowser.bind(this),u),!0)}function i(t,e,n){for(var l=t.length,i=[],r=0;l>r;r++){var o=t[r];o[e]&&o[e]===n&&i.push(o)}return i}function r(t,e){var n={};for(var l in t)n[l]=t[l];for(var i in e)n[i]=e[i];return n}function o(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;10>n;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function s(t){for(var e=t.length,n=0;e>n;n++)t[n]()}function a(t,e,n){var l;return function(){var i=this,r=arguments,o=function(){l=null,n||t.apply(i,r)},s=n&&!l;clearTimeout(l),l=setTimeout(o,e),s&&t.apply(i,r)}}var u=25,c=function(){};return n.prototype={init:function(){this.test=t.matchMedia(this.query),this.test.matches&&this.testConfigOptions("match")&&this.enterState(),this.listener=function(t){var e=!1;t.matches?this.testConfigOptions("match")&&(this.enterState(),e=!0):(this.leaveState(),e=!0),e&&c()}.bind(this),this.test.addListener(this.listener)},enterState:function(){s(this.options.onFirstRun),s(this.options.onEnter),this.options.onFirstRun=[],this.active=!0},leaveState:function(){s(this.options.onLeave),this.active=!1},resizeState:function(){this.testConfigOptions("resize")&&s(this.options.onResize)},destroy:function(){this.test.removeListener(this.listener)},testConfigOptions:function(t){for(var e=this.configOptions.length,n=0;e>n;n++){var l=this.configOptions[n];if("undefined"!=typeof this.options[l.name]&&l.when===t&&l.test.bind(this)()===!1)return!1}return!0},configOptions:[]},l.prototype={addState:function(t){var e=new n(t);return e.valid&&this.states.push(e),e},addStates:function(t){for(var e=t.length-1;e>=0;e--)this.addState(t[e]);return this},getState:function(t){for(var e=this.states.length-1;e>=0;e--){var n=this.states[e];if(n.id===t)return n}},isActive:function(t){var e=this.getState(t)||{};return e.active||!1},getStates:function(t){var e=null,n=[];if("undefined"==typeof t)return this.states;e=t.length;for(var l=0;e>l;l++)n.push(this.getState(t[l]));return n},removeState:function(t){for(var e=this.states.length-1;e>=0;e--){var n=this.states[e];n.id===t&&(n.destroy(),this.states.splice(e,1))}return this},removeStates:function(t){for(var e=t.length-1;e>=0;e--)this.removeState(t[e]);return this},removeAllStates:function(){for(var t=this.states.length-1;t>=0;t--){var e=this.states[t];e.destroy()}this.states=[]},addConfigOption:function(t){var e={name:"",test:null,when:"resize"};t=r(e,t),""!==t.name&&null!==t.test&&n.prototype.configOptions.push(t)},removeConfigOption:function(t){for(var e=n.prototype.configOptions,l=e.length-1;l>=0;l--)e[l].name===t&&e.splice(l,1);n.prototype.configOptions=e},getConfigOption:function(t){var e=n.prototype.configOptions;if("string"!=typeof t)return e;for(var l=e.length-1;l>=0;l--)if(e[l].name===t)return e[l]},getConfigOptions:function(){return n.prototype.configOptions},resizeBrowser:function(){for(var t=i(this.states,"active",!0),e=t.length,n=0;e>n;n++)t[n].resizeState()},stateChange:function(t){if("function"!=typeof t)throw new e("Not a function");c=t}},new l}),function(t,e,n){"function"==typeof define&&define.amd?define("memorystorage",[],function(){return n()}):"object"==typeof exports?module.exports=n():t[e]=n()}(this,"MemoryStorage",function(){"use strict";function t(i){function r(){var t=Object.keys(o).filter(function(t){return!(t in e)});return t.concat(Object.keys(s))}i=i||"global";var o=l[i];if(o)return o;if(!(this instanceof t))return new t(i);o=l[i]=this;var s={};return Object.defineProperty(o,n,{enumerable:!1,configurable:!0,get:function(){return s}}),Object.defineProperty(o,"id",{enumerable:!0,configurable:!0,get:function(){return i}}),Object.defineProperty(o,"length",{enumerable:!0,configurable:!0,get:function(){return r().length}}),o.getItem=function(t){return t in e?this[n][t]:this[t]},o.setItem=function(t,l){t in e?this[n][t]=l:this[t]=l},o.removeItem=function(t){t in e?delete this[n][t]:delete this[t]},o.key=function(t){var e=r();return t>=0&&t<e.length?e[t]:null},o.clear=function(){for(var t,l=(Object.keys(this).filter(function(t){return!(t in e)})),i=0;t=l[i];i++)t in e||delete this[t];l=Object.keys(this[n]);for(var t,i=0;t=l[i];i++)delete this[n][t]},"undefined"==typeof Proxy?o:new Proxy(o,{ownKeys:function(){return r()}})}var e={clear:1,getItem:1,id:1,key:1,length:1,removeItem:1,setItem:1},n="__memorystorage_cloaked_items__",l={};return t}),!function(t){"use strict";function e(e,n){if(n=n||{},n.worker&&Papa.WORKERS_SUPPORTED){var l=c();return l.userStep=n.step,l.userChunk=n.chunk,l.userComplete=n.complete,l.userError=n.error,n.step=v(n.step),n.chunk=v(n.chunk),n.complete=v(n.complete),n.error=v(n.error),delete n.worker,void l.postMessage({input:e,config:n,workerId:l.id})}var s=null;return"string"==typeof e?s=n.download?new i(n):new o(n):(t.File&&e instanceof File||e instanceof Object)&&(s=new r(n)),s.stream(e)}function n(e,n){function l(){"object"==typeof n&&("string"==typeof n.delimiter&&1==n.delimiter.length&&-1==t.Papa.BAD_DELIMITERS.indexOf(n.delimiter)&&(u=n.delimiter),("boolean"==typeof n.quotes||n.quotes instanceof Array)&&(a=n.quotes),"string"==typeof n.newline&&(c=n.newline))}function i(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function r(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var l=t instanceof Array&&t.length>0,i=!(e[0]instanceof Array);if(l){for(var r=0;r<t.length;r++)r>0&&(n+=u),n+=o(t[r],r);e.length>0&&(n+=c)}for(var s=0;s<e.length;s++){for(var a=l?t.length:e[s].length,d=0;a>d;d++){d>0&&(n+=u);var h=l&&i?t[d]:d;n+=o(e[s][h],d)}s<e.length-1&&(n+=c)}return n}function o(e,n){if("undefined"==typeof e||null===e)return"";e=e.toString().replace(/"/g,'""');var l="boolean"==typeof a&&a||a instanceof Array&&a[n]||s(e,t.Papa.BAD_DELIMITERS)||e.indexOf(u)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1);return l?'"'+e+'"':e}function s(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}var a=!1,u=",",c="\r\n";if(l(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return r(null,e);if("object"==typeof e[0])return r(i(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:i(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),r(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function l(e){function n(t){var e=g(t);e.chunkSize=parseInt(e.chunkSize),this._handle=new s(e),this._handle.streamer=this,this._config=e}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,n.call(this,e),this.parseChunk=function(e){var n=this._partialLine+e;this._partialLine="";var l=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()){var i=l.meta.cursor;this._finished||(this._partialLine=n.substring(i-this._baseIndex),this._baseIndex=i),l&&l.data&&(this._rowCount+=l.data.length);var r=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(b)t.postMessage({results:l,workerId:Papa.WORKER_ID,finished:r});else if(v(this._config.chunk)){if(this._config.chunk(l,this._handle),this._paused)return;l=void 0}return!r||!v(this._config.complete)||l&&l.meta.aborted||this._config.complete(l),r||l&&l.meta.paused||this._nextChunk(),l}},this._sendError=function(e){v(this._config.error)?this._config.error(e):b&&this._config.error&&t.postMessage({workerId:Papa.WORKER_ID,error:e,finished:!1})}}function i(t){function e(t){var e=t.getResponseHeader("Content-Range");return parseInt(e.substr(e.lastIndexOf("/")+1))}t=t||{},t.chunkSize||(t.chunkSize=Papa.RemoteChunkSize),l.call(this,t);var n;b?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(n=new XMLHttpRequest,b||(n.onload=m(this._chunkLoaded,this),n.onerror=m(this._chunkError,this)),n.open("GET",this._input,!b),this._config.step||this._config.chunk){var t=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+t),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(e){this._chunkError(e.message)}b&&0==n.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.step&&!this._config.chunk||this._start>e(n),this.parseChunk(n.responseText)}},this._chunkError=function(t){var e=n.statusText||t;this._sendError(e)}}function r(t){t=t||{},t.chunkSize||(t.chunkSize=Papa.LocalChunkSize),l.call(this,t);var e,n,i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?(e=new FileReader,e.onload=m(this._chunkLoaded,this),e.onerror=m(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=Math.min(this._start+this._config.chunkSize,this._input.size),l=e.readAsText(n.call(this._input,this._start,t),this._config.encoding);i||this._chunkLoaded({target:{result:l}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function o(t){t=t||{},l.call(this,t);var e,n;this.stream=function(t){return e=t,n=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,e=t?n.substr(0,t):n;return n=t?n.substr(t):"",this._finished=!n,this.parseChunk(e)}}}function s(t){function e(){if(w&&h&&(u("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Papa.DefaultDelimiter+"'"),h=!1),t.skipEmptyLines)for(var e=0;e<w.data.length;e++)1==w.data[e].length&&""==w.data[e][0]&&w.data.splice(e--,1);return n()&&l(),i()}function n(){return t.header&&0==b.length}function l(){if(w){for(var t=0;n()&&t<w.data.length;t++)for(var e=0;e<w.data[t].length;e++)b.push(w.data[t][e]);w.data.splice(0,1)}}function i(){if(!w||!t.header&&!t.dynamicTyping)return w;for(var e=0;e<w.data.length;e++){for(var n={},l=0;l<w.data[e].length;l++){if(t.dynamicTyping){var i=w.data[e][l];"true"==i?w.data[e][l]=!0:"false"==i?w.data[e][l]=!1:w.data[e][l]=s(i)}t.header&&(l>=b.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(w.data[e][l])):n[b[l]]=w.data[e][l])}t.header&&(w.data[e]=n,l>b.length?u("FieldMismatch","TooManyFields","Too many fields: expected "+b.length+" fields but parsed "+l,e):l<b.length&&u("FieldMismatch","TooFewFields","Too few fields: expected "+b.length+" fields but parsed "+l,e))}return t.header&&w.meta&&(w.meta.fields=b),w}function r(e){for(var n,l,i,r=[",","	","|",";",Papa.RECORD_SEP,Papa.UNIT_SEP],o=0;o<r.length;o++){var s=r[o],u=0,c=0;i=void 0;for(var d=new a({delimiter:s,preview:10}).parse(e),h=0;h<d.data.length;h++){var f=d.data[h].length;c+=f,"undefined"!=typeof i?f>1&&(u+=Math.abs(f-i),i=f):i=f}c/=d.data.length,("undefined"==typeof l||l>u)&&c>1.99&&(l=u,n=s)}return t.delimiter=n,{successful:!!n,bestDelimiter:n}}function o(t){t=t.substr(0,1048576);var e=t.split("\r");if(1==e.length)return"\n";for(var n=0,l=0;l<e.length;l++)"\n"==e[l][0]&&n++;return n>=e.length/2?"\r\n":"\r"}function s(t){var e=f.test(t);return e?parseFloat(t):t}function u(t,e,n,l){w.errors.push({type:t,code:e,message:n,row:l})}var c,d,h,f=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,p=this,m=0,y=!1,b=[],w={data:[],errors:[],meta:{}};if(v(t.step)){var x=t.step;t.step=function(l){if(w=l,n())e();else{if(e(),0==w.data.length)return;m+=l.data.length,t.preview&&m>t.preview?d.abort():x(w,p)}}}this.parse=function(n,l,i){if(t.newline||(t.newline=o(n)),h=!1,!t.delimiter){var s=r(n);s.successful?t.delimiter=s.bestDelimiter:(h=!0,t.delimiter=Papa.DefaultDelimiter),w.meta.delimiter=t.delimiter}var u=g(t);return t.preview&&t.header&&u.preview++,c=n,d=new a(u),w=d.parse(c,l,i),e(),y?{meta:{paused:!0}}:w||{meta:{paused:!1}}},this.paused=function(){return y},this.pause=function(){y=!0,d.abort(),c=c.substr(d.getCharIndex())},this.resume=function(){y=!1,p.streamer.parseChunk(c)},this.abort=function(){d.abort(),v(t.complete)&&t.complete(w),c=""}}function a(t){t=t||{};var e=t.delimiter,n=t.newline,l=t.comments,i=t.step,r=t.preview,o=t.fastMode;if(("string"!=typeof e||1!=e.length||Papa.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),l===e)throw"Comment character same as delimiter";l===!0?l="#":("string"!=typeof l||Papa.BAD_DELIMITERS.indexOf(l)>-1)&&(l=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var s=0,a=!1;this.parse=function(t,u,c){function d(t){x.push(t),k=s}function h(e){return c?p():(e||(e=t.substr(s)),C.push(e),s=m,d(C),w&&g(),p())}function f(e){s=e,d(C),C=[],D=t.indexOf(n,s)}function p(t){return{data:x,errors:_,meta:{delimiter:e,linebreak:n,aborted:a,truncated:!!t,cursor:k+(u||0)}}}function g(){i(p()),x=[],_=[]}if("string"!=typeof t)throw"Input must be a string";var m=t.length,v=e.length,y=n.length,b=l.length,w="function"==typeof i;s=0;var x=[],_=[],C=[],k=0;if(!t)return p();if(o||o!==!1&&-1===t.indexOf('"')){for(var S=t.split(n),T=0;T<S.length;T++){var C=S[T];if(s+=C.length,T!==S.length-1)s+=n.length;else if(c)return p();if(!l||C.substr(0,b)!=l){if(w){if(x=[],d(C.split(e)),g(),a)return p()}else d(C.split(e));if(r&&T>=r)return x=x.slice(0,r),p(!0)}}return p()}for(var A=t.indexOf(e,s),D=t.indexOf(n,s);;)if('"'!=t[s])if(l&&0===C.length&&t.substr(s,b)===l){if(-1==D)return p();s=D+y,D=t.indexOf(n,s),A=t.indexOf(e,s)}else if(-1!==A&&(D>A||-1===D))C.push(t.substring(s,A)),s=A+v,A=t.indexOf(e,s);else{if(-1===D)break;if(C.push(t.substring(s,D)),f(D+y),w&&(g(),a))return p();if(r&&x.length>=r)return p(!0)}else{var M=s;for(s++;;){var M=t.indexOf('"',M+1);if(-1===M)return c||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:x.length,index:s}),h();if(M===m-1){var j=t.substring(s,M).replace(/""/g,'"');return h(j)}if('"'!=t[M+1]){if(t[M+1]==e){C.push(t.substring(s,M).replace(/""/g,'"')),s=M+1+v,A=t.indexOf(e,s),D=t.indexOf(n,s);break}if(t.substr(M+1,y)===n){if(C.push(t.substring(s,M).replace(/""/g,'"')),f(M+1+y),A=t.indexOf(e,s),w&&(g(),a))return p();if(r&&x.length>=r)return p(!0);break}}else M++}}return h()},this.abort=function(){a=!0},this.getCharIndex=function(){return s}}function u(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}function c(){if(!Papa.WORKERS_SUPPORTED)return!1;if(!w&&null===Papa.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=new t.Worker(Papa.SCRIPT_PATH||y);return e.onmessage=d,e.id=_++,x[e.id]=e,e}function d(t){var e=t.data,n=x[e.workerId],l=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i=function(){l=!0,h(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},r={abort:i,pause:f,resume:f};if(v(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:[e.results.data[o]],errors:e.results.errors,meta:e.results.meta},r),!l);o++);delete e.results}else v(n.userChunk)&&(n.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!l&&h(e.workerId,e.results)}function h(t,e){var n=x[t];v(n.userComplete)&&n.userComplete(e),n.terminate(),delete x[t]}function f(){throw"Not implemented."}function p(e){var n=e.data;if("undefined"==typeof Papa.WORKER_ID&&n&&(Papa.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:Papa.WORKER_ID,results:Papa.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var l=Papa.parse(n.input,n.config);l&&t.postMessage({workerId:Papa.WORKER_ID,results:l,finished:!0})}}function g(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=g(t[n]);return e}function m(t,e){return function(){t.apply(e,arguments)}}function v(t){return"function"==typeof t}var y,b=!t.document,w=!1,x={},_=0;if(t.Papa={},t.Papa.parse=e,t.Papa.unparse=n,t.Papa.RECORD_SEP=String.fromCharCode(30),t.Papa.UNIT_SEP=String.fromCharCode(31),t.Papa.BYTE_ORDER_MARK="\ufeff",t.Papa.BAD_DELIMITERS=["\r","\n",'"',t.Papa.BYTE_ORDER_MARK],t.Papa.WORKERS_SUPPORTED=!!t.Worker,t.Papa.SCRIPT_PATH=null,t.Papa.LocalChunkSize=10485760,t.Papa.RemoteChunkSize=5242880,t.Papa.DefaultDelimiter=",",t.Papa.Parser=a,t.Papa.ParserHandle=s,t.Papa.NetworkStreamer=i,t.Papa.FileStreamer=r,t.Papa.StringStreamer=o,t.jQuery){var C=t.jQuery;C.fn.parse=function(e){function n(){if(0==o.length)return void(v(e.complete)&&e.complete());var t=o[0];if(v(e.before)){var n=e.before(t.file,t.inputElem);if("object"==typeof n){if("abort"==n.action)return void l("AbortError",t.file,t.inputElem,n.reason);if("skip"==n.action)return void i();"object"==typeof n.config&&(t.instanceConfig=C.extend(t.instanceConfig,n.config))}else if("skip"==n)return void i()}var r=t.instanceConfig.complete;t.instanceConfig.complete=function(e){v(r)&&r(e,t.file,t.inputElem),i()},Papa.parse(t.file,t.instanceConfig)}function l(t,n,l,i){v(e.error)&&e.error({name:t},n,l,i)}function i(){o.splice(0,1),n()}var r=e.config||{},o=[];return this.each(function(){var e="INPUT"==C(this).prop("tagName").toUpperCase()&&"file"==C(this).attr("type").toLowerCase()&&t.FileReader;if(!e||!this.files||0==this.files.length)return!0;for(var n=0;n<this.files.length;n++)o.push({file:this.files[n],inputElem:this,instanceConfig:C.extend({},r)})}),n(),this}}b?t.onmessage=p:Papa.WORKERS_SUPPORTED&&(y=u(),document.body?document.addEventListener("DOMContentLoaded",function(){w=!0},!0):w=!0),i.prototype=Object.create(l.prototype),i.prototype.constructor=i,r.prototype=Object.create(l.prototype),r.prototype.constructor=r,o.prototype=Object.create(o.prototype),o.prototype.constructor=o}(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=t.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.submitButton=e.currentTarget,t(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(e){function l(){var l,i;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(l=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler&&!n.settings.debug?(i=n.settings.submitHandler.call(n,n.currentForm,e),l&&l.remove(),void 0!==i?i:!1):!0}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,l()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):l():(n.focusInvalid(),!1)})),n)},valid:function(){var e,n,l;return t(this[0]).is("form")?e=this.validate().form():(l=[],e=!0,n=t(this[0].form).validate(),this.each(function(){e=n.element(this)&&e,e||(l=l.concat(n.errorList))}),n.errorList=l),e},rules:function(e,n){var l,i,r,o,s,a,u=this[0],c="undefined"!=typeof this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=u&&(!u.form&&c&&(u.form=this.closest("form")[0],u.name=this.attr("name")),null!=u.form)){if(e)switch(l=t.data(u.form,"validator").settings,i=l.rules,r=t.validator.staticRules(u),e){case"add":t.extend(r,t.validator.normalizeRule(n)),delete r.messages,i[u.name]=r,n.messages&&(l.messages[u.name]=t.extend(l.messages[u.name],n.messages));break;case"remove":return n?(a={},t.each(n.split(/\s/),function(t,e){a[e]=r[e],delete r[e]}),a):(delete i[u.name],r)}return o=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u),o.required&&(s=o.required,delete o.required,o=t.extend({required:s},o)),o.remote&&(s=o.remote,delete o.remote,o=t.extend(o,{remote:s})),o}}}),t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var n=t(e).val();return null!==n&&!!t.trim(""+n)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:void 0===n?e:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,n){var l=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(e)||-1!==t.inArray(n.keyCode,l)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,l){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(l):t(e).addClass(n).removeClass(l)},unhighlight:function(e,n,l){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(l):t(e).removeClass(n).addClass(l)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n="undefined"!=typeof t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable");if(!this.form&&n&&(this.form=t(this).closest("form")[0],this.name=t(this).attr("name")),l===this.form){var i=t.data(this.form,"validator"),r="on"+e.type.replace(/^validate/,""),o=i.settings;o[r]&&!t(this).is(o.ignore)&&o[r].call(i,this,e)}}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,l=this.currentForm,i=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})}),n=this.settings.rules,t.each(n,function(e,l){n[e]=t.validator.normalizeRule(l)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n,l,i=this.clean(e),r=this.validationTargetFor(i),o=this,s=!0;return void 0===r?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=t(r),l=this.groups[r.name],l&&t.each(this.groups,function(t,e){e===l&&t!==r.name&&(i=o.validationTargetFor(o.clean(o.findByName(t))),i&&i.name in o.invalid&&(o.currentElements.push(i),s=o.check(i)&&s))}),n=this.check(r)!==!1,s=s&&n,n?this.invalid[r.name]=!1:this.invalid[r.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!n)),s},showErrors:function(e){if(e){var n=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:n.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),
this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)void 0!==t[e]&&null!==t[e]&&t[e]!==!1&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var l=this.name||t(this).attr("name"),i="undefined"!=typeof t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable");return!l&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),i&&(this.form=t(this).closest("form")[0],this.name=l),this.form!==e.currentForm?!1:l in n||!e.objectLength(t(this).rules())?!1:(n[l]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,l,i=t(e),r=e.type,o="undefined"!=typeof i.attr("contenteditable")&&"false"!==i.attr("contenteditable");return"radio"===r||"checkbox"===r?this.findByName(e.name).filter(":checked").val():"number"===r&&"undefined"!=typeof e.validity?e.validity.badInput?"NaN":i.val():(n=o?i.text():i.val(),"file"===r?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(l=n.lastIndexOf("/"),l>=0?n.substr(l+1):(l=n.lastIndexOf("\\"),l>=0?n.substr(l+1):n)):"string"==typeof n?n.replace(/\r/g,""):n)},check:function(e){e=this.validationTargetFor(this.clean(e));var n,l,i,r,o=t(e).rules(),s=t.map(o,function(t,e){return e}).length,a=!1,u=this.elementValue(e);"function"==typeof o.normalizer?r=o.normalizer:"function"==typeof this.settings.normalizer&&(r=this.settings.normalizer),r&&(u=r.call(e,u),delete o.normalizer);for(l in o){i={method:l,parameters:o[l]};try{if(n=t.validator.methods[l].call(this,u,e,i.parameters),"dependency-mismatch"===n&&1===s){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,i),!1}catch(c){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+i.method+"' method.",c),c instanceof TypeError&&(c.message+=".  Exception occurred when checking element "+e.id+", check the '"+i.method+"' method."),c}}return a?void 0:(this.objectLength(o)&&this.successList.push(e),!0)},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,n){"string"==typeof n&&(n={method:n});var l=this.findDefined(this.customMessage(e.name,n.method),this.customDataMessage(e,n.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof l?l=l.call(this,n.parameters,e):i.test(l)&&(l=t.validator.format(l.replace(i,"{$1}"),n.parameters)),l},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var l,i,r,o,s=this.errorsFor(e),a=this.idOrName(e),u=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(s=t("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(n||""),l=s,this.settings.wrapper&&(l=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(l):this.settings.errorPlacement?this.settings.errorPlacement.call(this,l,t(e)):l.insertAfter(e),s.is("label")?s.attr("for",a):0===s.parents("label[for='"+this.escapeCssMeta(a)+"']").length&&(r=s.attr("id"),u?u.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(u+=" "+r):u=r,t(e).attr("aria-describedby",u),i=this.groups[e.name],i&&(o=this,t.each(o.groups,function(e,n){n===i&&t("[name='"+o.escapeCssMeta(e)+"']",o.currentForm).attr("aria-describedby",s.attr("id"))})))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var n=this.escapeCssMeta(this.idOrName(e)),l=t(e).attr("aria-describedby"),i="label[for='"+n+"'], label[for='"+n+"'] *";return l&&(i=i+", #"+this.escapeCssMeta(l).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,n){return!!t(e,n.form).length},"function":function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.submitButton&&t("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,n){return n="string"==typeof n&&n||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:n})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},l=t(e).attr("class");return l&&t.each(l.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(t,e,n,l){/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(l=Number(l),isNaN(l)&&(l=void 0)),l||0===l?t[n]=l:e===n&&"range"!==e&&(t[n]=!0)},attributeRules:function(e){var n,l,i={},r=t(e),o=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(l=e.getAttribute(n),""===l&&(l=!0),l=!!l):l=r.attr(n),this.normalizeAttributeRule(i,o,n,l);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var n,l,i={},r=t(e),o=e.getAttribute("type");for(n in t.validator.methods)l=r.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),""===l&&(l=!0),this.normalizeAttributeRule(i,o,n,l);return i},staticRules:function(e){var n={},l=t.data(e.form,"validator");return l.settings.rules&&(n=t.validator.normalizeRule(l.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(l,i){if(i===!1)return void delete e[l];if(i.param||i.depends){var r=!0;switch(typeof i.depends){case"string":r=!!t(i.depends,n.form).length;break;case"function":r=i.depends.call(n,n)}r?e[l]=void 0!==i.param?i.param:!0:(t.data(n.form,"validator").resetElements(t(n)),delete e[l])}}),t.each(e,function(l,i){e[l]=t.isFunction(i)&&"normalizer"!==l?i(n):i}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,l){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==l?l:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,l){if(!this.depend(l,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var i=t(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(e,n)>0:void 0!==e&&null!==e&&e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(){var t=!1;return function(e,n){return t||(t=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(n)||!/Invalid|NaN/.test(new Date(e).toString())}}(),dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,n,l){var i=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=l},maxlength:function(e,n,l){var i=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||l>=i},rangelength:function(e,n,l){var i=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=l[0]&&i<=l[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(e,n,l){var i,r=t(n).attr("type"),o="Step attribute on input type "+r+" is not supported.",s=["text","number","range"],a=new RegExp("\\b"+r+"\\b"),u=r&&!a.test(s.join()),c=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},d=function(t){return Math.round(t*Math.pow(10,i))},h=!0;if(u)throw new Error(o);return i=c(l),(c(e)>i||d(e)%d(l)!==0)&&(h=!1),this.optional(n)||h},equalTo:function(e,n,l){var i=t(l);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(n).valid()}),e===i.val()},remote:function(e,n,l,i){if(this.optional(n))return"dependency-mismatch";i="string"==typeof i&&i||"remote";var r,o,s,a=this.previousValue(n,i);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),a.originalMessage=a.originalMessage||this.settings.messages[n.name][i],this.settings.messages[n.name][i]=a.message,l="string"==typeof l&&{url:l}||l,s=t.param(t.extend({data:e},l.data)),a.old===s?a.valid:(a.old=s,r=this,this.startRequest(n),o={},o[n.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:o,context:r.currentForm,success:function(t){var l,o,s,u=t===!0||"true"===t;r.settings.messages[n.name][i]=a.originalMessage,u?(s=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(n),r.formSubmitted=s,r.successList.push(n),r.invalid[n.name]=!1,r.showErrors()):(l={},o=t||r.defaultMessage(n,{method:i,parameters:e}),l[n.name]=a.message=o,r.invalid[n.name]=!0,r.showErrors(l)),a.valid=u,r.stopRequest(n,u)}},l)),"pending")}}});var e,n={};return t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,l){var i=t.port;"abort"===t.mode&&(n[i]&&n[i].abort(),n[i]=l)}):(e=t.ajax,t.ajax=function(l){var i=("mode"in l?l:t.ajaxSettings).mode,r=("port"in l?l:t.ajaxSettings).port;return"abort"===i?(n[r]&&n[r].abort(),n[r]=e.apply(this,arguments),n[r]):e.apply(this,arguments)}),t}),function(t){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return function(){function e(t){return t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-\u201c\u201d\u2019]*/g,"")}t.validator.addMethod("maxWords",function(t,n,l){return this.optional(n)||e(t).match(/\b\w+\b/g).length<=l},t.validator.format("Please enter {0} words or less.")),t.validator.addMethod("minWords",function(t,n,l){return this.optional(n)||e(t).match(/\b\w+\b/g).length>=l},t.validator.format("Please enter at least {0} words.")),t.validator.addMethod("rangeWords",function(t,n,l){var i=e(t),r=/\b\w+\b/g;return this.optional(n)||i.match(r).length>=l[0]&&i.match(r).length<=l[1]},t.validator.format("Please enter between {0} and {1} words."))}(),t.validator.addMethod("abaRoutingNumber",function(t){var e=0,n=t.split(""),l=n.length;if(9!==l)return!1;for(var i=0;l>i;i+=3)e+=3*parseInt(n[i],10)+7*parseInt(n[i+1],10)+parseInt(n[i+2],10);return 0!==e&&e%10===0},"Please enter a valid routing number."),t.validator.addMethod("accept",function(e,n,l){var i,r,o,s="string"==typeof l?l.replace(/\s/g,""):"image/*",a=this.optional(n);if(a)return a;if("file"===t(n).attr("type")&&(s=s.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),n.files&&n.files.length))for(o=new RegExp(".?("+s+")$","i"),i=0;i<n.files.length;i++)if(r=n.files[i],!r.type.match(o))return!1;return!0},t.validator.format("Please enter a value with a valid mimetype.")),t.validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},"Letters, numbers, and underscores only please"),t.validator.addMethod("bankaccountNL",function(t,e){if(this.optional(e))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t))return!1;var n,l,i,r=t.replace(/ /g,""),o=0,s=r.length;for(n=0;s>n;n++)l=s-n,i=r.substring(n,n+1),o+=l*i;return o%11===0},"Please specify a valid bank account number"),t.validator.addMethod("bankorgiroaccountNL",function(e,n){return this.optional(n)||t.validator.methods.bankaccountNL.call(this,e,n)||t.validator.methods.giroaccountNL.call(this,e,n)},"Please specify a valid bank or giro account number"),t.validator.addMethod("bic",function(t,e){return this.optional(e)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase())},"Please specify a valid BIC code"),t.validator.addMethod("cifES",function(t,e){"use strict";function n(t){return t%2===0}if(this.optional(e))return!0;var l,i,r,o,s=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),a=t.substring(0,1),u=t.substring(1,8),c=t.substring(8,9),d=0,h=0,f=0;if(9!==t.length||!s.test(t))return!1;for(l=0;l<u.length;l++)i=parseInt(u[l],10),n(l)?(i*=2,f+=10>i?i:i-9):h+=i;return d=h+f,r=(10-d.toString().substr(-1)).toString(),r=parseInt(r,10)>9?"0":r,o="JABCDEFGHI".substr(r,1).toString(),a.match(/[ABEH]/)?c===r:a.match(/[KPQS]/)?c===o:c===r||c===o},"Please specify a valid CIF number."),t.validator.addMethod("cnhBR",function(t){if(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==t.length)return!1;var e,n,l,i,r,o,s=0,a=0;if(e=t.charAt(0),new Array(12).join(e)===t)return!1;for(i=0,r=9,o=0;9>i;++i,--r)s+=+(t.charAt(i)*r);for(n=s%11,n>=10&&(n=0,a=2),s=0,i=0,r=1,o=0;9>i;++i,++r)s+=+(t.charAt(i)*r);return l=s%11,l>=10?l=0:l-=a,String(n).concat(l)===t.substr(-2)},"Please specify a valid CNH number"),t.validator.addMethod("cnpjBR",function(t,e){"use strict";if(this.optional(e))return!0;if(t=t.replace(/[^\d]+/g,""),14!==t.length)return!1;if("00000000000000"===t||"11111111111111"===t||"22222222222222"===t||"33333333333333"===t||"44444444444444"===t||"55555555555555"===t||"66666666666666"===t||"77777777777777"===t||"88888888888888"===t||"99999999999999"===t)return!1;for(var n=t.length-2,l=t.substring(0,n),i=t.substring(n),r=0,o=n-7,s=n;s>=1;s--)r+=l.charAt(n-s)*o--,2>o&&(o=9);var a=2>r%11?0:11-r%11;if(a!==parseInt(i.charAt(0),10))return!1;n+=1,l=t.substring(0,n),r=0,o=n-7;for(var u=n;u>=1;u--)r+=l.charAt(n-u)*o--,2>o&&(o=9);return a=2>r%11?0:11-r%11,a===parseInt(i.charAt(1),10)},"Please specify a CNPJ value number"),t.validator.addMethod("cpfBR",function(t,e){"use strict";if(this.optional(e))return!0;if(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==t.length)return!1;var n,l,i,r,o=0;if(n=parseInt(t.substring(9,10),10),l=parseInt(t.substring(10,11),10),i=function(t,e){var n=10*t%11;return 10!==n&&11!==n||(n=0),n===e},""===t||"00000000000"===t||"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t)return!1;for(r=1;9>=r;r++)o+=parseInt(t.substring(r-1,r),10)*(11-r);if(i(o,n)){for(o=0,r=1;10>=r;r++)o+=parseInt(t.substring(r-1,r),10)*(12-r);return i(o,l)}return!1},"Please specify a valid CPF number"),t.validator.addMethod("creditcard",function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,l,i=0,r=0,o=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)l=t.charAt(n),r=parseInt(l,10),o&&(r*=2)>9&&(r-=9),i+=r,o=!o;return i%10===0},"Please enter a valid credit card number."),t.validator.addMethod("creditcardtypes",function(t,e,n){if(/[^0-9\-]+/.test(t))return!1;t=t.replace(/\D/g,"");var l=0;return n.mastercard&&(l|=1),n.visa&&(l|=2),n.amex&&(l|=4),n.dinersclub&&(l|=8),n.enroute&&(l|=16),n.discover&&(l|=32),n.jcb&&(l|=64),n.unknown&&(l|=128),n.all&&(l=255),1&l&&(/^(5[12345])/.test(t)||/^(2[234567])/.test(t))?16===t.length:2&l&&/^(4)/.test(t)?16===t.length:4&l&&/^(3[47])/.test(t)?15===t.length:8&l&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&l&&/^(2(014|149))/.test(t)?15===t.length:32&l&&/^(6011)/.test(t)?16===t.length:64&l&&/^(3)/.test(t)?16===t.length:64&l&&/^(2131|1800)/.test(t)?15===t.length:!!(128&l)},"Please enter a valid credit card number."),t.validator.addMethod("currency",function(t,e,n){var l,i="string"==typeof n,r=i?n:n[0],o=i?!0:n[1];return r=r.replace(/,/g,""),r=o?r+"]":r+"]?",l="^["+r+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",l=new RegExp(l),this.optional(e)||l.test(t)},"Please specify a valid currency"),t.validator.addMethod("dateFA",function(t,e){return this.optional(e)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t)},t.validator.messages.date),t.validator.addMethod("dateITA",function(t,e){var n,l,i,r,o,s=!1,a=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return a.test(t)?(n=t.split("/"),l=parseInt(n[0],10),i=parseInt(n[1],10),r=parseInt(n[2],10),o=new Date(Date.UTC(r,i-1,l,12,0,0,0)),s=o.getUTCFullYear()===r&&o.getUTCMonth()===i-1&&o.getUTCDate()===l):s=!1,this.optional(e)||s},t.validator.messages.date),t.validator.addMethod("dateNL",function(t,e){return this.optional(e)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t)},t.validator.messages.date),t.validator.addMethod("extension",function(t,e,n){return n="string"==typeof n?n.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp("\\.("+n+")$","i"))},t.validator.format("Please enter a value with a valid extension.")),t.validator.addMethod("giroaccountNL",function(t,e){return this.optional(e)||/^[0-9]{1,7}$/.test(t)},"Please specify a valid giro account number"),t.validator.addMethod("greaterThan",function(e,n,l){var i=t(l);return this.settings.onfocusout&&i.not(".validate-greaterThan-blur").length&&i.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){t(n).valid()}),e>i.val()},"Please enter a greater value."),t.validator.addMethod("greaterThanEqual",function(e,n,l){var i=t(l);return this.settings.onfocusout&&i.not(".validate-greaterThanEqual-blur").length&&i.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){t(n).valid()}),e>=i.val()},"Please enter a greater value."),t.validator.addMethod("iban",function(t,e){if(this.optional(e))return!0;var n,l,i,r,o,s,a,u,c,d=t.replace(/ /g,"").toUpperCase(),h="",f=!0,p="",g="",m=5;if(d.length<m)return!1;if(n=d.substring(0,2),s={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},o=s[n],"undefined"!=typeof o&&(a=new RegExp("^[A-Z]{2}\\d{2}"+o+"$",""),!a.test(d)))return!1;for(l=d.substring(4,d.length)+d.substring(0,4),u=0;u<l.length;u++)i=l.charAt(u),"0"!==i&&(f=!1),f||(h+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(i));for(c=0;c<h.length;c++)r=h.charAt(c),g=""+p+r,p=g%97;return 1===p},"Please specify a valid IBAN"),t.validator.addMethod("integer",function(t,e){return this.optional(e)||/^-?\d+$/.test(t)},"A positive or negative non-decimal number please"),t.validator.addMethod("ipv4",function(t,e){return this.optional(e)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t)},"Please enter a valid IP v4 address."),t.validator.addMethod("ipv6",function(t,e){return this.optional(e)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t)},"Please enter a valid IP v6 address."),t.validator.addMethod("lessThan",function(e,n,l){var i=t(l);return this.settings.onfocusout&&i.not(".validate-lessThan-blur").length&&i.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){t(n).valid()}),e<i.val()},"Please enter a lesser value."),t.validator.addMethod("lessThanEqual",function(e,n,l){var i=t(l);return this.settings.onfocusout&&i.not(".validate-lessThanEqual-blur").length&&i.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){t(n).valid()}),e<=i.val()},"Please enter a lesser value."),t.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},"Letters only please"),t.validator.addMethod("letterswithbasicpunc",function(t,e){return this.optional(e)||/^[a-z\-.,()'"\s]+$/i.test(t)},"Letters or punctuation only please"),t.validator.addMethod("maxfiles",function(e,n,l){return this.optional(n)?!0:!("file"===t(n).attr("type")&&n.files&&n.files.length>l)},t.validator.format("Please select no more than {0} files.")),t.validator.addMethod("maxsize",function(e,n,l){if(this.optional(n))return!0;if("file"===t(n).attr("type")&&n.files&&n.files.length)for(var i=0;i<n.files.length;i++)if(n.files[i].size>l)return!1;return!0},t.validator.format("File size must not exceed {0} bytes each.")),t.validator.addMethod("maxsizetotal",function(e,n,l){if(this.optional(n))return!0;if("file"===t(n).attr("type")&&n.files&&n.files.length)for(var i=0,r=0;r<n.files.length;r++)if(i+=n.files[r].size,i>l)return!1;return!0},t.validator.format("Total size of all files must not exceed {0} bytes.")),t.validator.addMethod("mobileNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid mobile number"),t.validator.addMethod("mobileRU",function(t,e){var n=t.replace(/\(|\)|\s+|-/g,"");return this.optional(e)||n.length>9&&/^((\+7|7|8)+([0-9]){10})$/.test(n)},"Please specify a valid mobile number"),t.validator.addMethod("mobileUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),t.validator.addMethod("netmask",function(t,e){return this.optional(e)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(t)},"Please enter a valid netmask."),t.validator.addMethod("nieES",function(t,e){"use strict";if(this.optional(e))return!0;var n,l=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),i="TRWAGMYFPDXBNJZSQVHLCKET",r=t.substr(t.length-1).toUpperCase();return t=t.toString().toUpperCase(),t.length>10||t.length<9||!l.test(t)?!1:(t=t.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2"),n=9===t.length?t.substr(0,8):t.substr(0,9),i.charAt(parseInt(n,10)%23)===r)},"Please specify a valid NIE number."),t.validator.addMethod("nifES",function(t,e){"use strict";return this.optional(e)?!0:(t=t.toUpperCase(),t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[0-9]{8}[A-Z]{1}$/.test(t)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,0)%23)===t.charAt(8):/^[KLM]{1}/.test(t)?t[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,1)%23):!1:!1)},"Please specify a valid NIF number."),t.validator.addMethod("nipPL",function(t){"use strict";if(t=t.replace(/[^0-9]/g,""),10!==t.length)return!1;for(var e=[6,5,7,2,3,4,5,6,7],n=0,l=0;9>l;l++)n+=e[l]*t[l];var i=n%11,r=10===i?0:i;return r===parseInt(t[9],10)},"Please specify a valid NIP number."),t.validator.addMethod("nisBR",function(t){var e,n,l,i,r,o=0;if(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==t.length)return!1;for(n=parseInt(t.substring(10,11),10),e=parseInt(t.substring(0,10),10),i=2;12>i;i++)r=i,10===i&&(r=2),11===i&&(r=3),o+=e%10*r,e=parseInt(e/10,10);return l=o%11,l=l>1?11-l:0,n===l},"Please specify a valid NIS/PIS number"),t.validator.addMethod("notEqualTo",function(e,n,l){return this.optional(n)||!t.validator.methods.equalTo.call(this,e,n,l)},"Please enter a different value, values must not be the same."),t.validator.addMethod("nowhitespace",function(t,e){return this.optional(e)||/^\S+$/i.test(t)},"No white space please"),t.validator.addMethod("pattern",function(t,e,n){return this.optional(e)?!0:("string"==typeof n&&(n=new RegExp("^(?:"+n+")$")),n.test(t))},"Invalid format."),t.validator.addMethod("phoneNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid phone number."),t.validator.addMethod("phonePL",function(t,e){t=t.replace(/\s+/g,"");var n=/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/;return this.optional(e)||n.test(t)},"Please specify a valid phone number"),t.validator.addMethod("phonesUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),t.validator.addMethod("phoneUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),t.validator.addMethod("phoneUS",function(t,e){return t=t.replace(/\s+/g,""),this.optional(e)||t.length>9&&t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/);
},"Please specify a valid phone number"),t.validator.addMethod("postalcodeBR",function(t,e){return this.optional(e)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(t)},"Informe um CEP v\xe1lido."),t.validator.addMethod("postalCodeCA",function(t,e){return this.optional(e)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeIT",function(t,e){return this.optional(e)||/^\d{5}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeNL",function(t,e){return this.optional(e)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postcodeUK",function(t,e){return this.optional(e)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t)},"Please specify a valid UK postcode"),t.validator.addMethod("require_from_group",function(e,n,l){var i=t(l[1],n.form),r=i.eq(0),o=r.data("valid_req_grp")?r.data("valid_req_grp"):t.extend({},this),s=i.filter(function(){return o.elementValue(this)}).length>=l[0];return r.data("valid_req_grp",o),t(n).data("being_validated")||(i.data("being_validated",!0),i.each(function(){o.element(this)}),i.data("being_validated",!1)),s},t.validator.format("Please fill at least {0} of these fields.")),t.validator.addMethod("skip_or_fill_minimum",function(e,n,l){var i=t(l[1],n.form),r=i.eq(0),o=r.data("valid_skip")?r.data("valid_skip"):t.extend({},this),s=i.filter(function(){return o.elementValue(this)}).length,a=0===s||s>=l[0];return r.data("valid_skip",o),t(n).data("being_validated")||(i.data("being_validated",!0),i.each(function(){o.element(this)}),i.data("being_validated",!1)),a},t.validator.format("Please either skip these fields or fill at least {0} of them.")),t.validator.addMethod("stateUS",function(t,e,n){var l,i="undefined"==typeof n,r=i||"undefined"==typeof n.caseSensitive?!1:n.caseSensitive,o=i||"undefined"==typeof n.includeTerritories?!1:n.includeTerritories,s=i||"undefined"==typeof n.includeMilitary?!1:n.includeMilitary;return l=o||s?o&&s?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":o?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",l=r?new RegExp(l):new RegExp(l,"i"),this.optional(e)||l.test(t)},"Please specify a valid state"),t.validator.addMethod("strippedminlength",function(e,n,l){return t(e).text().length>=l},t.validator.format("Please enter at least {0} characters")),t.validator.addMethod("time",function(t,e){return this.optional(e)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(t)},"Please enter a valid time, between 00:00 and 23:59"),t.validator.addMethod("time12h",function(t,e){return this.optional(e)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t)},"Please enter a valid time in 12-hour am/pm format"),t.validator.addMethod("url2",function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},t.validator.messages.url),t.validator.addMethod("vinUS",function(t){if(17!==t.length)return!1;var e,n,l,i,r,o,s=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],a=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],u=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],c=0;for(e=0;17>e;e++){if(i=u[e],l=t.slice(e,e+1),8===e&&(o=l),isNaN(l)){for(n=0;n<s.length;n++)if(l.toUpperCase()===s[n]){l=a[n],l*=i,isNaN(o)&&8===n&&(o=s[n]);break}}else l*=i;c+=l}return r=c%11,10===r&&(r="X"),r===o},"The specified vehicle identification number (VIN) is invalid."),t.validator.addMethod("zipcodeUS",function(t,e){return this.optional(e)||/^\d{5}(-\d{4})?$/.test(t)},"The specified US ZIP Code is invalid"),t.validator.addMethod("ziprange",function(t,e){return this.optional(e)||/^90[2-5]\d\{2\}-\d{4}$/.test(t)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),t}),function(t){function e(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function n(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function l(t){for(b in x)x[b]=t[D[b]]}function i(t){var n,i,r,o,a,u;if(n=t.keyCode,-1==e(A,n)&&A.push(n),S[n]&&(n=S[n]),93!=n&&224!=n||(n=91),n in x){x[n]=!0;for(r in C)C[r]==n&&(s[r]=!0)}else if(l(t),s.filter.call(this,t)&&n in w)for(u=f(),o=0;o<w[n].length;o++)if(i=w[n][o],i.scope==u||"all"==i.scope){a=i.mods.length>0;for(r in x)(!x[r]&&e(i.mods,+r)>-1||x[r]&&-1==e(i.mods,+r))&&(a=!1);(0!=i.mods.length||x[16]||x[18]||x[17]||x[91])&&!a||i.method(t,i)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function r(t){var n,l=t.keyCode,i=e(A,l);if(i>=0&&A.splice(i,1),93!=l&&224!=l||(l=91),l in x){x[l]=!1;for(n in C)C[n]==l&&(s[n]=!1)}}function o(){for(b in x)x[b]=!1;for(b in C)s[b]=!1}function s(t,e,n){var l,i;l=g(t),void 0===n&&(n=e,e="all");for(var r=0;r<l.length;r++)i=[],t=l[r].split("+"),t.length>1&&(i=m(t),t=[t[t.length-1]]),t=t[0],t=T(t),t in w||(w[t]=[]),w[t].push({shortcut:l[r],scope:e,method:n,key:l[r],mods:i})}function a(t,e){var l,i,r,o,s,a=[];for(l=g(t),o=0;o<l.length;o++){if(i=l[o].split("+"),i.length>1&&(a=m(i)),t=i[i.length-1],t=T(t),void 0===e&&(e=f()),!w[t])return;for(r=0;r<w[t].length;r++)s=w[t][r],s.scope===e&&n(s.mods,a)&&(w[t][r]={})}}function u(t){return"string"==typeof t&&(t=T(t)),-1!=e(A,t)}function c(){return A.slice(0)}function d(t){var e=(t.target||t.srcElement).tagName;return!("INPUT"==e||"SELECT"==e||"TEXTAREA"==e)}function h(t){_=t||"all"}function f(){return _||"all"}function p(t){var e,n,l;for(e in w)for(n=w[e],l=0;l<n.length;)n[l].scope===t?n.splice(l,1):l++}function g(t){var e;return t=t.replace(/\s/g,""),e=t.split(","),""==e[e.length-1]&&(e[e.length-2]+=","),e}function m(t){for(var e=t.slice(0,t.length-1),n=0;n<e.length;n++)e[n]=C[e[n]];return e}function v(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(){n(window.event)})}function y(){var e=t.key;return t.key=M,e}var b,w={},x={16:!1,18:!1,17:!1,91:!1},_="all",C={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},k={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},S={96:48,97:49,98:50,99:51,100:52,101:53,102:54,103:55,104:56,105:57,107:187,109:189,111:191,110:190},T=function(t){return k[t]||t.toUpperCase().charCodeAt(0)},A=[];for(b=1;20>b;b++)k["f"+b]=111+b;var D={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(b in C)s[b]=!1;v(document,"keydown",function(t){i(t)}),v(document,"keyup",r),v(window,"focus",o);var M=t.key;t.key=s,t.key.setScope=h,t.key.getScope=f,t.key.deleteScope=p,t.key.filter=d,t.key.isPressed=u,t.key.getPressedKeyCodes=c,t.key.noConflict=y,t.key.unbind=a,"undefined"!=typeof module&&(module.exports=s),t.keymaster=s}(this),function(t,e){if("function"==typeof define&&define.amd)define(["exports","module"],e);else if("undefined"!=typeof exports&&"undefined"!=typeof module)e(exports,module);else{var n={exports:{}};e(n.exports,n),t.autosize=n.exports}}(this,function(t,e){"use strict";function n(t){function e(){var e=window.getComputedStyle(t,null);h=e.overflowY,"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),d="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(d)&&(d=0),i()}function n(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,h=e,c&&(t.style.overflowY=e),l()}function l(){var e=window.pageYOffset,n=document.body.scrollTop,l=t.style.height;t.style.height="auto";var i=t.scrollHeight+d;return 0===t.scrollHeight?void(t.style.height=l):(t.style.height=i+"px",f=t.clientWidth,document.documentElement.scrollTop=e,void(document.body.scrollTop=n))}function i(){var e=t.style.height;l();var i=window.getComputedStyle(t,null);if(i.height!==t.style.height?"visible"!==h&&n("visible"):"hidden"!==h&&n("hidden"),e!==t.style.height){var r=document.createEvent("Event");r.initEvent("autosize:resized",!0,!1),t.dispatchEvent(r)}}var o=void 0===arguments[1]?{}:arguments[1],s=o.setOverflowX,a=void 0===s?!0:s,u=o.setOverflowY,c=void 0===u?!0:u;if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!r.has(t)){var d=null,h=null,f=t.clientWidth,p=function(){t.clientWidth!==f&&i()},g=function(e){window.removeEventListener("resize",p,!1),t.removeEventListener("input",i,!1),t.removeEventListener("keyup",i,!1),t.removeEventListener("autosize:destroy",g,!1),t.removeEventListener("autosize:update",i,!1),r["delete"](t),Object.keys(e).forEach(function(n){t.style[n]=e[n]})}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",g,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",i,!1),window.addEventListener("resize",p,!1),t.addEventListener("input",i,!1),t.addEventListener("autosize:update",i,!1),r.add(t),a&&(t.style.overflowX="hidden",t.style.wordWrap="break-word"),e()}}function l(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName){var e=document.createEvent("Event");e.initEvent("autosize:destroy",!0,!1),t.dispatchEvent(e)}}function i(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName){var e=document.createEvent("Event");e.initEvent("autosize:update",!0,!1),t.dispatchEvent(e)}}var r="function"==typeof Set?new Set:function(){var t=[];return{has:function(e){return Boolean(t.indexOf(e)>-1)},add:function(e){t.push(e)},"delete":function(e){t.splice(t.indexOf(e),1)}}}(),o=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(o=function(t){return t},o.destroy=function(t){return t},o.update=function(t){return t}):(o=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t,e)}),t},o.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],l),t},o.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t}),e.exports=o}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.JSZip=t()}}(function(){return function t(e,n,l){function i(o,s){if(!n[o]){if(!e[o]){var a="function"==typeof require&&require;if(!s&&a)return a(o,!0);if(r)return r(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return i(n?n:t)},u,u.exports,t,e,n,l)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<l.length;o++)i(l[o]);return i}({1:[function(t,e,n){"use strict";var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,i,r,o,s,a,u="",c=0;c<t.length;)e=t.charCodeAt(c++),n=t.charCodeAt(c++),i=t.charCodeAt(c++),r=e>>2,o=(3&e)<<4|n>>4,s=(15&n)<<2|i>>6,a=63&i,isNaN(n)?s=a=64:isNaN(i)&&(a=64),u=u+l.charAt(r)+l.charAt(o)+l.charAt(s)+l.charAt(a);return u},n.decode=function(t){var e,n,i,r,o,s,a,u="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)r=l.indexOf(t.charAt(c++)),o=l.indexOf(t.charAt(c++)),s=l.indexOf(t.charAt(c++)),a=l.indexOf(t.charAt(c++)),e=r<<2|o>>4,n=(15&o)<<4|s>>2,i=(3&s)<<6|a,u+=String.fromCharCode(e),64!=s&&(u+=String.fromCharCode(n)),64!=a&&(u+=String.fromCharCode(i));return u}},{}],2:[function(t,e){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=n},{}],3:[function(t,e,n){"use strict";n.STORE={magic:"\x00\x00",compress:function(t){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},n.DEFLATE=t("./flate")},{"./flate":8}],4:[function(t,e){"use strict";var n=t("./utils"),l=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if("undefined"==typeof t||!t.length)return 0;var i="string"!==n.getTypeOf(t);"undefined"==typeof e&&(e=0);var r=0,o=0,s=0;e=-1^e;for(var a=0,u=t.length;u>a;a++)s=i?t[a]:t.charCodeAt(a),o=255&(e^s),r=l[o],e=e>>>8^r;return-1^e}},{"./utils":21}],5:[function(t,e){"use strict";function n(){this.data=null,this.length=0,this.index=0}var l=t("./utils");n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<t||0>t)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return l.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=n},{"./utils":21}],6:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],7:[function(t,e,n){"use strict";var l=t("./utils");n.string2binary=function(t){return l.string2binary(t)},n.string2Uint8Array=function(t){return l.transformTo("uint8array",t)},n.uint8Array2String=function(t){return l.transformTo("string",t)},n.string2Blob=function(t){var e=l.transformTo("arraybuffer",t);return l.arrayBuffer2Blob(e)},n.arrayBuffer2Blob=function(t){return l.arrayBuffer2Blob(t)},n.transformTo=function(t,e){return l.transformTo(t,e)},n.getTypeOf=function(t){return l.getTypeOf(t)},n.checkSupport=function(t){return l.checkSupport(t)},n.MAX_VALUE_16BITS=l.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=l.MAX_VALUE_32BITS,n.pretty=function(t){return l.pretty(t)},n.findCompression=function(t){return l.findCompression(t)},n.isRegExp=function(t){return l.isRegExp(t)}},{"./utils":21}],8:[function(t,e,n){"use strict";var l="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako");n.uncompressInputType=l?"uint8array":"array",n.compressInputType=l?"uint8array":"array",n.magic="\b\x00",n.compress=function(t,e){return i.deflateRaw(t,{level:e.level||-1})},n.uncompress=function(t){return i.inflateRaw(t)}},{pako:24}],9:[function(t,e){"use strict";function n(t,e){return this instanceof n?(this.files={},this.comment=null,this.root="",t&&this.load(t,e),void(this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t})):new n(t,e)}var l=t("./base64");n.prototype=t("./object"),n.prototype.load=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.utils=t("./deprecatedPublicUtils"),n.base64={encode:function(t){return l.encode(t)},decode:function(t){return l.decode(t)}},n.compressions=t("./compressions"),e.exports=n},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(t,e){"use strict";var n=t("./base64"),l=t("./zipEntries");e.exports=function(t,e){var i,r,o,s;for(e=e||{},e.base64&&(t=n.decode(t)),r=new l(t,e),i=r.files,o=0;o<i.length;o++)s=i[o],this.file(s.fileName,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileComment.length?s.fileComment:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders});return r.zipComment.length&&(this.comment=r.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(t,e){(function(t){"use strict";e.exports=function(e,n){return new t(e,n)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(t,e){"use strict";function n(t){this.data=t,this.length=this.data.length,this.index=0}var l=t("./uint8ArrayReader");n.prototype=new l,n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=n},{"./uint8ArrayReader":18}],13:[function(t,e){"use strict";var n=t("./support"),l=t("./utils"),i=t("./crc32"),r=t("./signature"),o=t("./defaults"),s=t("./base64"),a=t("./compressions"),u=t("./compressedObject"),c=t("./nodeBuffer"),d=t("./utf8"),h=t("./stringWriter"),f=t("./uint8ArrayWriter"),p=function(t){if(t._data instanceof u&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===l.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=p(t),i=l.getTypeOf(e);return"string"===i?!t.options.binary&&n.nodebuffer?c(e,"utf-8"):t.asBinary():e},m=function(t){var e=p(this);return null===e||"undefined"==typeof e?"":(this.options.base64&&(e=s.decode(e)),e=t&&this.options.binary?M.utf8decode(e):l.transformTo("string",e),t||this.options.binary||(e=l.transformTo("string",M.utf8encode(e))),e)},v=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};v.prototype={asText:function(){return m.call(this,!0)},asBinary:function(){return m.call(this,!1)},asNodeBuffer:function(){var t=g(this);return l.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return l.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var y=function(t,e){var n,l="";for(n=0;e>n;n++)l+=String.fromCharCode(255&t),t>>>=8;return l},b=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof n[e]&&(n[e]=arguments[t][e]);return n},w=function(t){return t=t||{},t.base64!==!0||null!==t.binary&&void 0!==t.binary||(t.binary=!0),t=b(t,o),t.date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},x=function(t,e,n){var i,r=l.getTypeOf(e);if(n=w(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(t=C(t)),n.createFolders&&(i=_(t))&&k.call(this,i,!0),n.dir||null===e||"undefined"==typeof e)n.base64=!1,n.binary=!1,e=null,r=null;else if("string"===r)n.binary&&!n.base64&&n.optimizedBinaryString!==!0&&(e=l.string2binary(e));else{if(n.base64=!1,n.binary=!0,!(r||e instanceof u))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===r&&(e=l.transformTo("uint8array",e))}var o=new v(t,e,n);return this.files[t]=o,o},_=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},C=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},k=function(t,e){return e="undefined"!=typeof e?e:!1,t=C(t),this.files[t]||x.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},S=function(t,e,n){var r,o=new u;return t._data instanceof u?(o.uncompressedSize=t._data.uncompressedSize,o.crc32=t._data.crc32,0===o.uncompressedSize||t.dir?(e=a.STORE,o.compressedContent="",o.crc32=0):t._data.compressionMethod===e.magic?o.compressedContent=t._data.getCompressedContent():(r=t._data.getContent(),o.compressedContent=e.compress(l.transformTo(e.compressInputType,r),n))):(r=g(t),r&&0!==r.length&&!t.dir||(e=a.STORE,r=""),o.uncompressedSize=r.length,o.crc32=i(r),o.compressedContent=e.compress(l.transformTo(e.compressInputType,r),n)),o.compressedSize=o.compressedContent.length,o.compressionMethod=e.magic,o},T=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},A=function(t){return 63&(t||0)},D=function(t,e,n,o,s){var a,u,c,h,f=(n.compressedContent,l.transformTo("string",d.utf8encode(e.name))),p=e.comment||"",g=l.transformTo("string",d.utf8encode(p)),m=f.length!==e.name.length,v=g.length!==p.length,b=e.options,w="",x="",_="";c=e._initialMetadata.dir!==e.dir?e.dir:b.dir,h=e._initialMetadata.date!==e.date?e.date:b.date;var C=0,k=0;c&&(C|=16),"UNIX"===s?(k=798,C|=T(e.unixPermissions,c)):(k=20,C|=A(e.dosPermissions,c)),a=h.getHours(),a<<=6,a|=h.getMinutes(),a<<=5,a|=h.getSeconds()/2,u=h.getFullYear()-1980,u<<=4,u|=h.getMonth()+1,u<<=5,u|=h.getDate(),m&&(x=y(1,1)+y(i(f),4)+f,w+="up"+y(x.length,2)+x),v&&(_=y(1,1)+y(this.crc32(g),4)+g,w+="uc"+y(_.length,2)+_);var S="";S+="\n\x00",S+=m||v?"\x00\b":"\x00\x00",S+=n.compressionMethod,S+=y(a,2),S+=y(u,2),S+=y(n.crc32,4),S+=y(n.compressedSize,4),S+=y(n.uncompressedSize,4),S+=y(f.length,2),S+=y(w.length,2);var D=r.LOCAL_FILE_HEADER+S+f+w,M=r.CENTRAL_FILE_HEADER+y(k,2)+S+y(g.length,2)+"\x00\x00\x00\x00"+y(C,4)+y(o,4)+f+w+g;return{fileRecord:D,dirRecord:M,compressedObject:n}},M={load:function(){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,l,i,r=[];for(e in this.files)this.files.hasOwnProperty(e)&&(l=this.files[e],i=new v(l.name,l._data,b(l.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,i)&&r.push(i));return r},file:function(t,e,n){if(1===arguments.length){if(l.isRegExp(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}return this.filter(function(e,n){return!n.dir&&e===t})[0]||null}return t=this.root+t,x.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(l.isRegExp(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=k.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),l=0;l<n.length;l++)delete this.files[n[l].name];return this},generate:function(t){t=b(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),l.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,n,i=[],o=0,u=0,c=l.transformTo("string",this.utf8encode(t.comment||this.comment||""));for(var d in this.files)if(this.files.hasOwnProperty(d)){var p=this.files[d],g=p.options.compression||t.compression.toUpperCase(),m=a[g];if(!m)throw new Error(g+" is not a valid compression method !");var v=p.options.compressionOptions||t.compressionOptions||{},w=S.call(this,p,m,v),x=D.call(this,d,p,w,o,t.platform);o+=x.fileRecord.length+w.compressedSize,u+=x.dirRecord.length,i.push(x)}var _="";_=r.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+y(i.length,2)+y(i.length,2)+y(u,4)+y(o,4)+y(c.length,2)+c;var C=t.type.toLowerCase();for(e="uint8array"===C||"arraybuffer"===C||"blob"===C||"nodebuffer"===C?new f(o+u+_.length):new h(o+u+_.length),n=0;n<i.length;n++)e.append(i[n].fileRecord),e.append(i[n].compressedObject.compressedContent);for(n=0;n<i.length;n++)e.append(i[n].dirRecord);e.append(_);var k=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return l.transformTo(t.type.toLowerCase(),k);case"blob":return l.arrayBuffer2Blob(l.transformTo("arraybuffer",k),t.mimeType);case"base64":return t.base64?s.encode(k):k;default:return k}},crc32:function(t,e){return i(t,e)},utf8encode:function(t){return l.transformTo("string",d.utf8encode(t))},utf8decode:function(t){return d.utf8decode(t)}};e.exports=M},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],15:[function(t,e){"use strict";function n(t,e){this.data=t,e||(this.data=i.string2binary(this.data)),this.length=this.data.length,this.index=0}var l=t("./dataReader"),i=t("./utils");n.prototype=new l,n.prototype.byteAt=function(t){return this.data.charCodeAt(t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":5,"./utils":21}],16:[function(t,e){"use strict";var n=t("./utils"),l=function(){this.data=[]};l.prototype={append:function(t){t=n.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=l},{"./utils":21}],17:[function(t,e,n){(function(t){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof t,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var e=new ArrayBuffer(0);try{n.blob=0===new Blob([e],{type:"application/zip"}).size}catch(l){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new i;r.append(e),n.blob=0===r.getBlob("application/zip").size}catch(l){n.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],18:[function(t,e){"use strict";function n(t){t&&(this.data=t,this.length=this.data.length,this.index=0)}var l=t("./dataReader");n.prototype=new l,n.prototype.byteAt=function(t){return this.data[t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),l=t.charCodeAt(2),i=t.charCodeAt(3),r=this.length-4;r>=0;--r)if(this.data[r]===e&&this.data[r+1]===n&&this.data[r+2]===l&&this.data[r+3]===i)return r;return-1},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.index,this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":5}],19:[function(t,e){"use strict";var n=t("./utils"),l=function(t){this.data=new Uint8Array(t),this.index=0};l.prototype={append:function(t){0!==t.length&&(t=n.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=l},{"./utils":21}],20:[function(t,e,n){"use strict";for(var l=t("./utils"),i=t("./support"),r=t("./nodeBuffer"),o=new Array(256),s=0;256>s;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;o[254]=o[254]=1;var a=function(t){var e,n,l,r,o,s=t.length,a=0;for(r=0;s>r;r++)n=t.charCodeAt(r),55296===(64512&n)&&s>r+1&&(l=t.charCodeAt(r+1),56320===(64512&l)&&(n=65536+(n-55296<<10)+(l-56320),r++)),a+=128>n?1:2048>n?2:65536>n?3:4;for(e=i.uint8array?new Uint8Array(a):new Array(a),o=0,r=0;a>o;r++)n=t.charCodeAt(r),55296===(64512&n)&&s>r+1&&(l=t.charCodeAt(r+1),56320===(64512&l)&&(n=65536+(n-55296<<10)+(l-56320),r++)),128>n?e[o++]=n:2048>n?(e[o++]=192|n>>>6,e[o++]=128|63&n):65536>n?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},u=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return 0>n?e:0===n?e:n+o[t[n]]>e?n:e},c=function(t){var e,n,i,r,s=t.length,a=new Array(2*s);for(n=0,e=0;s>e;)if(i=t[e++],128>i)a[n++]=i;else if(r=o[i],r>4)a[n++]=65533,e+=r-1;else{for(i&=2===r?31:3===r?15:7;r>1&&s>e;)i=i<<6|63&t[e++],r--;r>1?a[n++]=65533:65536>i?a[n++]=i:(i-=65536,a[n++]=55296|i>>10&1023,a[n++]=56320|1023&i)}return a.length!==n&&(a.subarray?a=a.subarray(0,n):a.length=n),l.applyFromCharCode(a)};n.utf8encode=function(t){return i.nodebuffer?r(t,"utf-8"):a(t)},n.utf8decode=function(t){if(i.nodebuffer)return l.transformTo("nodebuffer",t).toString("utf-8");t=l.transformTo(i.uint8array?"uint8array":"array",t);for(var e=[],n=0,r=t.length,o=65536;r>n;){var s=u(t,Math.min(n+o,r));i.uint8array?e.push(c(t.subarray(n,s))):e.push(c(t.slice(n,s))),n=s}return e.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(t,e,n){"use strict";function l(t){return t}function i(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e;
}function r(t){var e=65536,l=[],i=t.length,r=n.getTypeOf(t),o=0,s=!0;try{switch(r){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,u(0))}}catch(a){s=!1}if(!s){for(var c="",d=0;d<t.length;d++)c+=String.fromCharCode(t[d]);return c}for(;i>o&&e>1;)try{"array"===r||"nodebuffer"===r?l.push(String.fromCharCode.apply(null,t.slice(o,Math.min(o+e,i)))):l.push(String.fromCharCode.apply(null,t.subarray(o,Math.min(o+e,i)))),o+=e}catch(a){e=Math.floor(e/2)}return l.join("")}function o(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var s=t("./support"),a=t("./compressions"),u=t("./nodeBuffer");n.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},n.arrayBuffer2Blob=function(t,e){n.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(l){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new i;return r.append(t),r.getBlob(e)}catch(l){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=r;var c={};c.string={string:l,array:function(t){return i(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return i(t,new Uint8Array(t.length))},nodebuffer:function(t){return i(t,u(t.length))}},c.array={string:r,array:l,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u(t)}},c.arraybuffer={string:function(t){return r(new Uint8Array(t))},array:function(t){return o(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:l,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u(new Uint8Array(t))}},c.uint8array={string:r,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:l,nodebuffer:function(t){return u(t)}},c.nodebuffer={string:r,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:l},n.transformTo=function(t,e){if(e||(e=""),!t)return e;n.checkSupport(t);var l=n.getTypeOf(e),i=c[l][t](e);return i},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":s.nodebuffer&&u.test(t)?"nodebuffer":s.uint8array&&t instanceof Uint8Array?"uint8array":s.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){var e=s[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,l="";for(n=0;n<(t||"").length;n++)e=t.charCodeAt(n),l+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return l},n.findCompression=function(t){for(var e in a)if(a.hasOwnProperty(e)&&a[e].magic===t)return a[e];return null},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(t,e){"use strict";function n(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var l=t("./stringReader"),i=t("./nodeBufferReader"),r=t("./uint8ArrayReader"),o=t("./utils"),s=t("./signature"),a=t("./zipEntry"),u=t("./support"),c=t("./object");n.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=c.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,l=this.zip64EndOfCentralSize-44,i=0;l>i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===s.CENTRAL_FILE_HEADER;)t=new a({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(-1===t){var e=!0;try{this.reader.setIndex(0),this.checkSignature(s.LOCAL_FILE_HEADER),e=!1}catch(n){}throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(t),this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===t)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(t){var e=o.getTypeOf(t);"string"!==e||u.uint8array?"nodebuffer"===e?this.reader=new i(t):this.reader=new r(o.transformTo("uint8array",t)):this.reader=new l(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=n},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(t,e){"use strict";function n(t,e){this.options=t,this.loadOptions=e}var l=t("./stringReader"),i=t("./utils"),r=t("./compressedObject"),o=t("./object"),s=0,a=3;n.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var l=t.index;t.setIndex(e);var i=t.readData(n);return t.setIndex(l),i}},prepareContent:function(t,e,n,l,r){return function(){var t=i.transformTo(l.uncompressInputType,this.getCompressedContent()),e=l.uncompress(t);if(e.length!==r)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readString(this.fileNameLength),t.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(e=i.findCompression(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new r,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=i.transformTo("string",this.decompressed.getContent()),o.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readString(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t===s&&(this.dosPermissions=63&this.externalFileAttributes),t===a&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=new l(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,n,l,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),n=t.readInt(2),l=t.readString(n),this.extraFields[e]={id:e,length:n,value:l}},handleUTF8:function(){if(this.useUTF8())this.fileName=o.utf8decode(this.fileName),this.fileComment=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();null!==t&&(this.fileName=t);var e=this.findExtraFieldUnicodeComment();null!==e&&(this.fileComment=e)}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new l(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new l(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null}},e.exports=n},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(t,e){"use strict";var n=t("./lib/utils/common").assign,l=t("./lib/deflate"),i=t("./lib/inflate"),r=t("./lib/zlib/constants"),o={};n(o,l,i,r),e.exports=o},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(t,e,n){"use strict";function l(t,e){var n=new y(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function i(t,e){return e=e||{},e.raw=!0,l(t,e)}function r(t,e){return e=e||{},e.gzip=!0,l(t,e)}var o=t("./zlib/deflate.js"),s=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/messages"),c=t("./zlib/zstream"),d=0,h=4,f=0,p=1,g=-1,m=0,v=8,y=function(t){this.options=s.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==f)throw new Error(u[n]);e.header&&o.deflateSetHeader(this.strm,e.header)};y.prototype.push=function(t,e){var n,l,i=this.strm,r=this.options.chunkSize;if(this.ended)return!1;l=e===~~e?e:e===!0?h:d,"string"==typeof t?i.input=a.string2buf(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new s.Buf8(r),i.next_out=0,i.avail_out=r),n=o.deflate(i,l),n!==p&&n!==f)return this.onEnd(n),this.ended=!0,!1;(0===i.avail_out||0===i.avail_in&&l===h)&&("string"===this.options.to?this.onData(a.buf2binstring(s.shrinkBuf(i.output,i.next_out))):this.onData(s.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&n!==p);return l===h?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):!0},y.prototype.onData=function(t){this.chunks.push(t)},y.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=y,n.deflate=l,n.deflateRaw=i,n.gzip=r},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(t,e,n){"use strict";function l(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function i(t,e){return e=e||{},e.raw=!0,l(t,e)}var r=t("./zlib/inflate.js"),o=t("./utils/common"),s=t("./utils/strings"),a=t("./zlib/constants"),u=t("./zlib/messages"),c=t("./zlib/zstream"),d=t("./zlib/gzheader"),h=function(t){this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(u[n]);this.header=new d,r.inflateGetHeader(this.strm,this.header)};h.prototype.push=function(t,e){var n,l,i,u,c,d=this.strm,h=this.options.chunkSize;if(this.ended)return!1;l=e===~~e?e:e===!0?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?d.input=s.binstring2buf(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new o.Buf8(h),d.next_out=0,d.avail_out=h),n=r.inflate(d,a.Z_NO_FLUSH),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0===d.avail_out||n===a.Z_STREAM_END||0===d.avail_in&&l===a.Z_FINISH)&&("string"===this.options.to?(i=s.utf8border(d.output,d.next_out),u=d.next_out-i,c=s.buf2string(d.output,i),d.next_out=u,d.avail_out=h-u,u&&o.arraySet(d.output,d.output,i,u,0),this.onData(c)):this.onData(o.shrinkBuf(d.output,d.next_out)))}while(d.avail_in>0&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(l=a.Z_FINISH),l===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):!0},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=h,n.inflate=l,n.inflateRaw=i,n.ungzip=l},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(t,e,n){"use strict";var l="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var l in n)n.hasOwnProperty(l)&&(t[l]=n[l])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,l,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+l),i);for(var r=0;l>r;r++)t[i+r]=e[n+r]},flattenChunks:function(t){var e,n,l,i,r,o;for(l=0,e=0,n=t.length;n>e;e++)l+=t[e].length;for(o=new Uint8Array(l),i=0,e=0,n=t.length;n>e;e++)r=t[e],o.set(r,i),i+=r.length;return o}},r={arraySet:function(t,e,n,l,i){for(var r=0;l>r;r++)t[i+r]=e[n+r]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(l)},{}],28:[function(t,e,n){"use strict";function l(t,e){if(65537>e&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",l=0;e>l;l++)n+=String.fromCharCode(t[l]);return n}var i=t("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(s){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){o=!1}for(var a=new i.Buf8(256),u=0;256>u;u++)a[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;a[254]=a[254]=1,n.string2buf=function(t){var e,n,l,r,o,s=t.length,a=0;for(r=0;s>r;r++)n=t.charCodeAt(r),55296===(64512&n)&&s>r+1&&(l=t.charCodeAt(r+1),56320===(64512&l)&&(n=65536+(n-55296<<10)+(l-56320),r++)),a+=128>n?1:2048>n?2:65536>n?3:4;for(e=new i.Buf8(a),o=0,r=0;a>o;r++)n=t.charCodeAt(r),55296===(64512&n)&&s>r+1&&(l=t.charCodeAt(r+1),56320===(64512&l)&&(n=65536+(n-55296<<10)+(l-56320),r++)),128>n?e[o++]=n:2048>n?(e[o++]=192|n>>>6,e[o++]=128|63&n):65536>n?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},n.buf2binstring=function(t){return l(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,l=e.length;l>n;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,r,o,s=e||t.length,u=new Array(2*s);for(i=0,n=0;s>n;)if(r=t[n++],128>r)u[i++]=r;else if(o=a[r],o>4)u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&s>n;)r=r<<6|63&t[n++],o--;o>1?u[i++]=65533:65536>r?u[i++]=r:(r-=65536,u[i++]=55296|r>>10&1023,u[i++]=56320|1023&r)}return l(u,i)},n.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return 0>n?e:0===n?e:n+a[t[n]]>e?n:e}},{"./common":27}],29:[function(t,e){"use strict";function n(t,e,n,l){for(var i=65535&t|0,r=t>>>16&65535|0,o=0;0!==n;){o=n>2e3?2e3:n,n-=o;do i=i+e[l++]|0,r=r+i|0;while(--o);i%=65521,r%=65521}return i|r<<16|0}e.exports=n},{}],30:[function(t,e){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(t,e){"use strict";function n(){for(var t,e=[],n=0;256>n;n++){t=n;for(var l=0;8>l;l++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function l(t,e,n,l){var r=i,o=l+n;t=-1^t;for(var s=l;o>s;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}var i=n();e.exports=l},{}],32:[function(t,e,n){"use strict";function l(t,e){return t.msg=O[e],e}function i(t){return(t<<1)-(t>4?9:0)}function r(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(D.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){M._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,o(t.strm)}function a(t,e){t.pending_buf[t.pending++]=e}function u(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,l){var i=t.avail_in;return i>l&&(i=l),0===i?0:(t.avail_in-=i,D.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=j(t.adler,e,i,n):2===t.state.wrap&&(t.adler=E(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function d(t,e){var n,l,i=t.max_chain_length,r=t.strstart,o=t.prev_length,s=t.nice_match,a=t.strstart>t.w_size-ut?t.strstart-(t.w_size-ut):0,u=t.window,c=t.w_mask,d=t.prev,h=t.strstart+at,f=u[r+o-1],p=u[r+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do if(n=e,u[n+o]===p&&u[n+o-1]===f&&u[n]===u[r]&&u[++n]===u[r+1]){r+=2,n++;do;while(u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&h>r);if(l=at-(h-r),r=h-at,l>o){if(t.match_start=e,o=l,l>=s)break;f=u[r+o-1],p=u[r+o]}}while((e=d[e&c])>a&&0!==--i);return o<=t.lookahead?o:t.lookahead}function h(t){var e,n,l,i,r,o=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-ut)){D.arraySet(t.window,t.window,o,o,0),t.match_start-=o,t.strstart-=o,t.block_start-=o,n=t.hash_size,e=n;do l=t.head[--e],t.head[e]=l>=o?l-o:0;while(--n);n=o,e=n;do l=t.prev[--e],t.prev[e]=l>=o?l-o:0;while(--n);i+=o}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=st)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+st-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<st)););}while(t.lookahead<ut&&0!==t.strm.avail_in)}function f(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===I)return yt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var l=t.block_start+n;if((0===t.strstart||t.strstart>=l)&&(t.lookahead=t.strstart-l,t.strstart=l,s(t,!1),0===t.strm.avail_out))return yt;if(t.strstart-t.block_start>=t.w_size-ut&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===P?(s(t,!0),0===t.strm.avail_out?wt:xt):t.strstart>t.block_start&&(s(t,!1),0===t.strm.avail_out)?yt:yt}function p(t,e){for(var n,l;;){if(t.lookahead<ut){if(h(t),t.lookahead<ut&&e===I)return yt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-ut&&(t.match_length=d(t,n)),t.match_length>=st)if(l=M._tr_tally(t,t.strstart-t.match_start,t.match_length-st),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=st){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else l=M._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(l&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=t.strstart<st-1?t.strstart:st-1,e===P?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function g(t,e){for(var n,l,i;;){if(t.lookahead<ut){if(h(t),t.lookahead<ut&&e===I)return yt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=st-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ut&&(t.match_length=d(t,n),t.match_length<=5&&(t.strategy===U||t.match_length===st&&t.strstart-t.match_start>4096)&&(t.match_length=st-1)),t.prev_length>=st&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-st,l=M._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-st),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=st-1,t.strstart++,l&&(s(t,!1),0===t.strm.avail_out))return yt}else if(t.match_available){if(l=M._tr_tally(t,0,t.window[t.strstart-1]),l&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return yt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(l=M._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<st-1?t.strstart:st-1,e===P?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function m(t,e){for(var n,l,i,r,o=t.window;;){if(t.lookahead<=at){if(h(t),t.lookahead<=at&&e===I)return yt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=st&&t.strstart>0&&(i=t.strstart-1,l=o[i],l===o[++i]&&l===o[++i]&&l===o[++i])){r=t.strstart+at;do;while(l===o[++i]&&l===o[++i]&&l===o[++i]&&l===o[++i]&&l===o[++i]&&l===o[++i]&&l===o[++i]&&l===o[++i]&&r>i);t.match_length=at-(r-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=st?(n=M._tr_tally(t,1,t.match_length-st),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=M._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===P?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function v(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===I)return yt;break}if(t.match_length=0,n=M._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===P?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function y(t){t.window_size=2*t.w_size,r(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=st-1,t.match_available=0,t.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*rt),this.dyn_dtree=new D.Buf16(2*(2*lt+1)),this.bl_tree=new D.Buf16(2*(2*it+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(ot+1),this.heap=new D.Buf16(2*nt+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*nt+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=G,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?dt:mt,t.adler=2===e.wrap?0:1,e.last_flush=I,M._tr_init(e),L):l(t,R)}function x(t){var e=w(t);return e===L&&y(t.state),e}function _(t,e){return t&&t.state?2!==t.state.wrap?R:(t.state.gzhead=e,L):R}function C(t,e,n,i,r,o){if(!t)return R;var s=1;if(e===q&&(e=6),0>i?(s=0,i=-i):i>15&&(s=2,i-=16),1>r||r>K||n!==Z||8>i||i>15||0>e||e>9||0>o||o>Y)return l(t,R);8===i&&(i=9);var a=new b;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+st-1)/st),a.window=new D.Buf8(2*a.w_size),a.head=new D.Buf16(a.hash_size),a.prev=new D.Buf16(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new D.Buf8(a.pending_buf_size),a.d_buf=a.lit_bufsize>>1,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=n,x(t)}function k(t,e){return C(t,e,Z,J,Q,X)}function S(t,e){var n,s,c,d;if(!t||!t.state||e>N||0>e)return t?l(t,R):R;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===vt&&e!==P)return l(t,0===t.avail_out?H:R);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===dt)if(2===s.wrap)t.adler=0,a(s,31),a(s,139),a(s,8),s.gzhead?(a(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),a(s,255&s.gzhead.time),a(s,s.gzhead.time>>8&255),a(s,s.gzhead.time>>16&255),a(s,s.gzhead.time>>24&255),a(s,9===s.level?2:s.strategy>=W||s.level<2?4:0),a(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(a(s,255&s.gzhead.extra.length),a(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=E(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=ht):(a(s,0),a(s,0),a(s,0),a(s,0),a(s,0),a(s,9===s.level?2:s.strategy>=W||s.level<2?4:0),a(s,_t),s.status=mt);else{var h=Z+(s.w_bits-8<<4)<<8,f=-1;f=s.strategy>=W||s.level<2?0:s.level<6?1:6===s.level?2:3,h|=f<<6,0!==s.strstart&&(h|=ct),h+=31-h%31,s.status=mt,u(s,h),0!==s.strstart&&(u(s,t.adler>>>16),u(s,65535&t.adler)),t.adler=1}if(s.status===ht)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(t.adler=E(t.adler,s.pending_buf,s.pending-c,c)),o(t),c=s.pending,s.pending!==s.pending_buf_size));)a(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(t.adler=E(t.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=ft)}else s.status=ft;if(s.status===ft)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=E(t.adler,s.pending_buf,s.pending-c,c)),o(t),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,a(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(t.adler=E(t.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.gzindex=0,s.status=pt)}else s.status=pt;if(s.status===pt)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=E(t.adler,s.pending_buf,s.pending-c,c)),o(t),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,a(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(t.adler=E(t.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.status=gt)}else s.status=gt;if(s.status===gt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&o(t),s.pending+2<=s.pending_buf_size&&(a(s,255&t.adler),a(s,t.adler>>8&255),t.adler=0,s.status=mt)):s.status=mt),0!==s.pending){if(o(t),0===t.avail_out)return s.last_flush=-1,L}else if(0===t.avail_in&&i(e)<=i(n)&&e!==P)return l(t,H);if(s.status===vt&&0!==t.avail_in)return l(t,H);if(0!==t.avail_in||0!==s.lookahead||e!==I&&s.status!==vt){var p=s.strategy===W?v(s,e):s.strategy===V?m(s,e):A[s.level].func(s,e);if(p!==wt&&p!==xt||(s.status=vt),p===yt||p===wt)return 0===t.avail_out&&(s.last_flush=-1),L;if(p===bt&&(e===$?M._tr_align(s):e!==N&&(M._tr_stored_block(s,0,0,!1),e===F&&(r(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),o(t),0===t.avail_out))return s.last_flush=-1,L}return e!==P?L:s.wrap<=0?B:(2===s.wrap?(a(s,255&t.adler),a(s,t.adler>>8&255),a(s,t.adler>>16&255),a(s,t.adler>>24&255),a(s,255&t.total_in),a(s,t.total_in>>8&255),a(s,t.total_in>>16&255),a(s,t.total_in>>24&255)):(u(s,t.adler>>>16),u(s,65535&t.adler)),o(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?L:B)}function T(t){var e;return t&&t.state?(e=t.state.status,e!==dt&&e!==ht&&e!==ft&&e!==pt&&e!==gt&&e!==mt&&e!==vt?l(t,R):(t.state=null,e===mt?l(t,z):L)):R}var A,D=t("../utils/common"),M=t("./trees"),j=t("./adler32"),E=t("./crc32"),O=t("./messages"),I=0,$=1,F=3,P=4,N=5,L=0,B=1,R=-2,z=-3,H=-5,q=-1,U=1,W=2,V=3,Y=4,X=0,G=2,Z=8,K=9,J=15,Q=8,tt=29,et=256,nt=et+1+tt,lt=30,it=19,rt=2*nt+1,ot=15,st=3,at=258,ut=at+st+1,ct=32,dt=42,ht=69,ft=73,pt=91,gt=103,mt=113,vt=666,yt=1,bt=2,wt=3,xt=4,_t=3,Ct=function(t,e,n,l,i){
this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=l,this.func=i};A=[new Ct(0,0,0,0,f),new Ct(4,4,8,4,p),new Ct(4,5,16,8,p),new Ct(4,6,32,32,p),new Ct(4,4,16,16,g),new Ct(8,16,32,32,g),new Ct(8,16,128,128,g),new Ct(8,32,128,256,g),new Ct(32,128,258,1024,g),new Ct(32,258,258,4096,g)],n.deflateInit=k,n.deflateInit2=C,n.deflateReset=x,n.deflateResetKeep=w,n.deflateSetHeader=_,n.deflate=S,n.deflateEnd=T,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(t,e){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=n},{}],34:[function(t,e){"use strict";var n=30,l=12;e.exports=function(t,e){var i,r,o,s,a,u,c,d,h,f,p,g,m,v,y,b,w,x,_,C,k,S,T,A,D;i=t.state,r=t.next_in,A=t.input,o=r+(t.avail_in-5),s=t.next_out,D=t.output,a=s-(e-t.avail_out),u=s+(t.avail_out-257),c=i.dmax,d=i.wsize,h=i.whave,f=i.wnext,p=i.window,g=i.hold,m=i.bits,v=i.lencode,y=i.distcode,b=(1<<i.lenbits)-1,w=(1<<i.distbits)-1;t:do{15>m&&(g+=A[r++]<<m,m+=8,g+=A[r++]<<m,m+=8),x=v[g&b];e:for(;;){if(_=x>>>24,g>>>=_,m-=_,_=x>>>16&255,0===_)D[s++]=65535&x;else{if(!(16&_)){if(0===(64&_)){x=v[(65535&x)+(g&(1<<_)-1)];continue e}if(32&_){i.mode=l;break t}t.msg="invalid literal/length code",i.mode=n;break t}C=65535&x,_&=15,_&&(_>m&&(g+=A[r++]<<m,m+=8),C+=g&(1<<_)-1,g>>>=_,m-=_),15>m&&(g+=A[r++]<<m,m+=8,g+=A[r++]<<m,m+=8),x=y[g&w];n:for(;;){if(_=x>>>24,g>>>=_,m-=_,_=x>>>16&255,!(16&_)){if(0===(64&_)){x=y[(65535&x)+(g&(1<<_)-1)];continue n}t.msg="invalid distance code",i.mode=n;break t}if(k=65535&x,_&=15,_>m&&(g+=A[r++]<<m,m+=8,_>m&&(g+=A[r++]<<m,m+=8)),k+=g&(1<<_)-1,k>c){t.msg="invalid distance too far back",i.mode=n;break t}if(g>>>=_,m-=_,_=s-a,k>_){if(_=k-_,_>h&&i.sane){t.msg="invalid distance too far back",i.mode=n;break t}if(S=0,T=p,0===f){if(S+=d-_,C>_){C-=_;do D[s++]=p[S++];while(--_);S=s-k,T=D}}else if(_>f){if(S+=d+f-_,_-=f,C>_){C-=_;do D[s++]=p[S++];while(--_);if(S=0,C>f){_=f,C-=_;do D[s++]=p[S++];while(--_);S=s-k,T=D}}}else if(S+=f-_,C>_){C-=_;do D[s++]=p[S++];while(--_);S=s-k,T=D}for(;C>2;)D[s++]=T[S++],D[s++]=T[S++],D[s++]=T[S++],C-=3;C&&(D[s++]=T[S++],C>1&&(D[s++]=T[S++]))}else{S=s-k;do D[s++]=D[S++],D[s++]=D[S++],D[s++]=D[S++],C-=3;while(C>2);C&&(D[s++]=D[S++],C>1&&(D[s++]=D[S++]))}break}}break}}while(o>r&&u>s);C=m>>3,r-=C,m-=C<<3,g&=(1<<m)-1,t.next_in=r,t.next_out=s,t.avail_in=o>r?5+(o-r):5-(r-o),t.avail_out=u>s?257+(u-s):257-(s-u),i.hold=g,i.bits=m}},{}],35:[function(t,e,n){"use strict";function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=P,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new v.Buf32(pt),e.distcode=e.distdyn=new v.Buf32(gt),e.sane=1,e.back=-1,D):E}function o(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,r(t)):E}function s(t,e){var n,l;return t&&t.state?(l=t.state,0>e?(n=0,e=-e):(n=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||e>15)?E:(null!==l.window&&l.wbits!==e&&(l.window=null),l.wrap=n,l.wbits=e,o(t))):E}function a(t,e){var n,l;return t?(l=new i,t.state=l,l.window=null,n=s(t,e),n!==D&&(t.state=null),n):E}function u(t){return a(t,vt)}function c(t){if(yt){var e;for(g=new v.Buf32(512),m=new v.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;for(;288>e;)t.lens[e++]=8;for(x(C,t.lens,0,288,g,0,t.work,{bits:9}),e=0;32>e;)t.lens[e++]=5;x(k,t.lens,0,32,m,0,t.work,{bits:5}),yt=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function d(t,e,n,l){var i,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new v.Buf8(r.wsize)),l>=r.wsize?(v.arraySet(r.window,e,n-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(i=r.wsize-r.wnext,i>l&&(i=l),v.arraySet(r.window,e,n-l,i,r.wnext),l-=i,l?(v.arraySet(r.window,e,n-l,l,0),r.wnext=l,r.whave=r.wsize):(r.wnext+=i,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=i))),0}function h(t,e){var n,i,r,o,s,a,u,h,f,p,g,m,pt,gt,mt,vt,yt,bt,wt,xt,_t,Ct,kt,St,Tt=0,At=new v.Buf8(4),Dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return E;n=t.state,n.mode===Y&&(n.mode=X),s=t.next_out,r=t.output,u=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,h=n.hold,f=n.bits,p=a,g=u,Ct=D;t:for(;;)switch(n.mode){case P:if(0===n.wrap){n.mode=X;break}for(;16>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}if(2&n.wrap&&35615===h){n.check=0,At[0]=255&h,At[1]=h>>>8&255,n.check=b(n.check,At,2,0),h=0,f=0,n.mode=N;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=dt;break}if((15&h)!==F){t.msg="unknown compression method",n.mode=dt;break}if(h>>>=4,f-=4,_t=(15&h)+8,0===n.wbits)n.wbits=_t;else if(_t>n.wbits){t.msg="invalid window size",n.mode=dt;break}n.dmax=1<<_t,t.adler=n.check=1,n.mode=512&h?W:Y,h=0,f=0;break;case N:for(;16>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}if(n.flags=h,(255&n.flags)!==F){t.msg="unknown compression method",n.mode=dt;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=dt;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(At[0]=255&h,At[1]=h>>>8&255,n.check=b(n.check,At,2,0)),h=0,f=0,n.mode=L;case L:for(;32>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}n.head&&(n.head.time=h),512&n.flags&&(At[0]=255&h,At[1]=h>>>8&255,At[2]=h>>>16&255,At[3]=h>>>24&255,n.check=b(n.check,At,4,0)),h=0,f=0,n.mode=B;case B:for(;16>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(At[0]=255&h,At[1]=h>>>8&255,n.check=b(n.check,At,2,0)),h=0,f=0,n.mode=R;case R:if(1024&n.flags){for(;16>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(At[0]=255&h,At[1]=h>>>8&255,n.check=b(n.check,At,2,0)),h=0,f=0}else n.head&&(n.head.extra=null);n.mode=z;case z:if(1024&n.flags&&(m=n.length,m>a&&(m=a),m&&(n.head&&(_t=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,i,o,m,_t)),512&n.flags&&(n.check=b(n.check,i,m,o)),a-=m,o+=m,n.length-=m),n.length))break t;n.length=0,n.mode=H;case H:if(2048&n.flags){if(0===a)break t;m=0;do _t=i[o+m++],n.head&&_t&&n.length<65536&&(n.head.name+=String.fromCharCode(_t));while(_t&&a>m);if(512&n.flags&&(n.check=b(n.check,i,m,o)),a-=m,o+=m,_t)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=q;case q:if(4096&n.flags){if(0===a)break t;m=0;do _t=i[o+m++],n.head&&_t&&n.length<65536&&(n.head.comment+=String.fromCharCode(_t));while(_t&&a>m);if(512&n.flags&&(n.check=b(n.check,i,m,o)),a-=m,o+=m,_t)break t}else n.head&&(n.head.comment=null);n.mode=U;case U:if(512&n.flags){for(;16>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}if(h!==(65535&n.check)){t.msg="header crc mismatch",n.mode=dt;break}h=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Y;break;case W:for(;32>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}t.adler=n.check=l(h),h=0,f=0,n.mode=V;case V:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=h,n.bits=f,j;t.adler=n.check=1,n.mode=Y;case Y:if(e===T||e===A)break t;case X:if(n.last){h>>>=7&f,f-=7&f,n.mode=at;break}for(;3>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}switch(n.last=1&h,h>>>=1,f-=1,3&h){case 0:n.mode=G;break;case 1:if(c(n),n.mode=et,e===A){h>>>=2,f-=2;break t}break;case 2:n.mode=J;break;case 3:t.msg="invalid block type",n.mode=dt}h>>>=2,f-=2;break;case G:for(h>>>=7&f,f-=7&f;32>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}if((65535&h)!==(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=dt;break}if(n.length=65535&h,h=0,f=0,n.mode=Z,e===A)break t;case Z:n.mode=K;case K:if(m=n.length){if(m>a&&(m=a),m>u&&(m=u),0===m)break t;v.arraySet(r,i,o,m,s),a-=m,o+=m,u-=m,s+=m,n.length-=m;break}n.mode=Y;break;case J:for(;14>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}if(n.nlen=(31&h)+257,h>>>=5,f-=5,n.ndist=(31&h)+1,h>>>=5,f-=5,n.ncode=(15&h)+4,h>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=dt;break}n.have=0,n.mode=Q;case Q:for(;n.have<n.ncode;){for(;3>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}n.lens[Dt[n.have++]]=7&h,h>>>=3,f-=3}for(;n.have<19;)n.lens[Dt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,kt={bits:n.lenbits},Ct=x(_,n.lens,0,19,n.lencode,0,n.work,kt),n.lenbits=kt.bits,Ct){t.msg="invalid code lengths set",n.mode=dt;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.nlen+n.ndist;){for(;Tt=n.lencode[h&(1<<n.lenbits)-1],mt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(f>=mt);){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}if(16>yt)h>>>=mt,f-=mt,n.lens[n.have++]=yt;else{if(16===yt){for(St=mt+2;St>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}if(h>>>=mt,f-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=dt;break}_t=n.lens[n.have-1],m=3+(3&h),h>>>=2,f-=2}else if(17===yt){for(St=mt+3;St>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}h>>>=mt,f-=mt,_t=0,m=3+(7&h),h>>>=3,f-=3}else{for(St=mt+7;St>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}h>>>=mt,f-=mt,_t=0,m=11+(127&h),h>>>=7,f-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=dt;break}for(;m--;)n.lens[n.have++]=_t}}if(n.mode===dt)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=dt;break}if(n.lenbits=9,kt={bits:n.lenbits},Ct=x(C,n.lens,0,n.nlen,n.lencode,0,n.work,kt),n.lenbits=kt.bits,Ct){t.msg="invalid literal/lengths set",n.mode=dt;break}if(n.distbits=6,n.distcode=n.distdyn,kt={bits:n.distbits},Ct=x(k,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,kt),n.distbits=kt.bits,Ct){t.msg="invalid distances set",n.mode=dt;break}if(n.mode=et,e===A)break t;case et:n.mode=nt;case nt:if(a>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=h,n.bits=f,w(t,g),s=t.next_out,r=t.output,u=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,h=n.hold,f=n.bits,n.mode===Y&&(n.back=-1);break}for(n.back=0;Tt=n.lencode[h&(1<<n.lenbits)-1],mt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(f>=mt);){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}if(vt&&0===(240&vt)){for(bt=mt,wt=vt,xt=yt;Tt=n.lencode[xt+((h&(1<<bt+wt)-1)>>bt)],mt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(f>=bt+mt);){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}h>>>=bt,f-=bt,n.back+=bt}if(h>>>=mt,f-=mt,n.back+=mt,n.length=yt,0===vt){n.mode=st;break}if(32&vt){n.back=-1,n.mode=Y;break}if(64&vt){t.msg="invalid literal/length code",n.mode=dt;break}n.extra=15&vt,n.mode=lt;case lt:if(n.extra){for(St=n.extra;St>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=it;case it:for(;Tt=n.distcode[h&(1<<n.distbits)-1],mt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(f>=mt);){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}if(0===(240&vt)){for(bt=mt,wt=vt,xt=yt;Tt=n.distcode[xt+((h&(1<<bt+wt)-1)>>bt)],mt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(f>=bt+mt);){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}h>>>=bt,f-=bt,n.back+=bt}if(h>>>=mt,f-=mt,n.back+=mt,64&vt){t.msg="invalid distance code",n.mode=dt;break}n.offset=yt,n.extra=15&vt,n.mode=rt;case rt:if(n.extra){for(St=n.extra;St>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=dt;break}n.mode=ot;case ot:if(0===u)break t;if(m=g-u,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=dt;break}m>n.wnext?(m-=n.wnext,pt=n.wsize-m):pt=n.wnext-m,m>n.length&&(m=n.length),gt=n.window}else gt=r,pt=s-n.offset,m=n.length;m>u&&(m=u),u-=m,n.length-=m;do r[s++]=gt[pt++];while(--m);0===n.length&&(n.mode=nt);break;case st:if(0===u)break t;r[s++]=n.length,u--,n.mode=nt;break;case at:if(n.wrap){for(;32>f;){if(0===a)break t;a--,h|=i[o++]<<f,f+=8}if(g-=u,t.total_out+=g,n.total+=g,g&&(t.adler=n.check=n.flags?b(n.check,r,g,s-g):y(n.check,r,g,s-g)),g=u,(n.flags?h:l(h))!==n.check){t.msg="incorrect data check",n.mode=dt;break}h=0,f=0}n.mode=ut;case ut:if(n.wrap&&n.flags){for(;32>f;){if(0===a)break t;a--,h+=i[o++]<<f,f+=8}if(h!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=dt;break}h=0,f=0}n.mode=ct;case ct:Ct=M;break t;case dt:Ct=O;break t;case ht:return I;case ft:default:return E}return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=h,n.bits=f,(n.wsize||g!==t.avail_out&&n.mode<dt&&(n.mode<at||e!==S))&&d(t,t.output,t.next_out,g-t.avail_out)?(n.mode=ht,I):(p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,n.total+=g,n.wrap&&g&&(t.adler=n.check=n.flags?b(n.check,r,g,t.next_out-g):y(n.check,r,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===et||n.mode===Z?256:0),(0===p&&0===g||e===S)&&Ct===D&&(Ct=$),Ct)}function f(t){if(!t||!t.state)return E;var e=t.state;return e.window&&(e.window=null),t.state=null,D}function p(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?E:(n.head=e,e.done=!1,D)):E}var g,m,v=t("../utils/common"),y=t("./adler32"),b=t("./crc32"),w=t("./inffast"),x=t("./inftrees"),_=0,C=1,k=2,S=4,T=5,A=6,D=0,M=1,j=2,E=-2,O=-3,I=-4,$=-5,F=8,P=1,N=2,L=3,B=4,R=5,z=6,H=7,q=8,U=9,W=10,V=11,Y=12,X=13,G=14,Z=15,K=16,J=17,Q=18,tt=19,et=20,nt=21,lt=22,it=23,rt=24,ot=25,st=26,at=27,ut=28,ct=29,dt=30,ht=31,ft=32,pt=852,gt=592,mt=15,vt=mt,yt=!0;n.inflateReset=o,n.inflateReset2=s,n.inflateResetKeep=r,n.inflateInit=u,n.inflateInit2=a,n.inflate=h,n.inflateEnd=f,n.inflateGetHeader=p,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(t,e){"use strict";var n=t("../utils/common"),l=15,i=852,r=592,o=0,s=1,a=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,f,p,g,m,v,y){var b,w,x,_,C,k,S,T,A,D=y.bits,M=0,j=0,E=0,O=0,I=0,$=0,F=0,P=0,N=0,L=0,B=null,R=0,z=new n.Buf16(l+1),H=new n.Buf16(l+1),q=null,U=0;for(M=0;l>=M;M++)z[M]=0;for(j=0;p>j;j++)z[e[f+j]]++;for(I=D,O=l;O>=1&&0===z[O];O--);if(I>O&&(I=O),0===O)return g[m++]=20971520,g[m++]=20971520,y.bits=1,0;for(E=1;O>E&&0===z[E];E++);for(E>I&&(I=E),P=1,M=1;l>=M;M++)if(P<<=1,P-=z[M],0>P)return-1;if(P>0&&(t===o||1!==O))return-1;for(H[1]=0,M=1;l>M;M++)H[M+1]=H[M]+z[M];for(j=0;p>j;j++)0!==e[f+j]&&(v[H[e[f+j]]++]=j);if(t===o?(B=q=v,k=19):t===s?(B=u,R-=257,q=c,U-=257,k=256):(B=d,q=h,k=-1),L=0,j=0,M=E,C=m,$=I,F=0,x=-1,N=1<<I,_=N-1,t===s&&N>i||t===a&&N>r)return 1;for(var W=0;;){W++,S=M-F,v[j]<k?(T=0,A=v[j]):v[j]>k?(T=q[U+v[j]],A=B[R+v[j]]):(T=96,A=0),b=1<<M-F,w=1<<$,E=w;do w-=b,g[C+(L>>F)+w]=S<<24|T<<16|A|0;while(0!==w);for(b=1<<M-1;L&b;)b>>=1;if(0!==b?(L&=b-1,L+=b):L=0,j++,0===--z[M]){if(M===O)break;M=e[f+v[j]]}if(M>I&&(L&_)!==x){for(0===F&&(F=I),C+=E,$=M-F,P=1<<$;O>$+F&&(P-=z[$+F],!(0>=P));)$++,P<<=1;if(N+=1<<$,t===s&&N>i||t===a&&N>r)return 1;x=L&_,g[x]=I<<24|$<<16|C-m|0}}return 0!==L&&(g[C+L]=M-F<<24|64<<16|0),y.bits=I,0}},{"../utils/common":27}],37:[function(t,e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(t,e,n){"use strict";function l(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t){return 256>t?ot[t]:ot[256+(t>>>7)]}function r(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function o(t,e,n){t.bi_valid>Y-n?(t.bi_buf|=e<<t.bi_valid&65535,r(t,t.bi_buf),t.bi_buf=e>>Y-t.bi_valid,t.bi_valid+=n-Y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function s(t,e,n){o(t,n[2*e],n[2*e+1])}function a(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function u(t){16===t.bi_valid?(r(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function c(t,e){var n,l,i,r,o,s,a=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(r=0;V>=r;r++)t.bl_count[r]=0;for(a[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;W>n;n++)l=t.heap[n],r=a[2*a[2*l+1]+1]+1,r>p&&(r=p,g++),a[2*l+1]=r,l>u||(t.bl_count[r]++,o=0,l>=f&&(o=h[l-f]),s=a[2*l],t.opt_len+=s*(r+o),d&&(t.static_len+=s*(c[2*l+1]+o)));if(0!==g){do{for(r=p-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(r=p;0!==r;r--)for(l=t.bl_count[r];0!==l;)i=t.heap[--n],i>u||(a[2*i+1]!==r&&(t.opt_len+=(r-a[2*i+1])*a[2*i],a[2*i+1]=r),l--)}}function d(t,e,n){var l,i,r=new Array(V+1),o=0;for(l=1;V>=l;l++)r[l]=o=o+n[l-1]<<1;for(i=0;e>=i;i++){var s=t[2*i+1];0!==s&&(t[2*i]=a(r[s]++,s))}}function h(){var t,e,n,l,i,r=new Array(V+1);for(n=0,l=0;R-1>l;l++)for(at[l]=n,t=0;t<1<<Q[l];t++)st[n++]=l;for(st[n-1]=l,i=0,l=0;16>l;l++)for(ut[l]=i,t=0;t<1<<tt[l];t++)ot[i++]=l;for(i>>=7;q>l;l++)for(ut[l]=i<<7,t=0;t<1<<tt[l]-7;t++)ot[256+i++]=l;for(e=0;V>=e;e++)r[e]=0;for(t=0;143>=t;)it[2*t+1]=8,t++,r[8]++;for(;255>=t;)it[2*t+1]=9,t++,r[9]++;for(;279>=t;)it[2*t+1]=7,t++,r[7]++;for(;287>=t;)it[2*t+1]=8,t++,r[8]++;for(d(it,H+1,r),t=0;q>t;t++)rt[2*t+1]=5,rt[2*t]=a(t,5);ct=new ft(it,Q,z+1,H,V),dt=new ft(rt,tt,0,q,V),ht=new ft(new Array(0),et,0,U,X)}function f(t){var e;for(e=0;H>e;e++)t.dyn_ltree[2*e]=0;for(e=0;q>e;e++)t.dyn_dtree[2*e]=0;for(e=0;U>e;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*G]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function p(t){t.bi_valid>8?r(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,n,l){p(t),l&&(r(t,n),r(t,~n)),j.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function m(t,e,n,l){var i=2*e,r=2*n;return t[i]<t[r]||t[i]===t[r]&&l[e]<=l[n]}function v(t,e,n){for(var l=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&m(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!m(e,l,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=l}function y(t,e,n){var l,r,a,u,c=0;if(0!==t.last_lit)do l=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],r=t.pending_buf[t.l_buf+c],c++,0===l?s(t,r,e):(a=st[r],s(t,a+z+1,e),u=Q[a],0!==u&&(r-=at[a],o(t,r,u)),l--,a=i(l),s(t,a,n),u=tt[a],0!==u&&(l-=ut[a],o(t,l,u)));while(c<t.last_lit);s(t,G,e)}function b(t,e){var n,l,i,r=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=W,n=0;a>n;n++)0!==r[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):r[2*n+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=2>u?++u:0,r[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)v(t,r,n);i=a;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],v(t,r,1),l=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=l,r[2*i]=r[2*n]+r[2*l],t.depth[i]=(t.depth[n]>=t.depth[l]?t.depth[n]:t.depth[l])+1,r[2*n+1]=r[2*l+1]=i,t.heap[1]=i++,v(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],c(t,e),d(r,u,t.bl_count)}function w(t,e,n){var l,i,r=-1,o=e[1],s=0,a=7,u=4;for(0===o&&(a=138,u=3),e[2*(n+1)+1]=65535,l=0;n>=l;l++)i=o,o=e[2*(l+1)+1],++s<a&&i===o||(u>s?t.bl_tree[2*i]+=s:0!==i?(i!==r&&t.bl_tree[2*i]++,t.bl_tree[2*Z]++):10>=s?t.bl_tree[2*K]++:t.bl_tree[2*J]++,s=0,r=i,0===o?(a=138,u=3):i===o?(a=6,u=3):(a=7,u=4))}function x(t,e,n){var l,i,r=-1,a=e[1],u=0,c=7,d=4;for(0===a&&(c=138,d=3),l=0;n>=l;l++)if(i=a,a=e[2*(l+1)+1],!(++u<c&&i===a)){if(d>u){do s(t,i,t.bl_tree);while(0!==--u)}else 0!==i?(i!==r&&(s(t,i,t.bl_tree),u--),s(t,Z,t.bl_tree),o(t,u-3,2)):10>=u?(s(t,K,t.bl_tree),o(t,u-3,3)):(s(t,J,t.bl_tree),o(t,u-11,7));u=0,r=i,0===a?(c=138,d=3):i===a?(c=6,d=3):(c=7,d=4)}}function _(t){var e;for(w(t,t.dyn_ltree,t.l_desc.max_code),w(t,t.dyn_dtree,t.d_desc.max_code),b(t,t.bl_desc),e=U-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function C(t,e,n,l){var i;for(o(t,e-257,5),o(t,n-1,5),o(t,l-4,4),i=0;l>i;i++)o(t,t.bl_tree[2*nt[i]+1],3);x(t,t.dyn_ltree,e-1),x(t,t.dyn_dtree,n-1)}function k(t){var e,n=4093624447;for(e=0;31>=e;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return O;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return I;for(e=32;z>e;e++)if(0!==t.dyn_ltree[2*e])return I;return O}function S(t){gt||(h(),gt=!0),t.l_desc=new pt(t.dyn_ltree,ct),t.d_desc=new pt(t.dyn_dtree,dt),t.bl_desc=new pt(t.bl_tree,ht),t.bi_buf=0,t.bi_valid=0,f(t)}function T(t,e,n,l){o(t,(F<<1)+(l?1:0),3),g(t,e,n,!0)}function A(t){o(t,P<<1,3),s(t,G,it),u(t)}function D(t,e,n,l){var i,r,s=0;t.level>0?(t.strm.data_type===$&&(t.strm.data_type=k(t)),b(t,t.l_desc),b(t,t.d_desc),s=_(t),i=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,i>=r&&(i=r)):i=r=n+5,i>=n+4&&-1!==e?T(t,e,n,l):t.strategy===E||r===i?(o(t,(P<<1)+(l?1:0),3),y(t,it,rt)):(o(t,(N<<1)+(l?1:0),3),C(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),y(t,t.dyn_ltree,t.dyn_dtree)),f(t),l&&p(t)}function M(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(st[n]+z+1)]++,t.dyn_dtree[2*i(e)]++),t.last_lit===t.lit_bufsize-1}var j=t("../utils/common"),E=4,O=0,I=1,$=2,F=0,P=1,N=2,L=3,B=258,R=29,z=256,H=z+1+R,q=30,U=19,W=2*H+1,V=15,Y=16,X=7,G=256,Z=16,K=17,J=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],lt=512,it=new Array(2*(H+2));l(it);var rt=new Array(2*q);l(rt);var ot=new Array(lt);l(ot);var st=new Array(B-L+1);l(st);var at=new Array(R);l(at);var ut=new Array(q);l(ut);var ct,dt,ht,ft=function(t,e,n,l,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=l,this.max_length=i,this.has_stree=t&&t.length},pt=function(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e},gt=!1;n._tr_init=S,n._tr_stored_block=T,n._tr_flush_block=D,n._tr_tally=M,n._tr_align=A},{"../utils/common":27}],39:[function(t,e){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},{}]},{},[9])(9)}),function(){var t;t=function(){function t(t,e,n,l,i){var r,o,s,a;null==n&&(n={}),null==l&&(l={}),null==i&&(i={}),this.container=t,a={yDomain:[0,100],chartHeight:300,containerPadding:0,staggerLabels:!1,handleOverlap:!0,loadingSelector:null,fadeOnHover:!1,yAxisTickValues:null,groupSpacing:.19},$.extend(a,i),r=18,s=350,o=10,nv.addGraph(function(u){return function(){var c,d,h,f,p;return h=nv.models.multiBarChart().x(function(t){return t[0]}).y(function(t){return t[1]}).tooltips(!1).duration(s).staggerLabels(a.staggerLabels).groupSpacing(a.groupSpacing).showLegend(!1).showControls(!1).color([]),h.height(a.chartHeight).width($(t).width()-a.containerPadding),l.xAxis&&h.xAxis.axisLabel(l.xAxis),l.yAxis&&h.yAxis.axisLabel(l.yAxis),h.xAxis.tickPadding(o),h.yAxis.tickPadding(o),h.yDomain(a.yDomain),a.yAxisTickValues&&h.yAxis.tickValues(a.yAxisTickValues),h.yAxis.tickFormat(function(t){return Math.floor(t)===t?t:void 0}),f=e[0].values.length,p=[],f>r&&a.handleOverlap&&h.xAxis.tickFormat(function(t){var e;return t=parseFloat(t),e=Math.floor(t),e!==t&&-1===p.indexOf(e)&&p.push(e),e}),d3.select(t).datum(e).call(h),c=d3.select(t).selectAll("rect.nv-bar.positive"),u.rects_by_axis_label={},u.value_by_axis_label={},c.each(function(t,e){var n,l;return l=t[0],n=c[0][e],u.rects_by_axis_label[l]=n,u.value_by_axis_label[l]=t[1]}),u.initFamiliesForRects(),d=d3.select(t).select(".nv-axis.nv-x")[0],3>f&&l.xAxis&&$(d)[0]&&u.repositionXAxisLabel(),f>r&&a.handleOverlap&&u.handleOverlappingLabels(h,p,d),n.onRectMouseOver&&u.addRectMouseOverListener(h,n.onRectMouseOver),n.onRectMouseOut&&u.addRectMouseOutListener(h,n.onRectMouseOut),n.onRectMouseClick&&u.addRectMouseClickListener(h,n.onRectMouseClick),n.onFullChartClick&&u.addFullChartClickListener(n.onFullChartClick),n.onLoad&&n.onLoad(u.rects_by_axis_label,u.rect_families),i.fadeOnHover&&u.addFadeListener(),i.loadingSelector?$(i.loadingSelector).fadeOut():void 0}}(this))}return t.prototype.repositionXAxisLabel=function(){var t,e,n,l;return t=d3.select(this.container).select(".nv-axis.nv-x")[0],l=d3.select(this.container).select(".nv-y .nv-axis .tick.zero line")[0],e=$(t).find(".nv-axislabel"),$(l)[0]?(n=$(l)[0].getBoundingClientRect().width,$(e).attr("x",n/2)):void 0},t.prototype.getRectsByAxisLabel=function(){return this.rects_by_axis_label},t.prototype.initFamiliesForRects=function(){var t;return t={},this.rect_families=new FamilyManager,Object.keys(this.rects_by_axis_label).forEach(function(){return function(e){return t[parseInt(e)]||(t[parseInt(e)]=[]),t[parseInt(e)].push(e)}}(this)),Object.keys(t).forEach(function(e){return function(n){return e.rect_families.addFamily(t[n])}}(this))},t.prototype.handleOverlappingLabels=function(t,e,n){var l,i,r;return l=$(n).getTranslation(),$(n).setTranslation(l.x,l.y+6),r=d3.select(this.container).selectAll(".nv-x .nv-axis g.tick"),i=-1,this.shrinkFontSize(r[0][0]),_.each(e,function(t){var e,n,l,o,s,a,u,c,d;return l=r.filter(function(e,n){return Math.floor(e)===parseInt(t)?r[0][n]:void 0}),e=l[0][0],o=l[0][l[0].length-1],c=$(e).clone(),$(c).css("opacity","1"),n=$(e).getTranslation(),s=$(o).getTranslation(),d=(s.x-n.x)/2,$(c).setTranslation(n.x+d,n.y),u=s.x-n.x,a=$(c).find("line"),$(a).svgAddClass("show"),$(a).attr("y2",u-1),$(a).attr("transform","rotate(-90, 0, 0), translate("+i+", "+(-d+1)+")"),$(a).css("opacity","1"),$(e).parent().append(c),_.each(l[0],function(t){var e,n,l;return n=$(t).clone(),$(t).parent().append(n),$(t).remove(),l=$(n).getTranslation(),$(n).find("text").remove(),$(n).css("opacity","1"),$(n).setTranslation(l.x-1.4,l.y),e=$("<svg><circle cx='1.4' cy='1.4' r='1.4' fill='rgba(175, 175, 175, 1)' /></svg>"),$(e).find("circle").css("opacity","1"),$(n).append(e)})})},t.prototype.shrinkFontSize=function(t){var e,n,l,i;return e=this.getMinBarWidth(),n={10:"miniscule",12:"tiny",15:"small",18:"medium"},l="normal",Object.keys(n).every(function(t){return t>e?(l=n[t],!1):!0}),i=$(t).parent().find("text"),$(i).svgAddClass(l)},t.prototype.getMinBarWidth=function(){var t;return t=d3.select(this.container).select("rect.nv-bar.positive")[0][0],parseFloat($(t).attr("width"))},t.prototype.addRectMouseOverListener=function(t,e){return t.multibar.dispatch.on("elementMouseover",function(t){return function(n){return e(n,t.rects_by_axis_label,t.rect_families)}}(this))},t.prototype.addRectMouseOutListener=function(t,e){return t.multibar.dispatch.on("elementMouseout",e)},t.prototype.addRectMouseClickListener=function(t,e){return t.multibar.dispatch.on("elementClick",function(t){return function(n){return e(n,t.rects_by_axis_label,t.rect_families)}}(this))},t.prototype.addFullChartClickListener=function(t){return $(this.container).parent().on("click",t)},t.prototype.addFadeListener=function(){return $(this.container).svgAddClass("with-fading")},t.prototype.showMeanLine=function(t,e,n){var l,i,r,o,s,a,u,c,d,h,f,p,g,m,v,y;return f=parseInt($(t).css("padding-top")),c=24,p=56,u=5,l=$(e).height()-c-p,m=f+c+u,i=l-l*n+m,h=parseInt($(t).css("padding-left")),d=60,o=h+d,s=$("<div id='mean-line'>&nbsp;</div>").hide(),$(t).append(s),s.css({width:$(e).width()-o-h,position:"absolute",top:i,left:o}),v=$("<div id='mean-triangle'>&nbsp;</div>").hide(),$(t).append(v),r=7,v.css({position:"absolute",top:i-r,left:o}),g=$("<span id='mean-tagline'>assignment mean</span>").hide(),$(t).append(g),a=13,y=10,g.css({position:"absolute",top:i-a,left:o+y}),s.show(),v.show(),g.show()},t}(),window.DiscreteBarChart=t}.call(this),function(){var t,e=function(t,e){function l(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return l.prototype=e.prototype,t.prototype=new l,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=function(t){function n(t,e,l,i,r){var o;null==l&&(l={}),null==i&&(i={}),null==r&&(r={}),o={shift_axis:!0,groupSpacing:0,hideEmptyBins:!0,deleteEmptyBinLabels:!1,truncateEmptyBinLabels:!0},$.extend(o,r),l.onLoad=function(e){return function(){var n,l,i,r,s,a,u,c,d,h,f,p,g,m;return o.shift_axis&&(h=d3.select(t).select(".nv-axis.nv-x")[0],m=$(h).getTranslation(),a=d3.select(t).select("rect.nv-bar.positive")[0],n=$(a).getTranslation(),u=parseFloat($(a).attr("width")),g=u/2+n.x/2,$(h).setTranslation(-g,m.y),f=$(h).find(".nv-axislabel"),$(f).setTranslation(g,0),i=$(h).find("g.tick").last(),r=$(i).getTranslation(),s=parseFloat($(i).find("text").text()),c=o.right_endpoint,d="translate("+(r.x+2*g)+", 0)",l=$(i).clone(),$(l).find("text").text(c),$(l).attr("transform",d),$(l).css("opacity",1),$(i).after(l)),o.hideEmptyBins?(p=d3.select(e.container).selectAll(".nv-x .nv-axis g.tick")[0],_.each(p,function(t){var n,l,i,r;if(r=$(t).find("text").text(),n=e.rects_by_axis_label[r],l=e.value_by_axis_label[r],0===l){if($(n).remove(),o.deleteEmptyBinLabels)return $(t).remove();if(o.truncateEmptyBinLabels)return i=$(t).find("text"),$(i).text(+parseFloat(r).toFixed(2))}})):void 0}}(this),n.__super__.constructor.call(this,t,e,l,i,o)}return e(n,t),n}(DiscreteBarChart),window.Histogram=t}.call(this),function(){var t,e;$(function(){return $(".js-interactiveElement").each(function(t,e){var n;return n=$(e),accessibility.setAccessibleAttributes(n),accessibility.registerKeyboardHandlers(n)})}),e=32,t=13,window.accessibility={},accessibility.registerKeyboardHandlers=function(n){return n.on("keypress",function(n){switch(n.keyCode){case e:case t:return n.preventDefault(),$(n.target).trigger("click")}})},accessibility.setAccessibleAttributes=function(t){return t.attr("role")||t.attr({role:"button"}),t.attr("tabindex")?void 0:t.attr({tabindex:"0"})}}.call(this),function(){var t,e=function(t,e){function l(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return l.prototype=e.prototype,t.prototype=new l,t.__super__=e.prototype,t},n={}.hasOwnProperty;"function"!=typeof window.CustomEvent&&(t=function(t){function n(t,e){var n;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}return e(n,t),n}(Event),window.CustomEvent=t)}.call(this),function(){var t;t=function(){function t(){this.family_for_tenant={},this.tenants_for_family={},this.next_family=0}return t.prototype.addFamily=function(t){var e,n,l,i,r;for(n=this.next_family,this.next_family+=1,e={},l=0,i=t.length;i>l;l++)r=t[l],e[r]=n;return $.extend(this.family_for_tenant,e),this.tenants_for_family[n]=t},t.prototype.getFamily=function(t){var e;return e=this.family_for_tenant[t],this.tenants_for_family[e]},t.prototype.getSiblings=function(t){var e,n;return e=this.getFamily(t),n=e.indexOf(t),e.slice(0,n).concat(e.slice(n+1))},t}(),window.FamilyManager=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){var n;this.node=t,this.post=e(this.post,this),this.handleRatingSelection=e(this.handleRatingSelection,this),this.handleUnload=e(this.handleUnload,this),this.rated=!1,this.postUrl=this.node.data("url"),n=this.node.modal({onClose:function(t){return function(){return t.post({survey_closed:!0}),$(window).unbind("beforeunload",t.handleUnload)}}(this)}),this.node.find(".js-closeModal").click(function(t){return t.preventDefault(),n.close()}),n.open(),this.handleRatingSelection(),$(window).bind("beforeunload",this.handleUnload)}return t.prototype.handleUnload=function(){this.rated&&this.post({survey_closed:!0})},t.prototype.handleRatingSelection=function(){return $(".edit_grading_survey input:radio").click(function(t){return function(e){var n;return t.rated=!0,n=e.currentTarget.value,t.post({rating:n}),n>=9?t.showPositive():n>=7?t.showNeutral():t.showNegative(),$(".edit_grading_survey input:radio").off("click"),$(".gradingSurvey--radioLabel").addClass("gradingSurvey--radioLabel-is-disabled"),$(".gradingSurvey--radioLabel-"+n).addClass("gradingSurvey--radioLabel-is-selected"),
t.node.addClass("gradingSurvey-is-rated"),t.node.find('input[type="submit"]').click(function(){return t.node.addClass("gradingSurvey-is-withSubmittedFeedback")})}}(this))},t.prototype.showPositive=function(){return $(".js-gradingSurveyPositiveText").addClass("gradingSurvey--feedbackText-is-visible")},t.prototype.showNeutral=function(){return $(".js-gradingSurveyNeutralText").addClass("gradingSurvey--feedbackText-is-visible")},t.prototype.showNegative=function(){return $(".js-gradingSurveyNegativeText").addClass("gradingSurvey--feedbackText-is-visible")},t.prototype.post=function(t){return $.ajax({url:this.postUrl,method:"PUT",data:{grading_survey:t}})},t}(),this.GradingSurvey=t}.call(this),function(){var t,e,n,l,i,r,o;t=125,window.originalJBox=window.jBox,window.jBox=function(t,s){var a,u,c,d,h;return u=!s.trigger||"mouseenter"===s.trigger,a="click"===s.trigger,s.closeOnEsc=!0,c=new originalJBox(t,s),$(c.content).attr({"aria-hidden":"true",role:"tooltip"}),u?(c.options.onOpen=o,c.options.onClose=r,null!=(d=c.attachedElements)&&d.forEach(function(t){var e;return e=$(t),i(e),l(e,c),e.on({focusin:function(){return c.open({target:e})},focusout:function(){return c.close()}})})):a&&(c.options.onCloseComplete=e,c.open=function(t){return function(){return t.call(c),n.call(c)}}(c.open),null!=(h=c.attachedElements)&&h.forEach(function(t){var e;return e=$(t),i(e),window.accessibility.registerKeyboardHandlers(e)})),c},_.extend(jBox,originalJBox),i=function(t){var e,n,l,i;n={role:"button",tabindex:"0","aria-haspopup":!0,"aria-expanded":!1},l=[];for(e in n)i=n[e],t.attr(e)?l.push(void 0):l.push(t.attr(e,i));return l},l=function(e,n){var l;return l=n.options.title||$("#"+n.id).text(),l&&l.length<t?e.attr("aria-label",l):void 0},o=function(){return $(this.source).attr({"aria-describedby":this.id,"aria-expanded":!0}),$(this.content).attr({"aria-hidden":!1})},r=function(){return $(this.source).attr({"aria-expanded":!1}),$(this.source).removeAttr("aria-describedby"),$(this.content).attr({"aria-hidden":!0})},n=function(){var t;return o.call(this),this.previouslyFocusedElement=document.activeElement,t=this.content.find("*").filter(function(t,e){return $(e).prop("tabindex")>-1}).first(),t?t.focus():($(this.content).attr({tabindex:"-1"}),this.content.focus())},e=function(){return r.call(this),this.previouslyFocusedElement?this.previouslyFocusedElement.focus():void 0}}.call(this),function(){var t,e;e=function(t,e,n){return"undefined"==typeof n||0===+n?Math[t](e):(e=+e,n=+n,isNaN(e)||"number"!=typeof n||n%1!==0?NaN:(e=e.toString().split("e"),e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-n:-n))),e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]+n:n))))},t={},t.round10=function(t,n){return e("round",t,n)},t.floor10=function(t,n){return e("floor",t,n)},t.ceil10=function(t,n){return e("ceil",t,n)},window.MathUtil=t}.call(this),function(){var t;t=function(){function t(t,e){this.progressBar=t,this.progressBarFill=this.progressBar.find(".progressBar--fill"),this.progressBarCaption=this.progressBar.find(".progressBar--caption"),this.onError=e}return t.prototype.resetProgress=function(t){return this.progressBar.hide(),this._setProgress(0,t)},t.prototype.startProgress=function(t,e){return this.progressBar.show(),this.jobStatusUrl=t,this.jid=e,this._pollJobStatus()},t.prototype._pollJobStatus=function(){return $.ajax({url:this.jobStatusUrl,dataType:"json",data:{jid:this.jid},success:function(t){return function(e){return t._pollCallback(e)}}(this)})},t.prototype._pollCallback=function(t){return t.failed&&this.onError(this.jid,t),t.percent_complete&&this._setProgress(t.percent_complete),t.redirect_to?window.location=t.redirect_to:setTimeout(function(t){return function(){return t._pollJobStatus()}}(this),5e3)},t.prototype._setProgress=function(t,e){return this.progressBarFill.css("width",t+"%"),e?this.progressBarCaption.html(e):void 0},t}(),window.ProgressHandler=t}.call(this),function(){var t;t=function(t){return function(){return setTimeout(function(){return ReactDOM.unmountComponentAtNode(t)},0)}},this.unmountAsync=t}.call(this),function(){var t;t=function(){function t(t,e,n){var l;null==n&&(n={}),l={canAdd:!1,canDelete:!1,canClick:!1,apiCallOnAddUrl:null,apiCallOnDeleteUrl:null,onAdd:null,onDelete:null,onClick:null,allowDuplicateTags:!1,maxLength:100},$.extend(l,n),n=l,this.tag_group_identifier="tag-group-"+Math.random(),this.tag_titles=e,_.each(e,function(e){return function(l){var i;return i=e.createTag(l,n),$(t).append(i)}}(this)),n.canAdd&&this.configureTagAdditionManager(t,n),n.canDelete&&this.configureTagDeletionManager(t,n),n.onClick&&this.registerOnClickListener(t,n)}return t.prototype.createTag=function(t,e){var n,l;return l="tag-"+Math.random(),n="tag",e.canDelete&&(n+=" can-delete"),e.canClick&&(n+=" can-click"),$("<div data-tag-id='"+l+"' data-group-id='"+this.tag_group_identifier+"' class='"+n+"'> <span class='title'>"+t+"</span> <i class='fa fa-times-circle delete' /> </div>")},t.prototype.configureTagAdditionManager=function(t,e){var n,l,i;return n=$("<div class='divider'></div>"),i="add-tag-btn-"+Math.random(),this.add_tag_elements={id:i,button:$("<i data-id='"+i+"' class='add-tag-btn' />"),form:$("<input data-id='add-tag-form-"+Math.random()+"' class='tag add-tag-form' type='text' />")},$(t).append(n),$(t).append(this.add_tag_elements.button),$(t).append(this.add_tag_elements.form),l=this.tag_titles.length>0,$(this.add_tag_elements.button).toggle(l),$(document).on("click","[data-id='"+this.add_tag_elements.id+"']",function(t){return function(){return $(t.add_tag_elements.form).addClass("show"),$(t.add_tag_elements.form).focus(),$(t.add_tag_elements.button).hide(),$(t.add_tag_elements.button_copy).hide()}}(this)),$(this.add_tag_elements.form).on("keypress",function(t){return function(e){return 13===e.which?(e.preventDefault(),$(t.add_tag_elements.form).blur()):void 0}}(this)),$(this.add_tag_elements.form).on("blur",function(n){return function(){var i,r,o;return r=$(t).parent(),o=$(n.add_tag_elements.form).val().strip(),$(n.add_tag_elements.form).removeClass("show"),$(n.add_tag_elements.form).val(""),-1!==n.tag_titles.indexOf(o)?(alert("Sorry! A tag can't be added to a question more than once, and this question already has the tag you're trying to add."),n.delay(20,function(){return $(n.add_tag_elements.button).click()})):""===o?(l=n.tag_titles.length>0,$(n.add_tag_elements.button).toggle(l),$(n.add_tag_elements.button_copy).toggle(!l)):o.length>e.maxLength?(alert("This tag is too long ("+o.length+" characters)! The maximum length for a tag is "+e.maxLength+" characters."),n.delay(20,function(){return $(n.add_tag_elements.button).click()})):(i=n.createTag(o,e),n.tag_titles.push(o),$(i).insertBefore($(r).find(".divider")),e.apiCallOnAddUrl&&$.ajax({url:e.apiCallOnAddUrl,type:"POST",data:{tag_added:o,all_tags:n.tag_titles},error:function(){return $(i).remove(),n.tag_titles.splice(n.tag_titles.indexOf(o),1),alert("Oops! Unfortunately, we were unable to add '"+o+"' to a question like you asked. Please wait a moment and try again. If this issue persists, let us know at help@gradescope.com."),$(n.add_tag_elements.button).click(),$(n.add_tag_elements.form).text(o)}}),e.onAdd&&e.onAdd(i),n.delay(20,function(){return $(n.add_tag_elements.button).click()}))}}(this))},t.prototype.configureTagDeletionManager=function(t,e){return $(document).on("click",".tag[data-group-id='"+this.tag_group_identifier+"'] .delete",function(t){return function(n){var l,i,r,o,s;return n.stopPropagation(),l=n.currentTarget,r=$(l).parent(),s=$(r).find(".title").text().strip(),o=$(r).attr("data-tag-id"),$(r).hide(),i=1===t.tag_titles.length,$(t.add_tag_elements.button).toggle(!i),$(t.add_tag_elements.button_copy).toggle(i),t.tag_titles.splice(t.tag_titles.indexOf(s),1),e.apiCallOnDeleteUrl&&$.ajax({url:e.apiCallOnDeleteUrl,type:"POST",data:{tag_deleted:s,all_tags:t.tag_titles},success:function(){return $(r).remove()},error:function(){return $(r).show(),t.tag_titles.push(s),alert("Oops! Unfortunately, we were unable to remove '"+s+"' from a question like you asked. Please wait a moment and try again. If this issue persists, let us know at help@gradescope.com."),$(t.add_tag_elements.button).show(),$(t.add_tag_elements.button_copy).hide()}}),e.onDelete?e.onDelete(r):void 0}}(this))},t.prototype.registerOnClickListener=function(t,e){return $(document).on("click",".tag[data-group-id='"+this.tag_group_identifier+"']",function(){return e.onClick($(this))})},t.prototype.getAddTagButtonCopy=function(){return this.add_tag_elements.button_copy||(this.add_tag_elements.button_copy=$(this.add_tag_elements.button).clone(),$(this.add_tag_elements.button_copy).attr("data-clone","true")),this.add_tag_elements.button_copy},t.prototype.delay=function(t,e){return setTimeout(e,t)},t}(),window.Tagger=t}.call(this),function(){var t,e;$.modal({onOpen:function(t,n){var l,i;return n.previousFocusedElement=document.activeElement,i=t.children().first(),i.css({display:"block"}),l=i.find("*").filter(function(t,e){return $(e).prop("tabindex")>-1}).first(),l.focus(),e(t)},onBeforeClose:function(e){return t(e)},onClose:function(t,e){return setTimeout(function(){return e.previousFocusedElement?(e.previousFocusedElement.focus(),e.previousFocusedElement=null):void 0},1)}}),e=function(t){return $(t).siblings().each(function(t,e){var n;return n=$(e),n.hasClass("datetimepicker")?void 0:n.attr({inert:!0})})},t=function(t){return $(t).siblings().each(function(t,e){return $(e).removeAttr("inert")})}}.call(this),function(){String.prototype.strip=function(){return null!=String.prototype.trim?this.trim():this.replace(/^\s+|\s+$/g,"")},String.prototype.truncate=function(t){return this.substr(0,t-1)+(this.length>t?String.fromCharCode(8230):"")},String.prototype.pluralize=function(t){var e;return e=t+" "+this,1===t||-1===t?e:e.concat("s")},String.prototype.toTitleCase=function(){var t;return this?(t=this.toLowerCase(),t.replace(/(?:^|[\s-])\w/g,function(t){return t.toUpperCase()})):this},Array.prototype.sum=function(){return this.reduce(function(t,e){return t+e},0)}}.call(this),function(){var t,e,n,l;l=new Object,window.site=l,l.common=new Object,t=function(){var t,e,n;try{if(e="test-localstorage-"+Date.now(),localStorage.setItem(e,e),n=localStorage.getItem(e),localStorage.removeItem(e),n!==e)throw new Error;return localStorage}catch(l){return t=l,new MemoryStorage}},e=function(){var t,e;return e=$("textarea:visible"),t=e.length,e.length>0?(window.autosizeFinished=!1,e.on("autosize:resized",function(){return t-=1,0===t?window.autosizeFinished=!0:void 0})):window.autosizeFinished=!0,autosize($("textarea"))},l.common.init=function(){var i;return responsiveActionBar(),e(),n(),l.common.localStorage=t(),i=$(".datetime-select").datetimepicker({format:"M d yyyy HH:ii P",initialDate:new Date((new Date).setMinutes(0)),keyboardNavigation:!1,minView:"day",viewSelect:"month",autoclose:!0,fontAwesome:!0}),$.validator.setDefaults({onkeyup:!1,ignore:":hidden:not([class~=selectized]),:hidden > .selectized, .selectize-control .selectize-input input",errorPlacement:function(t,e){var n,l,i,r;return(r=t.text())?(i=" ("+r+")",l=e.prev("label"),n=l.find(".error-msg, .form--labelErrorMsg"),n.length?n.text(i):(n=$("<span>").attr("class","error-msg form--labelErrorMsg").text(i),l.append(n))):void 0},success:function(t){var e;return e=t.attr("for"),$("label[for='"+e+"']").find(".error-msg, .form--labelErrorMsg").remove()}}),window.emailRegex=/^[\w+\-'.]+@[a-z\d\-.]+\.[a-z]+$/i,$.validator.addMethod("stricterEmail",function(t,e){return this.optional(e)||window.emailRegex.test(t)},"Invalid format"),$.validator.addMethod("dateIsSameOrBefore",function(t,e,n){return""===n[0]||""===t||moment(t,"MMM DD YYYY hh:mm A").isSameOrBefore(moment(n[0],"MMM DD YYYY hh:mm A"))},"Must be earlier than {1}"),$.validator.addMethod("dateIsSameOrAfter",function(t,e,n){return""===n[0]||""===t||moment(t,"MMM DD YYYY hh:mm A").isSameOrAfter(moment(n[0],"MMM DD YYYY hh:mm A"))},"Must be later than {1}"),$.validator.addMethod("dateIsBefore",function(t,e,n){return""===n[0]||""===t||moment(t,"MMM DD YYYY hh:mm A").isBefore(moment(n[0],"MMM DD YYYY hh:mm A"))},"Must be earlier than {1}"),$.validator.addMethod("dateIsAfter",function(t,e,n){return""===n[0]||""===t||moment(t,"MMM DD YYYY hh:mm A").isAfter(moment(n[0],"MMM DD YYYY hh:mm A"))},"Must be later than {1}"),$.extend($.validator.messages,{accept:"Invalid file type",email:"Invalid format",equalTo:"Must match password",extension:"Invalid file extension",minlength:"Too short",required:"Required"}),$.fn.dropzone=function(t){return this.each(function(){return new Dropzone(this,t)})},$.fn.appendToAndFadeIn=function(t,e){return null==e&&(e=400),$(this).hide().appendTo(t).fadeIn(e)},$.fn.fadeOutAndRemove=function(t){var e,n,l;return l=null!=t?t:{},n=l.duration,e=l.callback,$(this).fadeOut(null!=n?n:400,function(){return $(this).remove(),"function"==typeof e?e():void 0})},$.fn.svgGetClassList=function(){return $(this).attr("class")?$(this).attr("class").split(" "):[]},$.fn.svgHasClass=function(t){return-1!==$(this).svgGetClassList().indexOf(t)},$.fn.svgAddClass=function(t){var e;return $(this).svgHasClass(t)?void 0:(e=$(this).svgGetClassList(),e.push(t),$(this).attr("class",e.join(" ")))},$.fn.svgRemoveClass=function(t){var e;return $(this).svgHasClass(t)?(e=$(this).svgGetClassList(),e.splice(e.indexOf(t),1),$(this).attr("class",e.join(" "))):void 0},$.fn.getTranslation=function(){var t,e,n;return e=$(this).attr("transform"),e&&-1!==e.indexOf("translate")?(t=e.slice(e.indexOf("(")+1,e.indexOf(",")),n=e.slice(e.indexOf(",")+1,e.indexOf(")")),{x:parseFloat(t),y:parseFloat(n)}):null},$.fn.setTranslation=function(t,e){return $(this).attr("transform","translate("+t+", "+e+")")},$.fn.popover=function(t){var e;return e=function(t){return function(e){return e.stopPropagation(),$(t).hasClass("active")?($(t).fadeOut(200),$(t).removeClass("active")):($(t).fadeIn(50),$(t).addClass("active"))}}(this),t.isTooltip?t.target.hover(e):t.target.click(e)},"undefined"!=typeof Bugsnag?($(document).ajaxError(function(t,e,n,l){var i,r;i=0===e.status&&0===e.statusText.indexOf("NetworkError")?"AjaxError: 0 NetworkError":"AjaxError: "+e.status+" "+(l||e.statusText),r=n.type+" "+n.url+" => "+e.responseText,Bugsnag.notify(i,r,{thrownError:l})}),$(window).bind("beforeunload",function(){$(document).unbind("ajaxError")})):void 0},window.queryParams=function(){return null==window._queryParams&&(window._queryParams={},window.location.search.substr(1).split("&").forEach(function(t){var e;if(""!==t)return e=t.split("="),window._queryParams[e[0]]=e[1]&&decodeURIComponent(e[1].replace(/\+/g," "))})),window._queryParams},window.launchFullScreen=function(t){return t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):void 0},window.cancelFullScreen=function(){return document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():void 0},window.toggleFullScreen=function(){var t,e;return e=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled,t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,t?(cancelFullScreen(),delete l.common.localStorage.fullScreen):e?(launchFullScreen($("#content")[0]),l.common.localStorage.fullScreen="enabled"):void 0},n=function(){return $(".js-renderMath").get().forEach(function(t){return renderMath(t,function(){return null})})}}.call(this),function(){var t,e,n,l,i,r,o,s,a,u,c,d,h,f,p,g,m;g=window.site,g.about=new Object,t=function(t){var e,n,l;return n="[\\?&]"+t+"=([^&#]*)",e=new RegExp(n),l=e.exec(window.location.search),null!=l?decodeURIComponent(l[1].replace(/\+/g," ")):""},c=function(){var t;return t=$("#signin-modal, #login-modal").modal({closeOnOverlayClick:!0}),$("#login-button, .js-logInButton").on("click",function(e){return e.preventDefault(),t.open(),$("#email").focus()}),$("#login-modal .js-closeModal").on("click",t.close)},u=function(){var t;return t=$(".js-howToUpgradeModal").modal({closeOnOverlayClick:!0}),$(".js-openHowToUpgrade").on("click",function(e){return e.preventDefault(),t.open()})},h=function(){return $(".js-showPricingModelsComplete").on("click",function(){return $(".js-basicPricingModels").toggleClass("pricing--basicPricingModels-is-hidden"),$(".js-completePricingModels").toggleClass("pricing--completePricingModels-is-hidden")}),$(".js-showPricingModelsBasic").on("click",function(){return $(".js-basicPricingModels").toggleClass("pricing--basicPricingModels-is-hidden"),$(".js-completePricingModels").toggleClass("pricing--completePricingModels-is-hidden")})},g.about.setupRequestDemoModal=f=function(){var t;return t=$(".js-requestDemoModal").modal({closeOnOverlayClick:!0}),$(".js-openRequestDemoModal").on("click",function(e){return e.preventDefault(),t.open()}),$(".js-requestDemoModal").on("click",".js-closeRequestDemoModal",function(e){return e.preventDefault(),t.close()})},p=function(){var t;return t=$(".js-unsureHowToPay").modal({closeOnOverlayClick:!0}),$(".js-openShareContact").on("click",function(e){return e.preventDefault(),t.open()})},r=function(){return $(".js-scrollToLink").click(function(t){return t.preventDefault(),$(".l-content").animate({scrollTop:$(this.getAttribute("href")).offset().top-32},1e3)})},o=function(t){var e,n,l;return n=t.find(".js-tab"),e=t.find(".js-tabContents"),l=function(t){return n.removeClass("splashTab-is-selected"),n.filter("[data-tab-idx='"+t+"']").addClass("splashTab-is-selected"),e.removeClass("splashTabContents-is-visible"),e.filter("[data-tab-contents-for-idx='"+t+"']").addClass("splashTabContents-is-visible")},n.click(function(t){var e;return e=$(t.currentTarget).attr("data-tab-idx"),l(e)}),l(0)},l=function(){var t,e,n;return e=$(".js-csPaperGradingDemoContainer"),t=$(".js-csCodeGradingDemoContainer"),e.hide(),t.hide(),n=function(n){switch(n){case"paper":return t.hide(),e.show();case"code":return e.hide(),t.show()}},$(".js-chooseGradingDemo").change(function(){return n($(this).prop("value"))}),$(".js-chooseGradingDemo").first().prop("checked",!0).trigger("change"),setTimeout(function(){return $('.textFileRow--lineNumber[data-line-number="14"]').click(),$(".codeComment-is-beingEdited textarea").val("Great documentation string!").blur()})},n=function(t,e){var n,l,i;return n=e.offset().left+e.width()/2,i=t.offset().left+t.width()/2,l=n-i,t.animate({scrollLeft:t.scrollLeft()+l},400)},i=function(t){var e,l;return l=t.find(".js-quoteBar"),e=l.find(".js-quoteCard"),e.click(function(t){var e;return e=$(t.currentTarget),n(l,e)})},g.about.get_started=function(){return f()},g.about.about=function(){return f()},g.about.privacy=function(){return f()},g.about.splash=function(){var e,n,s;return n=t("utm_campaign"),s=t("utm_source"),"user-invite"===n&&$("#invite_request_invite_code").val(s),r(),e=!1,$(".js-signUpInstructor").click(function(){return $(".js-signUpStudent").removeClass("btnGroup--btn-is-selected"),$(".js-signUpInstructor").addClass("btnGroup--btn-is-selected"),e?($(".js-signupFormStudentSignup").hide(),$(".js-signupFormInviteRequest").show()):($(".js-signupFormInviteRequest").slideDown(),e=!0),setTimeout(function(){return $("#invite_request_name").focus()},300)}),$(".js-signUpStudent").click(function(){return $(".js-signUpInstructor").removeClass("btnGroup--btn-is-selected"),$(".js-signUpStudent").addClass("btnGroup--btn-is-selected"),e?($(".js-signupFormInviteRequest").hide(),$(".js-signupFormStudentSignup").show()):($(".js-signupFormStudentSignup").slideDown(),e=!0),setTimeout(function(){return $("#user_course_entry_code").focus()},300)}),g.invite_requests.selectizeForm(),g.invite_requests.validateForm(),g.student_accounts.validateForm(),c(),g.user_sessions.setUpOmniauthRememberMe(),f(),o($(".js-assignmentStepsTabsContainer")),o($(".js-subjectGradingDemoTabsContainer")),l(),i($(".js-gradingQuoteBarContainer")),i($(".js-analysisQuoteBarContainer")),i($(".js-feedbackQuoteBarContainer")),i($(".js-assistedGradingQuoteBarContainer"))},e=function(){return $(".js-featureExplanation").each(function(t,e){var n;return n=$(e),n.jBox("Tooltip",{position:{x:"center",y:"bottom"},width:200,offset:{y:4},content:$("[data-popover-for='"+n.text()+"']"),trigger:"mouseenter",closeOnClick:"body",closeOnMouseleave:!0})}),$(".js-versionQualificationPopoverTrigger").each(function(t,e){var n;return n=$(e),n.jBox("Tooltip",{position:{x:"center",y:"bottom"},width:320,offset:{x:5,y:-16},content:n.find(".js-qualificationPopoverContents"),trigger:"mouseenter",closeOnClick:"body",closeOnMouseleave:!0})})},g.about.pricing=function(){return g.user_sessions.setUpOmniauthRememberMe(),c(),f(),u(),h(),p(),e(),r(),$(".js-instructorSignup").click(function(){return $(".js-studentSignup").removeClass("modal--btnPrimary"),$(".js-studentSignup").addClass("modal--btnSecondary"),$(".js-instructorSignup").removeClass("modal--btnSecondary"),$(".js-instructorSignup").addClass("modal--btnPrimary"),$(".js-signupFormText").slideUp(),$(".js-signupFormInviteRequest").slideDown(),$(".js-signupFormStudentSignup").hide(),setTimeout(function(){return $("#invite_request_name").focus()},300)}),$(".js-studentSignup").click(function(){return $(".js-instructorSignup").removeClass("modal--btnPrimary"),$(".js-instructorSignup").addClass("modal--btnSecondary"),$(".js-studentSignup").removeClass("modal--btnSecondary"),$(".js-studentSignup").addClass("modal--btnPrimary"),$(".js-signupFormText").slideUp(),$(".js-signupFormInviteRequest").hide(),$(".js-signupFormStudentSignup").slideDown(),setTimeout(function(){return $("#user_course_entry_code").focus()},300)}),g.invite_requests.selectizeForm(),g.invite_requests.validateForm(),g.student_accounts.validateForm()},a=function(){var t;return t=$(".js-registerHappyHourModal").modal({closeOnOverlayClick:!0}),$(".js-registerHappyHourModal .js-closeModal").on("click",t.close),$(".js-openRegisterHappyHourModal").on("click",t.open),location.search.indexOf("rsvp")>0?t.open():void 0},d=function(){return $(".js-openModal").each(function(t,e){var n,l,i;return i=$(e).data("modal-class"),n=$("."+i),l=n.modal({closeOnOverlayClick:!0}),n.find(".js-closeModal").on("click",l.close),$(e).on("click",l.open)})},g.about.sigcse_2019=function(){return s("SIGCSE2019")},g.about.asee_2019=function(){return s("ASEE2019")},g.about.educause_2019=function(){return s("EDUCAUSE2019")},g.about.sigcse_2020=function(){return s("SIGCSE2020"),gon.preSymposium?$(".js-registerSIGCSE2020Modal").modal().open():void 0},g.about.jmm_2020=function(){return s("JMM2020")},s=function(t){return g.user_sessions.setUpOmniauthRememberMe(),c(),a(),r(),d(),$(".js-instructorSignup").click(function(){return $(".js-instructorSignup").removeClass("modal--btnSecondary"),$(".js-instructorSignup").addClass("modal--btnPrimary"),$(".js-signupFormText").slideUp(),$(".js-signupFormInviteRequest").slideDown(),$(".js-signupFormStudentSignup").hide(),setTimeout(function(){return $("#invite_request_name").focus()},300),$("#invite_request_invite_code").val(t).attr("placeholder","")}),g.invite_requests.selectizeForm(),g.invite_requests.validateForm()},m=function(){var t;return t=$(".js-toggleStaticNav"),$("#static-menu").toggle(),t.attr({"aria-expanded":"false"===t.attr("aria-expanded")})},$(function(){return $(".js-toggleStaticNav").on("click",m)})}.call(this),function(){var t,e,n;n=window.site,n.accounts=new Object,n.accounts.show=function(){var t,l,i,r;return $(".js-viewInactive").on("click",function(){var t,e;return $(this).blur(),t=$(this).next(".courseList--inactiveCourses"),e=t.is(":visible")?'See older courses <i class="fa fa-angle-down">':'Hide older courses <i class="fa fa-angle-up">',$(this).html(e),t.slideToggle()}),$("#startGradingModal").length>0&&(i=$("#startGradingModal").modal({cloning:!1}),i.open(),$("#startGradingModal .js-closeModal").on("click",function(t){return t.preventDefault(),i.close()})),$("#createCourseModal").length>0&&(l=$("#createCourseModal").modal({cloning:!1}),$("#createCourseModal .modal--btnCancel").on("click",l.close),n.courses.setupCourseForm(),$(".js-createNewCourse").on("click",function(t){return t.preventDefault(),l.open(),$("#course_shortname").focus()})),$("#addCourseModal").length>0&&(t=$("#addCourseModal").modal({cloning:!1,closeOnOverlayClick:!0}),$("#addCourseModal .modal--btnCancel").on("click",function(e){return e.preventDefault(),t.close()}),n.student_memberships.validateForm(),$(".js-enrollInCourse").on("click",function(e){return e.preventDefault(),t.open(),$("#student_membership_course_entry_code").focus()})),e(),r=$(".gradingSurvey"),r.length?new GradingSurvey(r):void 0},e=function(){var t,e,n,l,i,r,o;return l=$(".js-linkLMSCourseModal"),l.length?(n=l.find("form"),r=$(".js-linkLMSCourse"),i=$(".js-linkNewGradescopeCourse"),e=$(".js-linkExistingGradescopeCourse"),o=l.modal(),l.find(".js-closeModal").click(function(){return o.close()}),n.on("change",function(){return r.prop("disabled",!this.getAttribute("action"))}),i.on("click",function(){return n.attr("action",this.value)}),e.is(":disabled")||(t=$(".js-linkableCourses").selectize({sortField:"text",onChange:function(t){return e.prop("checked",!0),n.attr("action",t)}}),e.on("click",function(){return n.attr("action",t.val())})),l.on("ajax:success",function(t,e){return e.redirect_to?location.href=e.redirect_to:void 0}),l.on("ajax:error",function(t,e){return e.responseJSON.redirect_to?location.href=e.responseJSON.redirect_to:void 0}),o.open()):void 0},t=function(t,e,n,l){var i;return null==n&&(n=!0),null==l&&(l=[]),i={isOpen:!0,existingEmails:l,addNewEmailAddressURL:e,onCancel:window.unmountAsync(t)},ReactDOM.render(React.createElement(AddNewEmailModal,i),t)},n.accounts.edit=function(){var e;return $("#account-edit-form").validate({rules:{"user[name]":"required","user[email]":{required:!0,stricterEmail:!0},"user[password]":{minlength:12},"user[password_confirmation]":{required:{depends:function(){return $("#user_password").val()}},equalTo:"#user_password"}}}),e=$(".js-addEmailModalTarget"),e.length>0?$(".js-addEmail").click(function(){return t(e[0],gon.create_email_address_url,!0,gon.email_addresses)}):void 0},n.accounts.update=n.accounts.edit}.call(this),function(){var t;t=window.site,t.admin_assignments=new Object,t.admin_assignments.index=function(){return $(".js-adminAssignmentsTable").DataTable({pageLength:100,order:[[5,"desc"]],language:{search:"_INPUT_",searchPlaceholder:"Search"},dom:"frtilpB",buttons:["csv"],autoWidth:!1})}}.call(this),function(){var t;t=window.site,t.admin_autograders=new Object,t.admin_autograders.index=function(){return $(".js-autogradersAssignmentRow").each(function(){return new jBox("Tooltip",{attach:$(this).find(".js-showRunningSubmissionsPopover"),addClass:"jBox-wrapper-popover",content:$(this).find(".js-runningSubmissionsPopover"),createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"bottom"},trigger:"click"}),new jBox("Tooltip",{attach:$(this).find(".js-showQueuedSubmissionsPopover"),addClass:"jBox-wrapper-popover",content:$(this).find(".js-queuedSubmissionsPopover"),createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"bottom"},trigger:"click"})}),$(".js-adminAutogradersTable").DataTable({language:{search:"_INPUT_",searchPlaceholder:"Search"},dom:"frtilpB",buttons:["csv"],order:[[2,"desc"],[3,"desc"]]})}}.call(this),function(){var t;t=window.site,t.admin_courses=new Object,t.admin_courses.index=function(){return $(".js-includeDemoCourses").change(function(){return this.closest("form").submit()}),$(".js-adminCoursesTable").DataTable({pageLength:100,order:[[5,"desc"]],language:{search:"_INPUT_",searchPlaceholder:"Search"},dom:"frtilpB",buttons:["csv"]})}}.call(this),function(){var t,e,n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=window.site,e.front_plugin=new Object,t=function(t){var e,n,l,i;for(n=decodeURIComponent(window.location.search.substring(1)),i=n.split("&"),l=void 0,e=void 0,e=0;e<i.length;){if(l=i[e].split("="),l[0]===t)return void 0===l[1]?!0:l[1];e++}},e.front_plugin.show=function(){return Front.on("conversation",function(l){var i,r,o,s,a,u;return"email"===l.contact.source?(a=t("auth_secret"),o=l.contact.display_name.strip(),i=l.contact.handle.strip(),u=l.conversation.subject.strip(),"team@gradescope.com"===i&&"Welcome to Gradescope!"===u&&(r=l.otherMessages.length?l.otherMessages[0]:l.message,s=_.find(r.recipients,function(t){return n.call(t.handle,"gradescope")<0}),i=s.handle),e.front_plugin.requestUserData(o,i,a)):void 0}),$(".js-frontUserSearch").on("submit",function(t){var e,n;return Front.user?(n=document.querySelector(".js-frontUserSearch #search").value,e=document.querySelector(".js-frontUserSearch").action,Front.openUrl(e+"?search="+n),t.preventDefault()):void 0}),$(".js-entryCodeSearch").on("submit",function(t){var e,n;return Front.user?(t.preventDefault(),n=document.querySelector(".js-entryCodeSearch #entry_code").value,e=document.querySelector(".js-entryCodeSearch").action,Front.openUrl(e+"?entry_code="+n)):void 0})},e.front_plugin.requestUserData=function(t,e,n){return $.ajax({type:"post",dataType:"json",url:"/admin/front_plugin/find_user",data:{auth_secret:n,email:e,name:t},success:function(n){return ReactDOM.render(React.createElement(FrontPlugin,Object.assign({name:t,email:e},n)),document.querySelector(".js-frontUserPanel"))}})}}.call(this),function(){var t,e,n;n=window.site,n.admin_grading_surveys={},n.admin_grading_surveys.index=function(){return $(".js-gradingSurveysTable").DataTable({pageLength:100,order:[[0,"asc"]],language:{search:"_INPUT_",searchPlaceholder:"Search"},columnDefs:[{targets:["assignment"],width:"175px"},{targets:["id"],width:"60px"},{targets:["seen"],width:"90px"},{targets:["created","updated","graded","applied","rating","feedback"],width:"120px"}],dom:"frtilpB",buttons:["csv"]}),e($(".js-gradingSurveysPlotTarget"),gon.ratings,t)},e=function(t,e,n){var l,i;return i=$('<svg xmlns="http://www.w3.org/2000/svg">'),l=$("<div>").append(i),t.append(l),n(i.get(0),e)},t=function(t,e){nv.addGraph(function(){var n;return n=nv.models.discreteBarChart().x(function(t){return t[0]}).y(function(t){return t[1]}).color(function(){return"gray"}).showValues(!0),n.valueFormat(d3.format(",f")),n.yAxis.tickFormat(d3.format(",f")),n.yAxis.axisLabel("Rating"),d3.select(t).datum(e).call(n),nv.utils.windowResize(n.update),n})}}.call(this),function(){var t;t=window.site,t.admin_instructors=new Object,t.admin_instructors.index=function(){var t;return $(".js-includeAllStaff").change(function(){return this.closest("form").submit()}),t=$(".js-adminInstructorsTable").DataTable({pageLength:100,order:[[3,"desc"]],language:{search:"_INPUT_",searchPlaceholder:"Search"},dom:"frtilpB",buttons:["csv"]})}}.call(this),function(){var t,e;e=window.site,e.admin_invite_requests=new Object,t={paging:!0,pageLength:50,buttons:["csv"],columnDefs:[{orderable:!1,targets:[7,8,9]},{width:"180px",targets:[4]},{width:"30px",targets:[7,8,9]}],dom:"frtilpB",order:[[6,"desc"]],language:{search:"_INPUT_",searchPlaceholder:"Search"}},e.admin_invite_requests.index=function(){return $(".js-adminInviteRequestsTable").DataTable(t)},e.admin_invite_requests.activated=function(){return $(".js-adminActiveatedInviteRequestsTable").DataTable(t)},e.admin_invite_requests.show=e.admin_invite_requests.index}.call(this),function(){var t;t=window.site,t.admin_merges=new Object,t.admin_merges.show=function(){return setTimeout(function(){return window.location.reload(1)},5e3)},t.admin_merges.show_many=function(){return gon.finished?void 0:setTimeout(function(){return window.location.reload(1)},5e3)}}.call(this),function(){var t;t=window.site,t.admin_pine_reports=new Object,t.admin_pine_reports.index=function(){return $(".js-adminPineReportsTable").DataTable({pageLength:100,order:[[5,"desc"]],language:{search:"_INPUT_",searchPlaceholder:"Search"},dom:"frtilpB",buttons:["csv"],autoWidth:!1})}}.call(this),function(){var t,e,n,l,i;i=window.site,i.admin_schools=new Object,i.admin_schools.index=function(){return $(".js-adminSchoolsTable").DataTable({pageLength:50,order:[[0,"asc"]],language:{search:"_INPUT_",searchPlaceholder:"Search"},dom:"frtilpB",buttons:["csv"]}),$(".js-integrationOnly, .js-showStats, .js-contractOnly").change(function(){return this.closest("form").submit()})},i.admin_schools.penetration=function(){return $(".js-adminSchoolsPenetrationFilter").change(function(){return this.closest("form").submit()}),$(".js-adminSchoolsPenetrationTable").DataTable({pageLength:25,order:[[1,"desc"]],language:{search:"_INPUT_",searchPlaceholder:"Search"},dom:"frtilpB",buttons:["csv"]
})},i.admin_schools["new"]=function(){var t,e,l,i,r;return r=$(".termDates"),i=$("#set_terms"),l=$(".termDates--winterPickers"),e=$("#quarter_valid"),t=$(".termDates--onlyQuartersMessage"),i.is(":checked")&&r.slideToggle(),e.is(":checked")&&(l.toggle(),t.toggle()),i.change(function(){r.slideToggle()}),e.change(function(){l.toggle(),t.toggle()}),$("#school_timezone").selectize(),$("#school_tags").selectize({create:function(t){return{value:t,text:t}}}),$(".js-generateSecretToken").click(function(t){return $(t.target).parents(".js-secretTokenGroup").find(".js-secretTokenInput").val(n(48))})},n=function(t){var e,n;return e=new Uint8Array(3*t/4),crypto.getRandomValues(e),n=btoa(String.fromCharCode.apply(null,e)),n.replace(/[^\w]/g,"_")},i.admin_schools.show=function(){return l()},l=function(){return $(".js-toggleLMSConfig").click(function(t){var e;return e=$(t.target),e.text("Show"===e.text()?"Hide":"Show"),e.next().toggle()}),$(".js-copyLTIConfig").each(function(t,n){return e($(n))})},e=function(e){return $.get({url:e.data("url"),success:function(n,l,i){return e.prop("disabled",!1),e.click(function(){return t(i.responseText)})}})},t=function(t){var e;return e=$("<textarea>"),$("body").append(e),e.val(t).select(),document.execCommand("copy"),e.remove()},i.admin_schools.edit=i.admin_schools["new"],i.admin_schools.create=i.admin_schools["new"],i.admin_schools.top50=i.admin_schools.index}.call(this),function(){var t;t=window.site,t.admin_staff_connections=new Object,t.admin_staff_connections.index=function(){var t;return t=$(".js-staffConnectionsTable").DataTable({paginate:!1,language:{search:"_INPUT_",searchPlaceholder:"Search"}})}}.call(this),function(){var t,e,n,l,i,r,o,s;s=window.site,s.admin_statistics=new Object,s.admin_statistics.index=function(){return l("cumulative-users-vs-time",gon.cumulative_users_vs_time,r),l("courses-by-term",gon.courses_by_term,e),t("newly-graded-assignment-submissions-vs-time",r,"# Submissions Graded Per Week"),t("new-users-and-cms-vs-time",o),t("new-invite-requests-vs-time",o),t("cumulative-schools-vs-time",o,"# Schools"),t("num-real-schools-by-category",n,"# Schools"),t("cumulative-assignments-vs-time",r,"# Assignments"),t("cumulative-real-courses-vs-time-per-school",r,"# Courses"),t("num-assignments-per-course",n,"# Courses"),t("num-students-per-course",n,"# Courses"),t("num-courses-per-student",n,"# Students"),t("num-assignments-per-student",n,"# Students"),t("num-questions-per-student",n,"# Students"),t("top-tags-by-courses",n,"# Courses",!0),t("top-tags-by-students",n,"# Students",!0)},i=function(t){var e,n,l,i,r,o;return e=gon.data_url+"/"+t.replace(/-/g,"_"),r=$("<a>").append(t.replace(/-/g," ")),l=$("<a href="+e+">json</a>"),n=$("<h3>").append(r).append(" | ").append(l),o=$('<svg xmlns="http://www.w3.org/2000/svg">'),i=$('<div class="adminStatsSvg">').append(n).append(o),$(".js-adminStatisticsPlots").append($('<section class="pageSection">')).append(i),[e,r,o]},l=function(t,e,n){var l,r,o,s;return r=i(t),l=r[0],o=r[1],s=r[2],n(s[0],e),o.on("click",function(t){return t.preventDefault(),s.toggle()})},t=function(t,e,n){var l,r,o,s;return r=i(t),l=r[0],o=r[1],s=r[2],s.hide(),o.on("click",function(t){return t.preventDefault(),"none"===s.css("display")&&$.ajax({url:l,dataType:"json",success:function(t){return e(s[0],t,n)}}),s.toggle()})},o=function(t,e,n){nv.addGraph(function(){var l;return l=nv.models.lineChart().x(function(t){return Date.parse(t[0])}).y(function(t){return t[1]}).useInteractiveGuideline(!0),l.xAxis.axisLabel("Date").tickFormat(function(t){return d3.time.format("%x")(new Date(t))}),l.yAxis.axisLabel(n),l.yAxis.tickFormat(d3.format(",f")),d3.select(t).datum(e).call(l),nv.utils.windowResize(l.update),l})},r=function(t,e,n){nv.addGraph(function(){var l;return l=nv.models.stackedAreaChart().x(function(t){return Date.parse(t[0])}).y(function(t){return t[1]}).useInteractiveGuideline(!0).rightAlignYAxis(!0).clipEdge(!0).margin({right:70}),l.xAxis.axisLabel("Date").tickFormat(function(t){return d3.time.format("%x")(new Date(t))}),l.yAxis.axisLabel(n),l.yAxis.tickFormat(d3.format(",f")),d3.select(t).datum(e).call(l),nv.utils.windowResize(l.update),l})},n=function(t,e,n,l){nv.addGraph(function(){var i;return i=nv.models.discreteBarChart().x(function(t){return t[0]}).y(function(t){return t[1]}).color(function(){return"gray"}).showValues(!0),i.valueFormat(d3.format(",f")),i.yAxis.tickFormat(d3.format(",f")),i.yAxis.axisLabel(n),l&&i.xAxis.rotateLabels(-30),d3.select(t).datum(e).call(i),nv.utils.windowResize(i.update),i})},e=function(t,e,n){nv.addGraph(function(){var l;return l=nv.models.multiBarChart().x(function(t){return t[0]}).y(function(t){return t[1]}).reduceXTicks(!1).margin({bottom:70}),l.xAxis.rotateLabels(-30),l.multibar.stacked(!0),l.yAxis.axisLabel(n),d3.select(t).datum(e).call(l),nv.utils.windowResize(l.update),l})}}.call(this),function(){var t;t=window.site,t.admin_users=new Object,t.admin_users.show=function(){return $(".js-adminUserCourseTable").DataTable({paginate:!1,order:[[3,"desc"]],language:{search:"_INPUT_",searchPlaceholder:"Search"}}),$(".js-demoAdmin").change(function(){return $(".js-demoAdmin").submit()}),$(".js-upgradeToComplete").change(function(){return $(".js-upgradeToComplete").submit()}),$(".js-schoolMembershipForm").change(function(){return $(this).submit()})}}.call(this),function(){var t,e,n,l,i,r,o;o=window.site,o.assignment_containers=new Object,o.assignment_containers.review_grades=function(){return r(),o.assignments.renderReviewGradesChart(),o.assignments.initDownloadGradesTooltip(),o.assignments.setUpBinSizeSecretHotkey(),o.assignments.setUpNotifyStudentsModal(),o.assignments.setupPostGradesToCanvasModal(),o.assignments.setupPostGradesToBlackboardModal(),o.assignments.setupPostGradesToBrightspaceModal(),o.assignments.setupPostGradesToSakaiModal(),o.assignments.setupPostGradesToMoodleModal()},o.assignment_containers.update=o.assignment_containers.edit=function(){var t,e,n,l;return o.assignment_containers.setUpCanvasOptions(),o.assignment_containers.setUpBlackboardOptions(),o.assignment_containers.setUpBrightspaceOptions(),o.assignment_containers.setUpSakaiOptions(),o.assignment_containers.setUpMoodleOptions(),o.assignments.setUpLmsIdTooltips(),t=$(".js-linkAssignmentVersionsTarget"),l=function(e){return ReactDOM.render(React.createElement(LinkVersions,e),t[0])},n={assignments:gon.unversioned_assignments,selectedAssignmentIds:gon.selected_assignment_ids,updateSelectedAssignments:function(t){return $(".js-assignmentVersionsField").val(t.filter(function(t){return t})),l(Object.assign({},n,{selectedAssignmentIds:t}))}},l(n),e=new jBox("Tooltip",{attach:$(".js-deleteAssignmentContainerButtonForPopover"),position:{x:"center",y:"bottom"},width:300,offset:{y:4},content:$(".js-assignmentContainerDeleteButtonTooltip"),trigger:"click",closeOnClick:"body",closeOnMouseleave:!1}),$(".js-assignmentContainerDeleteButtonCancel").on("click",function(){return e.close()})},r=function(){var t,e,n,l,i;return t=$(".js-reviewGradesTable"),o.course_memberships.setupSwapButtons(t),n=$(".js-lastFirstName").length>0,l=0,e=n?5:4,i=n?6:5,t.DataTable({order:[[e,"desc"],[i,"desc"],[l,"asc"]],dom:"f<t>",language:{search:"_INPUT_",searchPlaceholder:"Search"},autoWidth:!1,paging:!1,columnDefs:[{targets:["js-lastFirstName"],visible:!1}]})},o.assignment_containers.setUpCanvasOptions=function(){var t;return $(".js-openLinkCanvasAssignmentModal").click(n),$(".js-unlinkCanvasAssignment").click(function(){return $.ajax({url:gon.canvasAssignmentContainerLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Canvas assignment.")}}),!1}),(null!=(t=window.gon)?t.showLinkCanvasAssignmentModal:void 0)?n():void 0},n=function(){var t,e;return t=$(".js-canvasAssignmentModalTarget"),e={initialAssignmentId:gon.canvasAssignmentId,assignmentListUrl:gon.listCanvasAssignmentsUrl,createCanvasLinkUrl:gon.canvasAssignmentContainerLinkUrl,ourAssignmentName:$(".js-assignmentContainerName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkCanvasAssignmentModal,e),t[0])},o.assignment_containers.setUpBlackboardOptions=function(){var e;return $(".js-openLinkBlackboardAssignmentModal").click(t),$(".js-unlinkBlackboardAssignment").click(function(){return $.ajax({url:gon.blackboardAssignmentContainerLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Blackboard assignment.")}}),!1}),(null!=(e=window.gon)?e.showLinkBlackboardAssignmentModal:void 0)?t():void 0},t=function(){var t,e;return t=$(".js-blackboardAssignmentModalTarget"),e={initialAssignmentId:gon.blackboardAssignmentId,assignmentListUrl:gon.listBlackboardAssignmentsUrl,createBlackboardLinkUrl:gon.blackboardAssignmentContainerLinkUrl,ourAssignmentName:$(".js-assignmentContainerName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBlackboardAssignmentModal,e),t[0])},o.assignment_containers.setUpBrightspaceOptions=function(){var t;return $(".js-openLinkBrightspaceAssignmentModal").click(e),$(".js-unlinkBrightspaceAssignment").click(function(){return $.ajax({url:gon.brightspaceAssignmentContainerLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Brightspace assignment.")}}),!1}),(null!=(t=window.gon)?t.showLinkBrightspaceAssignmentModal:void 0)?e():void 0},e=function(){var t,e;return t=$(".js-brightspaceAssignmentModalTarget"),e={initialAssignmentId:gon.brightspaceAssignmentId,assignmentListUrl:gon.listBrightspaceAssignmentsUrl,createBrightspaceLinkUrl:gon.brightspaceAssignmentContainerLinkUrl,ourAssignmentName:$(".js-assignmentContainerName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBrightspaceAssignmentModal,e),t[0])},o.assignment_containers.setUpSakaiOptions=function(){var t;return $(".js-openLinkSakaiAssignmentModal").click(i),$(".js-unlinkSakaiAssignment").click(function(){return $.ajax({url:gon.sakaiAssignmentContainerLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Sakai assignment.")}}),!1}),(null!=(t=window.gon)?t.showLinkSakaiAssignmentModal:void 0)?i():void 0},i=function(){var t,e;return t=$(".js-sakaiAssignmentModalTarget"),e={assignment:gon.assignment,createNewGradebookItemUrl:gon.createNewGradebookItemUrl,createSakaiLinkUrl:gon.sakaiAssignmentContainerLinkUrl,sakaiSiteUrl:gon.sakaiSiteUrl,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkSakaiAssignmentModal,e),t[0])},o.assignment_containers.setUpMoodleOptions=function(){var t;return $(".js-openLinkMoodleAssignmentModal").click(l),$(".js-unlinkMoodleAssignment").click(function(){return $.ajax({url:gon.moodleAssignmentContainerLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Moodle assignment.")}}),!1}),(null!=(t=window.gon)?t.showLinkMoodleAssignmentModal:void 0)?l():void 0},l=function(){var t,e;return t=$(".js-moodleAssignmentModalTarget"),e={initialAssignmentId:gon.moodleAssignmentId,assignmentListUrl:gon.listMoodleAssignmentsUrl,createMoodleLinkUrl:gon.moodleAssignmentContainerLinkUrl,ourAssignmentName:$(".js-assignmentContainerName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkMoodleAssignmentModal,e),t[0])}}.call(this),function(){var t;t=window.site,t.assignment_submission_batches=new Object,t.assignment_submission_batches.index=function(){var t;return t=$("#new_pdf_attachment"),t.validate({rules:{"pdf_attachment[file][]":{required:!0,extension:"pdf"}}}),$("#new_pdf_attachment").on("submit",function(){return $("#new_pdf_attachment").valid()?$("#submit").prop("disabled",!0):void 0})}}.call(this),function(){var t,e,n,l,i,r,o,s,a,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){return function(){return t.apply(e,arguments)}};a=window.site,a.assignment_submissions=new Object,a.assignment_submissions.index=function(){var t,e,n,l;return l=$(".submissionsManager--uploadModal").modal(),$(".submissionsManager--uploadModal .modal--btnCancel").on("click",function(){return l.close()}),t=$(".submissionsManager--uploadModal form select[name=owner_id]"),t.selectize(),e=$(".submissionsManager--uploadModal .msg-warning"),e.hide(),t.on("change",function(t){var n,l,i;return l=parseInt(t.target.value),n=gon.submissionPresenceByUserID[l],n?(i="This student already has a submission. Uploading a new submission will supersede their old submission.",gon.versionName&&n!==gon.versionName&&(i="This student already has a submission in Version "+n+". Uploading a new submission to this version (Version "+gon.versionName+") will supersede their old submission."),e.html(i),e.prepend("<i class='fa fa-warning' aria-hidden='true'>"),e.show()):e.hide()}),n=$(".submissionsManager--uploadModal form"),n.validate({rules:{owner_id:{required:!0},pdf_attachment:{required:!0,extension:"pdf"}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}})},a.assignment_submissions["new"]=function(){return r($(".js-submitAssignment"))},a.assignment_submissions.submit_images=function(){return $("form").validate({rules:{required:!0},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0),$(".js-submitImagesSpinner").css("display","inline-block")}})},r=function(t){var l;switch(l=t.data(),$.post(l.postUrl+"/attempt",{submission_event:"opened_submit_assignment_modal"}),$(".js-showLateSubmissionWarning").toggleClass("is-hidden",!l.showLateSubmissionWarning),$(".js-showEmptyOutlineError").toggleClass("is-hidden",l.readyForSubmission),l.submissionFormat){case"fixed_length":return e(),o($(".js-uploadPDFForm"),l);case"variable_length":return n(),s($(".js-uploadPDFForm"),l)}},e=function(){return $(".js-submitPDFInstructions").removeClass("is-hidden"),$(".js-submitVariableLengthInstructions").addClass("is-hidden")},n=function(){return $(".js-submitPDFInstructions").addClass("is-hidden"),$(".js-submitVariableLengthInstructions").removeClass("is-hidden")},s=function(t,n){return $(".js-submitImagesURL").attr("href",n.imagesUrl),$(".js-submitPDFButton").click(function(){return $.post(n.postUrl+"/attempt",{submission_event:"variable_length_pdf"}),o(t,n),e()})},o=function(t,e){var l;return t.find(".js-selectPDFAttachment").on("change",function(t){return $.post(e.postUrl+"/attempt",{submission_event:"selected_pdf_file",file_name:t.target.value})}),t.attr("action",e.postUrl),t.validate({rules:{pdf_attachment:{required:!0,extension:"pdf"}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}}),l=t.find(".js-cancelForm"),"variable_length"===e.submissionFormat?l.on("click",n):l.on("click",function(){return window.location.href=gon.courseUrl})},a.assignment_submissions.setupStudentSubmissionModals=function(){var e,n,l,r,o,s,a,c;return r=$("#submit-fixed-length-modal").modal({closeOnOverlayClick:!0}),$("#submit-fixed-length-modal .btn-cancel").on("click",function(t){return t.preventDefault(),r.close()}),a=$("#submit-variable-length-modal").modal({closeOnOverlayClick:!0}),$("#submit-variable-length-modal .js-closeModal").on("click",function(t){return t.preventDefault(),a.close()}),s=$("#submit-typed-document-modal").modal({closeOnOverlayClick:!0}),$("#submit-typed-document-modal .js-closeModal").on("click",function(t){return t.preventDefault(),s.close()}),$(".js-submitCodeModal").length>0&&(o=$(".js-submitCodeModal").modal({closeOnOverlayClick:!0,onClose:function(){return ReactDOM.unmountComponentAtNode($(".js-submissionMethodSwitcher")[0]),ReactDOM.unmountComponentAtNode($(".js-repositorySelector")[0])}}),$(".js-submitCodeModal .js-closeModal").on("click",function(t){return t.preventDefault(),o.close()})),l=function(t,e){var n,l,i;return n=$(".js-submissionMethodSwitcher")[0],l=e,l.onChange=t.showSubmissionPane,i=React.createElement(SubmissionMethods,l),ReactDOM.render(i,n)},n=!1,$(".js-submitAssignment").on("click",function(e){var c,d,h,f,p,g,m,v,y,b,w,x,_,C,k,S;switch(e.preventDefault(),k=$(this).data("submission-format"),w=$(this).data("post-url"),g=$(this).data("images-url"),h=$(this).data("assignment-id"),C=$(this).data("show-late-submission-warning"),$.post(w+"/attempt",{submission_event:"opened_submit_assignment_modal"}),$("#submission_pdf_attachment").on("change",function(t){return $.post(w+"/attempt",{submission_event:"selected_pdf_file",file_name:t.target.value})}),$("#submission_file").on("change",function(t){return $.post(w+"/attempt",{submission_event:"selected_file",file_name:t.target.value})}),C||$(".late-submission-warning, .js-lateSubmissionWarning").hide(),k){case"fixed_length":return $("#submit-fixed-length-modal").find("form").attr("action",w),$("#submit-fixed-length-form").validate({rules:{pdf_attachment:{required:!0,extension:"pdf"}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}}),r.open();case"variable_length":return x=$(this).data("ready-for-submission"),x?($("#submit-variable-length-modal .msg.error").hide(),$("#submit-variable-length-modal .modal-body").removeClass("submission-disabled")):($("#submit-variable-length-modal .msg.error").show(),$("#submit-variable-length-modal .modal-body").addClass("submission-disabled")),$("#submit-variable-length-images").attr("href",g),$("#submit-variable-length-pdf").click(function(){return $.post(w+"/attempt",{submission_event:"variable_length_pdf"}),$("#submit-fixed-length-modal").find("form").attr("action",w),$("#submit-fixed-length-form").validate({rules:{pdf_attachment:{required:!0,extension:"pdf"}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}}),r.open()}),a.open();case"typed_document":return c=$("#submit-typed-document-modal form"),c.attr("action",w),c.validate({rules:{file:{required:!0}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}}),s.open();case"code":return $(".js-submitCodeModal").find("form").attr("action",w),d=$(".js-repositorySelector"),h&&($(".js-gitlabSubmissionLink").length>0&&(y=$(".js-gitlabSubmissionLink").attr("href"),b=y.indexOf("?assignment_id="),v=-1!==b?y.substring(0,b)+"?assignment_id="+h:y+"?assignment_id="+h,$(".js-gitlabSubmissionLink").attr("href",v)),["github","bitbucket"].forEach(function(t){var e;return e=t+"AuthenticationPath",d.data(e,d.data(e).replace(/assignment_id=(\w+)/,"assignment_id="+h))})),S=$(this).data("submissionMethods"),S||(S={upload:!0,github:!0,bitbucket:!0}),f=new t(d.data()),l(f,S),m=$(this).data("leaderboardEnabled"),m?$(".js-leaderboardGroup").removeClass("is-hidden"):$(".js-leaderboardGroup").addClass("is-hidden"),o.open(),n?Dropzone.forElement(".js-submitCodeForm").options.url=w:(p=$(".js-submitCodeForm").dropzone({paramName:function(){return"submission[files][]"},clickable:[".form-file-drop-area",".form-file-drop-message"],previewsContainer:".form-file-previews",previewTemplate:document.getElementById("dropzone-preview-template").innerHTML,autoProcessQueue:!1,uploadMultiple:!0,maxFilesize:100,parallelUploads:5e3,accept:function(t,e){var n,l,r,o;return this.firstFileAccepted||(this.firstFileAccepted=!0,$(".form-file-previews-container").show(),$(".form-file-drop-area").hide(),$(".form-file-drop-message").show()),r=t.name.split("."),l=r[r.length-1],n=window.location.href.toString().match(/courses\/(\d+)/)[1],o=["3043","4688","6192","5699","11800"],"zip"===l&&u.call(o,n)<0?i(t,this,e):e()},init:function(){return this.on("sending",function(t,e,n){var l;return l=$(".js-studentPickerDropdown.selectized"),1===l.length?n.append("submission[owner_id]",l[0].value):void 0}),this.on("successmultiple",function(t,e){return window.location=e.url}),$(".js-submitCode").on("click",function(t){return function(e){return f.validateForm()?"upload"!==$('input[name="submission[method]"]:checked').val()?!0:(window.dz=t,t.processQueue(),e.preventDefault()):!1}}(this)),this.on("reset",function(t){return function(){return t.firstFileAccepted=!1,$(".form-file-drop-area").show(),$(".form-file-previews-container").hide(),$(".form-file-drop-message").hide()}}(this))}}),n=!0);case"online":return _=$(this).data("new-url"),window.location=_}}),window.queryParams().submit_assignment_id?(e=window.queryParams().submit_assignment_id,c=$(".js-submitAssignment[data-assignment-id="+e+"]"),0===c.length&&(c=$(".js-submitAssignment:first")),c.click()):void 0},l=function(t,e){var n;return n=new Blob([t],{type:"application/octet-stream"}),n.upload={bytesSent:0,progress:0,total:n.size},n.accepted=!0,n.size=t.length,n.name=e,n.type="application/octet-stream",n},i=function(t,e,n){var i;return i=new FileReader,i.onload=function(i){var r,o,s,a,u,c;try{a=new JSZip(i.target.result),r=[],s=a.files;for(o in s)u=s[o],u.dir||(c=l(u.asUint8Array(),o),r.push(c),e.addFile(c));return e.emit("addedfiles",r),n(),e.removeFile(t)}catch(d){return i=d,n("Error processing zip file")}},i.readAsArrayBuffer(t)},t=function(){function t(t){this.options=t,this.changeSubmissionService=c(this.changeSubmissionService,this),this.showSubmissionPane=c(this.showSubmissionPane,this),this.initValidations()}return t.prototype.showSubmissionPane=function(t){var e,n;switch(e=function(){return $(".fileUploadArea").hide(),$(".js-repositorySelector").show()},n=function(){return $(".js-repositorySelector").hide(),$(".fileUploadArea").show(),$(".js-submitCode").removeProp("disabled")},t){case"upload":return n();case"github":return e(),this.changeSubmissionService("github");case"bitbucket":return e(),this.changeSubmissionService("bitbucket")}},t.prototype.changeSubmissionService=function(t){var e,n,l;return e=$(".js-repositorySelector")[0],n={service:t,repositoriesUrl:this.options[t+"RepositoriesUrl"],isAuthenticated:this.options[t+"IsAuthenticated"]!==!1,authenticationPath:this.options[t+"AuthenticationPath"]},l=React.createElement(RepositorySelector,n),ReactDOM.render(l,e)},t.prototype.initValidations=function(){return $(".js-submitCodeForm").validate({rules:{files:{required:{depends:function(){return"upload"===$('input[name="submission[method]"]:checked').val()}}},repository:{required:{depends:function(){return"upload"!==$('input[name="submission[method]"]:checked').val()}}},branch:{required:{depends:function(){return $("#submission_repository").val().length>0}}}}})},t.prototype.validateForm=function(){return $(".js-submitCodeForm").valid()},t}(),window.processZipFile=i}.call(this),function(){var t,e,n,l,i,r,o,s,a,u,c,d,h,f,p,g,m,v,y,b,w,x,C,k,S,T,A,D,M,j,E,O,I,F,P,N,L,B,R,z,H,q,U,W,V,Y,X,G,Z,K=function(t,e){return function(){return t.apply(e,arguments)}};Y=window.site,Y.assignments=new Object,Y.assignments.index=Y.assignments.create=function(){var t,e,n;return W(),t=U(),n=V(),e=z(),Y.assignments.initDownloadGradesTooltip(),$(".js-linkVersionedAssignments").click(r),"undefined"!=typeof gon&&null!==gon&&(gon.open_link_assignment_modal&&e.open(),gon.open_create_modal&&k(),gon.open_duplicate_modal)?t.open():void 0},Y.assignments["new"]=function(){return s()},Y.assignments.create=Y.assignments["new"],Y.assignments.edit=function(){return s(),Y.assignments.handleBulkDefaultSettings(),l(),Y.assignments.setupDeleteAssignmentModal(),Y.assignments.setupAssignmentDeleteButton(),Y.assignments.setUpCanvasOptions(),Y.assignments.setUpBlackboardOptions(),Y.assignments.setUpBrightspaceOptions(),Y.assignments.setUpSakaiOptions(),Y.assignments.setUpMoodleOptions(),gon.user_is_admin?Y.assignments.setUpLmsIdTooltips():void 0},Y.assignments.update=Y.assignments.edit,A=function(t,e){return $(".dashboard-question-title > a, .dashboard-subquestion-title > a").each(function(n,l){var i;return i=$(l).attr("href"),$(l).attr("href",i.replace(t,e))})},Y.assignments.displayVersionedAssignmentsAsChildRows=function(t){return $(".js-assignmentTableContainerRow").each(function(){var e,n,l,i;return i=$(this),l=t.api().row(i),n=i.data("assignment-container-id"),e=$(".js-assignmentTableAssignmentRow[data-assignment-container-id="+n+"]"),l.child(e).show()})},W=function(){return Y.assignments.setupAssignmentActionsPopoverMenu(),$("#assignments-instructor-table.with-points:not(.blank)").DataTable({columns:[{},{},{orderData:[8,7]},{},{orderData:[9]},{orderable:!1},{orderable:!1},{orderable:!1},{visible:!1},{visible:!1},{visible:!1}],order:[[2,"desc"]],dom:"t",paging:!1,drawCallback:function(){return Y.assignments.displayVersionedAssignmentsAsChildRows(this)}})},Y.assignments.setupAssignmentActionsPopoverMenu=function(){return $(".js-assignmentTableAssignmentRow").each(function(){return new jBox("Tooltip",{attach:$(this).find(".js-toggleActionsPopoverMenu"),addClass:"jBox-wrapper-popover",content:$(this).find(".js-actionsPopoverMenu"),createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"bottom"},trigger:"click"})})},U=function(){var t,e;return t=$("#duplicate-assignment-modal"),e=t.modal({onClose:function(){return t.find(".error-msg").remove(),t.find(".error").removeClass("error")}}),$(".js-duplicateAssignment").click(function(t){return t.preventDefault(),e.open()}),$(".js-expandCourse").attr("aria-expanded",!1),$(".js-expandCourse").click(function(t){var e,n;return e=$(t.currentTarget),e.toggleClass("treeSelectorNode-parent-is-expanded").attr("aria-expanded",function(t,e){return"false"===e?"true":"false"}),n=e.closest(".js-courseRow"),n.find(".js-assignmentRow").toggle()}),$(".js-assignmentRow").toggle(!1),$(".js-selectAssignment").attr("aria-selected",!1),$(".js-selectAssignment").click(function(t){var e;return e=$(t.currentTarget),$(".js-selectAssignment").removeClass("treeSelectorNode-is-selected").attr("aria-selected",!1),e.addClass("treeSelectorNode-is-selected").attr("aria-selected",!0),$("#duplicate-btn").prop("disabled",!1),$("#assignment_id").val(e.data("assignment-id")),$("#assignment_title").val(e.text().trim())}),t.find(".modal--btnCancel").click(function(t){return t.preventDefault(),e.close()}),e},k=function(t){var e,n;return e=$(".js-newAssignmentModalTarget"),n={demoCourse:gon.demo_course,paidComplete:gon.paid_complete,featuresAccess:gon.features_access,timezone:gon.timezone,images:gon.images,urls:gon.urls,assignmentName:t,onClose:window.unmountAsync(e[0])},ReactDOM.render(React.createElement(CreateAssignmentModal,n),e[0])},V=function(){return $(".js-newAssignment").click(function(){return k()})},z=function(){var t,e,n,l,i,r,o;return l=$(".js-linkLMSAssignmentModal"),l.length?(n=l.find("form"),r=$(".js-linkLMSAssignment"),i=$(".js-linkNewGradescopeAssignment"),e=$(".js-linkExistingGradescopeAssignment"),n.on("change",function(){var e,n;return n=i.prop("checked"),e=!!("undefined"!=typeof t&&null!==t?t.val():void 0),r.prop("disabled",!n&&!e)}),e.is(":disabled")||(t=$(".js-linkableAssignments").selectize({sortField:"text",onChange:function(){return e.prop("checked",!0)}})),o=l.modal(),l.find(".js-closeModal").click(function(){return o.close()}),$(".js-linkLMSAssignment").on("click",function(){return i.prop("checked")?(o.close(),k(gon.lms_assignment_name)):$.ajax({url:t.val(),method:"post",data:{lms_id:gon.lms_assignment_id,name:gon.lms_assignment_name},success:function(t){return location.href=t.redirect_to},error:function(t,e){return e.responseJSON.redirect_to?location.href=e.responseJSON.redirect_to:void 0}})}),o):void 0},Y.assignments.validateDueDateFields=function(){var t;return t=["#assignment_release_date_string","#assignment_due_date_string","#assignment_hard_due_date_string"],t.forEach(function(e){return $(e).on("change",function(){return Z(e,t)})})},Y.assignments.setupDueDateFields=function(){return $(".js-lateDueDateFieldGroup").on("click",function(){return i()?void 0:($("#allow_late_submissions").prop("checked",!0),Y.assignments.updateHardDueDate(),$("#assignment_hard_due_date_string").focus())}),$("#allow_late_submissions").change(Y.assignments.updateHardDueDate),Y.assignments.validateDueDateFields()},Z=function(t,e){return(i()||"#assignment_hard_due_date_string"!==t)&&$(t).valid()?e.forEach(function(t){return $(t).valid()}):void 0},Y.assignments.validateAssignmentForm=function(){return $(".js-assignmentForm").validate({rules:{template_pdf:{extension:"pdf"},"assignment[title]":{required:!0,maxlength:255},"assignment[release_date_string]":{required:{depends:function(){return $("#assignment_student_submission_true").is(":checked")}},dateIsSameOrBefore:function(){return[$("#assignment_due_date_string").val(),"due date"]}},"assignment[due_date_string]":{required:{depends:function(){return $("#assignment_student_submission_true").is(":checked")}},dateIsSameOrBefore:function(){return[$("#assignment_hard_due_date_string").val(),"late due date"]}},"assignment[hard_due_date_string]":{required:{depends:function(){return i()}},dateIsSameOrAfter:function(){return[$("#assignment_due_date_string").val(),"due date"]}}},submitHandler:function(t){return $(".js-assignmentForm input[type=submit]").attr("disabled",!0),t.submit()}})},Y.assignments.requireTemplatePDF=function(){var t;return t=$("form#new_assignment input[name=template_pdf]"),t.length?t.rules("add","required"):void 0},s=function(){return Y.assignments.setupDueDateFields(),X({first_time:!0}),$("input[name$='assignment[student_submission]']").change(function(){return X({first_time:!1})}),$("input[name='assignment[submission_type]']").change(function(){return X({first_time:!1})}),$("input[name$='assignment[group_submission]']").change(function(){return $("#assignment_group_submission").is(":checked")?($("#assignment_group_size").attr("disabled",null).removeClass("disabled"),$("#assignment_group_size").focus()):$("#assignment_group_size").attr("disabled","disabled").addClass("disabled")}),Y.assignments.validateAssignmentForm(),Y.assignments.requireTemplatePDF()},Y.assignments.setUpCanvasOptions=function(){var t;return $(".js-openLinkCanvasAssignmentModal").click(w),$(".js-unlinkCanvasAssignment").click(function(){return $.ajax({url:gon.canvasAssignmentLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Canvas assignment.")}}),!1}),(null!=(t=window.gon)?t.showLinkCanvasAssignmentModal:void 0)?w():void 0},w=function(){var t,e;return t=$(".js-canvasAssignmentModalTarget"),e={initialAssignmentId:gon.canvasAssignmentId,assignmentListUrl:gon.listCanvasAssignmentsUrl,createCanvasLinkUrl:gon.canvasAssignmentLinkUrl,ourAssignmentName:$(".js-assignmentName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkCanvasAssignmentModal,e),t[0])},Y.assignments.setUpBlackboardOptions=function(){var t;return $(".js-openLinkBlackboardAssignmentModal").click(y),$(".js-unlinkBlackboardAssignment").click(function(){return $.ajax({url:gon.blackboardAssignmentLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Blackboard assignment.")}}),!1}),(null!=(t=window.gon)?t.showLinkBlackboardAssignmentModal:void 0)?y():void 0},y=function(){var t,e;return t=$(".js-blackboardAssignmentModalTarget"),e={initialAssignmentId:gon.blackboardAssignmentId,assignmentListUrl:gon.listBlackboardAssignmentsUrl,createBlackboardLinkUrl:gon.blackboardAssignmentLinkUrl,ourAssignmentName:$(".js-assignmentName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBlackboardAssignmentModal,e),t[0])},Y.assignments.setUpBrightspaceOptions=function(){var t;return $(".js-openLinkBrightspaceAssignmentModal").click(b),$(".js-unlinkBrightspaceAssignment").click(function(){return $.ajax({url:gon.brightspaceAssignmentLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Brightspace assignment.")}}),!1}),(null!=(t=window.gon)?t.showLinkBrightspaceAssignmentModal:void 0)?b():void 0},b=function(){var t,e;return t=$(".js-brightspaceAssignmentModalTarget"),e={initialAssignmentId:gon.brightspaceAssignmentId,assignmentListUrl:gon.listBrightspaceAssignmentsUrl,createBrightspaceLinkUrl:gon.brightspaceAssignmentLinkUrl,ourAssignmentName:$(".js-assignmentName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBrightspaceAssignmentModal,e),t[0])},Y.assignments.setUpSakaiOptions=function(){var t;return $(".js-openLinkSakaiAssignmentModal").click(C),$(".js-unlinkSakaiAssignment").click(function(){return $.ajax({url:gon.sakaiAssignmentLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Sakai assignment.")}}),!1}),(null!=(t=window.gon)?t.showLinkSakaiAssignmentModal:void 0)?C():void 0},C=function(){var t,e;return t=$(".js-sakaiAssignmentModalTarget"),
e={assignment:gon.assignment,createNewGradebookItemUrl:gon.createNewGradebookItemUrl,createSakaiLinkUrl:gon.sakaiAssignmentLinkUrl,sakaiSiteUrl:gon.sakaiSiteUrl,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkSakaiAssignmentModal,e),t[0])},Y.assignments.setUpMoodleOptions=function(){var t;return $(".js-openLinkMoodleAssignmentModal").click(x),$(".js-unlinkMoodleAssignment").click(function(){return $.ajax({url:gon.moodleAssignmentLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Moodle assignment.")}}),!1}),(null!=(t=window.gon)?t.showLinkMoodleAssignmentModal:void 0)?x():void 0},x=function(){var t,e;return t=$(".js-moodleAssignmentModalTarget"),e={initialAssignmentId:gon.moodleAssignmentId,assignmentListUrl:gon.listMoodleAssignmentsUrl,createMoodleLinkUrl:gon.moodleAssignmentLinkUrl,ourAssignmentName:$(".js-assignmentName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkMoodleAssignmentModal,e),t[0])},Y.assignments.handleBulkDefaultSettings=function(){var t;return t=$("#update_existing_questions").data("all-questions-settings"),$("input[name='assignment[scoring_type]'], #assignment_ceiling, #assignment_floor").on("change",function(){var e;return e=[$("input[name='assignment[scoring_type]']:checked").val(),$("#assignment_ceiling").is(":checked"),$("#assignment_floor").is(":checked")],e.toString()===t.toString()?($("#update_existing_questions").attr("disabled",!0),$("label[for=update_existing_questions]").addClass("disabled"),$("#applyToAllQuestionsNote").removeClass("is-hidden")):($("#update_existing_questions").attr("disabled",!1),$("label[for=update_existing_questions]").removeClass("disabled"),$("#applyToAllQuestionsNote").addClass("is-hidden"))})},l=function(){var t,e,n,l;return n=$(".js-replaceTemplateWarning"),0!==n.length?(t=$(".js-replaceTemplate"),e=t.siblings(".js-fileUploadPrompt"),l=t.data("filename"),t.on("change",function(){return n.removeClass("is-hidden")}),$(".js-undoReplacedTemplate").on("click",function(i){return i.preventDefault(),t.val(""),e.html(l),n.addClass("is-hidden")})):void 0},Y.assignments.setupDeleteAssignmentModal=function(){var t,e;return t=$(".js-deleteAssignmentModal"),e=t.modal({closeOnOverlayClick:!1}),$(".js-deleteAssignmentButtonForModal").on("click",function(t){return t.preventDefault(),e.open()}),t.find(".modal--btnSecondary").on("click",function(t){return t.preventDefault(),e.close()}),q(),$(".js-deleteAssignmentButton").hide(),t.find("input[type=checkbox]").on("change",function(){var e,n;return n=t.find("input[type=checkbox]:checked"),e=t.find("input[type=checkbox]"),n.length===e.length?($(".js-deleteAssignmentDisabledButton").hide(),$(".js-deleteAssignmentButton").show()):($(".js-deleteAssignmentDisabledButton").show(),$(".js-deleteAssignmentButton").hide())}),e},q=function(){var t;return t=new jBox("Tooltip",{attach:$(".js-deleteAssignmentDisabledButton"),position:{x:"center",y:"bottom"},width:300,offset:{y:4},content:$(".js-deleteAssignmentWarning")})},Y.assignments.setupAssignmentDeleteButton=function(){var t;return t=new jBox("Tooltip",{attach:$(".js-deleteAssignmentButtonForPopover"),position:{x:"center",y:"bottom"},width:300,offset:{y:4},content:$("#assignment-delete-button-tooltip"),trigger:"click",closeOnClick:"body",closeOnMouseleave:!1}),$("#assignment_manual_grading").attr("disabled")&&new jBox("Tooltip",{attach:$("#assignment_manual_grading").closest(".form--choice"),trigger:"mouseenter",content:$(".js-manualGradingTooltip")}),$("#assignment-delete-button-cancel").on("click",function(){return t.close()})},X=function(t){var e,n,l;return e=$("#assignment_student_submission_false").is(":checked"),l=$("#assignment-form-dates-and-submission-format"),e?t.first_time?l.hide():l.slideUp():(t.first_time?l.show():l.slideDown(),n=$("input[name='assignment[submission_type]']:checked").val(),"online"===n?t.first_time?$("form#new_assignment .fileUpload").hide():$("form#new_assignment .fileUpload").slideUp():t.first_time?$("form#new_assignment .fileUpload").show():$("form#new_assignment .fileUpload").slideDown())},i=function(){return $("#allow_late_submissions").is(":checked")},Y.assignments.updateHardDueDate=function(){var t;return i()?(t=$("#assignment_due_date_string").val(),$("#assignment_hard_due_date_string").attr("disabled",!1).attr("readOnly",!0).removeClass("disabled").val(t).attr("readOnly",!1),$("label[for$='assignment_hard_due_date_string']").attr("disabled",!1).removeClass("disabled")):($("#assignment_hard_due_date_string").attr("disabled",!0).addClass("disabled").val(null).removeClass("valid"),$("label[for$='assignment_hard_due_date_string']").attr("disabled",!0).addClass("disabled").removeClass("valid"))},Y.assignments.review_grades=function(){var e,n;return Y.assignments.setupPostGradesToCanvasModal(),Y.assignments.setupPostGradesToBlackboardModal(),Y.assignments.setupPostGradesToBrightspaceModal(),Y.assignments.setupPostGradesToSakaiModal(),Y.assignments.setupPostGradesToMoodleModal(),Y.assignments.setupPostGradesToLTIv1p1Modal(),H(),Y.assignments.setUpNotifyStudentsModal(),Y.assignments.initDownloadGradesTooltip(),Y.assignments.renderReviewGradesChart(),Y.assignments.setUpBinSizeSecretHotkey(),e=new t(gon.generated_file,gon.generated_file_path,gon.create_bulk_export_path),e.attachHandlers(),n=$(".gradingSurvey"),n.length?new GradingSurvey(n):void 0},Y.assignments.setUpBinSizeSecretHotkey=function(){return key("ctrl+shift+b",function(){var t;return t=prompt("Please enter the desired number of bins",10),gon.num_bins=parseInt(t),$(".reviewGrades--chart svg").remove(),Y.assignments.renderReviewGradesChart()})},H=function(){var t,e,n,l,i;return t=$(".js-reviewGradesTable"),Y.course_memberships.setupSwapButtons(t),n=$(".js-lastFirstName").length>0,l=0,e=n?4:3,i=n?5:4,t.DataTable({order:[[e,"desc"],[i,"desc"],[l,"asc"]],dom:"f<t>",language:{search:"_INPUT_",searchPlaceholder:"Search"},autoWidth:!1,paging:!1,columnDefs:[{targets:["js-lastFirstName"],visible:!1}]})},Y.assignments.setUpNotifyStudentsModal=function(){var t;return t=$(".js-notifyStudentsModal").modal(),$(".js-notifyStudentsModal .js-closeModal").click(function(){return t.close()}),$(".js-notifyStudents").on("click",function(e){return e.preventDefault(),t.open()}),$(".js-notifyStudentsModal form").on("submit",function(){return $(".js-notifyStudentsModal input[type=submit]").attr("disabled",!0)})},Y.assignments.renderReviewGradesChart=function(){var t,e,n,l,i,r,o,s,a,u,c,d,h,f,p,g,m;return("undefined"!=typeof gon&&null!==gon?gon.any_graded_submissions:void 0)?(n=d3.format(",.0f"),r={top:0,right:10,bottom:40,left:10},d=parseInt(d3.select(".js-reviewGradesChart").style("width")),l=250-r.top-r.bottom,p=gon.assignment_max_score_possible,parseFloat(p)||(p=Math.max.apply(null,gon.chart_data)),f=[0,p],g=d3.scale.linear().domain(f).range([0,d]),o=Math.max(2,gon.num_bins),c=g.ticks(o),u=d3.scale.linear().domain([0,_.last(c)]).range(f),s=_.map(c,function(t){return u(t)}),i=d3.layout.histogram().bins(s),e=i(gon.chart_data),m=d3.scale.linear().domain([0,d3.max(e,function(t){return t.y})]).range([l,0]),h=d3.svg.axis().scale(g).orient("bottom"),a=d3.select(".reviewGrades--chart").append("svg").attr("width",d+r.left+r.right).attr("height",l+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")"),t=a.selectAll(".bar").data(e).enter().append("g").attr("class","bar").attr("transform",function(t){return"translate("+g(t.x)+","+m(t.y)+")"}),t.append("rect").attr("x",1).attr("width",g(e[0].dx)-1).attr("height",function(t){return l-m(t.y)}),t.append("text").attr("dy",".75em").attr("y",6).attr("x",g(e[0].dx)/2).attr("text-anchor","middle").text(function(t){return n(t.y)}),a.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(h)):void 0},Y.assignments.setupPostGradesToCanvasModal=function(){var t,e,n,l,i;return t=$(".js-postGradesToCanvasModal"),t.length?(n=t.find(".js-postGradesToCanvas"),e=t.find(".progressBar"),j(t),i=n.prop("disabled"),n.prop("disabled",i),n.on("click",function(){return $.ajax({method:"post",url:t.find("form").attr("action"),success:function(t){return e.show(),d(t)},error:c}),n.prop("disabled",!0)}),l=t.modal(),$(".js-openPostGradesToCanvasModal").click(l.open),gon.openPostGradesToCanvasModal&&l.open(),t.find(".js-closeModal").click(l.close)):void 0},j=function(t){return t.find(".progressBar").hide(),N(0)},c=function(t){var e,n,l,i,r;return i=null!=(r=t.responseJSON)?r.redirect_to:void 0,i?(i.endsWith("/canvas/auth")&&(n=location.href.split("?")[0],l=n+"?"+$.param({post_grades_to_canvas:1}),i+="?"+$.param({redirect_to_after:l})),location.href=i):("undefined"!=typeof Bugsnag&&Bugsnag.notify("PostGradesToCanvasError","Post grades failed.",{lmsResponse:t.responseJSON},"error"),G(),e=$(".js-postGradesToCanvasModal"),e.find(".js-postGradesToCanvas").prop("disabled",!1))},G=function(){var t,e;return t="Error posting grades to Canvas. Please sync the roster and try again. If the problem persists, contact help@gradescope.com.",e="Error posting grades to Canvas: cannot post grades to an unpublished assignment.",$.ajax({url:gon.getCanvasAssignmentUrl,data:{id:gon.canvasAssignmentId},success:function(n){return n&&!n.published?alert(e):alert(t)},error:function(){return alert(t)}})},d=function(t){var e,n,l,i,r,o;return null==t.workflow_state&&(t=t.body),o=t.workflow_state,l=t.completion||0,e=t.gradescope_error_message,n=null!=(r=t.url)?r.split("/").pop():void 0,N(l,o,e),i=function(){return $.ajax({url:gon.queryCanvasProgressUrl,data:{id:n},success:d})},"queued"===o||"running"===o?setTimeout(i,5e3):void 0},N=function(t,e,n){var l,i,r,o,s,a,u,c,d;return null==e&&(e="waiting..."),a=$(".js-postGradesToCanvasModal"),s=a.find(".progressBar--fill"),i=a.find(".progressBar--caption"),u=$(".js-openPostGradesToCanvasModal"),c=a.find(".js-postGradesToCanvas"),l=a.find(".btnContainer"),s.css("width",t+"%"),100===t?(r=$("<i>").addClass("fa fa-check"),d=$("<span>").html("Grades successfully posted to Canvas!"),i.empty(),i.append(r).append(d),u.one("click",function(){return j(a),c.prop("disabled",!1)})):(i.html("Status: "+e+"."),n?(s.css("width","100%"),o=$("<p class='msg msg-warning'>").html(n),l.before(o)):void 0)},S=function(t,e){return $.ajax({url:gon.blackboardJobStatusUrl,dataType:"json",data:{jid:t},success:function(n){return e(t,n)}})},e=function(t,n){return n.failed?("undefined"!=typeof Bugsnag&&Bugsnag.notify("PostGradesToBlackboardError","Post grades failed.",{jid:t,data:n},"error"),void alert("Error posting grades to Blackboard. Please sync the roster and try again. If the problem persists, contact help@gradescope.com.")):(n.percent_complete&&F(n.percent_complete),n.complete?a():setTimeout(function(){return S(t,e)},5e3))},Y.assignments.setupPostGradesToBlackboardModal=function(){var t,n,l,i,r,o;return t=$(".js-postGradesToBlackboardModal"),t.length?(l=t.find(".js-postGradesToBlackboard"),n=t.find(".progressBar"),o=t.find("form").attr("action"),D(t),r=l.prop("disabled"),l.prop("disabled",r),l.on("click",function(){return l.prop("disabled",!0),n.show(),$.ajax({method:"post",url:o,dataType:"json",success:function(t){return S(t.jid,e)}})}),i=t.modal(),$(".js-openPostGradesToBlackboardModal").click(i.open),gon.openPostGradesToBlackboardModal&&i.open(),t.find(".js-closeModal").click(i.close)):void 0},D=function(t){var e;return t.find(".progressBar").hide(),e='<i class="fa fa-spin fa-spinner"></i> Posting grades...',F(0,e)},F=function(t,e){var n,l,i,r,o;return i=$(".js-postGradesToBlackboardModal"),l=i.find(".progressBar--fill"),n=i.find(".progressBar--caption"),r=$(".js-openPostGradesToBlackboardModal"),o=i.find(".js-postGradesToBlackboard"),l.css("width",t+"%"),e?n.html(e):void 0},a=function(){var t,e,n,l,i,r;return n=$(".js-postGradesToBlackboardModal"),t=n.find(".progressBar--caption"),l=$(".js-openPostGradesToBlackboardModal"),i=n.find(".js-postGradesToBlackboard"),e=$("<i>").addClass("fa fa-check"),r=$("<span>").html("Grades successfully posted to Blackboard!"),t.empty(),t.append(e).append(r),l.one("click",function(){return D(n),i.prop("disabled",!1)})},Y.assignments.setupPostGradesToBrightspaceModal=function(){var t,e,l,i,r,o;return t=$(".js-postGradesToBrightspaceModal"),t.length?(l=t.find(".js-postGradesToBrightspace"),e=t.find(".progressBar"),o=t.find("form").attr("action"),M(t),r=l.prop("disabled"),l.prop("disabled",r),l.on("click",function(){var t,n;return n=gon.brightspaceScoreData.length,t=0,l.prop("disabled",!0),e.show(),$.when.apply($,gon.brightspaceScoreData.map(function(e){return $.ajax({method:"post",url:o,data:e,success:function(){return t+=1,P(100*t/n)},error:function(t){return"undefined"!=typeof Bugsnag?Bugsnag.notify("PostGradesToBrightspaceError","Post grades failed.",{lmsResponse:t.responseJSON},"error"):void 0}})})).then(u,function(){return alert("Error posting grades to Brightspace. Please sync the roster and try again. If the problem persists, contact help@gradescope.com.")})}),i=t.modal({onOpen:function(){return n(t)}}),$(".js-openPostGradesToBrightspaceModal").click(function(){return i.open()}),gon.openPostGradesToBrightspaceModal&&i.open(),t.find(".js-closeModal").click(i.close)):void 0},M=function(t){var e;return t.find(".progressBar").hide(),e='<i class="fa fa-spin fa-spinner"></i> Posting grades...',P(0,e)},P=function(t,e){var n,l,i,r,o;return i=$(".js-postGradesToBrightspaceModal"),l=i.find(".progressBar--fill"),n=i.find(".progressBar--caption"),r=$(".js-openPostGradesToBrightspaceModal"),o=i.find(".js-postGradesToBrightspace"),l.css("width",t+"%"),e?n.html(e):void 0},n=function(t){var e,n,l,i;return i=t.find(".js-postGradesToBrightspace"),e=t.find(".btnContainer"),n=$("<p class='msg msg-error'>"),i.is(":disabled")?void 0:(i.prop("disabled",!0),l=$('<p><i class="fa fa-spin fa-spinner"></i> Checking Brightspace assignment...</p>'),e.before(l),$.ajax({method:"get",url:gon.listBrightspaceAssignmentsUrl,success:function(t){var r,o,s,a,u;return l.hide(),a=gon.brightspaceScoreData.map(function(t){return t.points}),o=Math.max.apply(null,a),r=t.find(function(t){return t.Id===gon.brightspaceAssignmentId}),r?o>r.MaxPoints&&!r.CanExceedMaxPoints?(u=1===r.MaxPoints?"point":"points",s="Some students have scores greater than the maximum points for this "+("assignment on Brightspace ("+r.MaxPoints+" "+u+"). Before posting ")+("grades, please change the maximum points to "+o+' or enable the "Can ')+'Exceed" setting, then reload this page and try again. If the problem persists, contact help@gradescope.com.',e.before(n.html(s))):i.prop("disabled",!1):(s="Assignment could not be found on Brightspace. Please verify that the assignment exists on Brightspace, and then reload this page and try again. If the problem persists, contact help@gradescope.com.",e.before(n.html(s)))},error:function(t){var e,n,l,i;return l=null!=(i=t.responseJSON)?i.redirect_to:void 0,l?(l.endsWith("/brightspace/auth")&&(e=location.href.split("?")[0],n=e+"?"+$.param({post_grades_to_brightspace:1}),l+="?"+$.param({redirect_to_after:n})),location.href=l):"undefined"!=typeof Bugsnag?Bugsnag.notify("PostGradesToBrightspaceError","Could not retrieve Brightspace assignments.",{lmsResponse:t.responseJSON},"error"):void 0}}))},u=function(){var t,e,n,l,i,r;return n=$(".js-postGradesToBrightspaceModal"),t=n.find(".progressBar--caption"),l=$(".js-openPostGradesToBrightspaceModal"),i=n.find(".js-postGradesToBrightspace"),e=$("<i>").addClass("fa fa-check"),r=$("<span>").html("Grades successfully posted to Brightspace!"),t.empty(),t.append(e).append(r),l.one("click",function(){return M(n),i.prop("disabled",!1)})},Y.assignments.setupPostGradesToSakaiModal=function(){var t,e,n,l,i,r;return t=$(".js-postGradesToSakaiModal"),t.length?(n=t.find(".js-postGradesToSakai"),e=t.find(".progressBar"),r=t.find("form").attr("action"),I(t),i=n.prop("disabled"),n.prop("disabled",i),n.on("click",function(){return n.prop("disabled",!0),e.show(),$.ajax({method:"post",url:r,success:function(){return v()},error:m}),n.prop("disabled",!0)}),l=t.modal(),$(".js-openPostGradesToSakaiModal").click(l.open),gon.openPostGradesToSakaiModal&&l.open(),t.find(".js-closeModal").click(l.close)):void 0},m=function(t){var e,n,l,i,r,o;return r=null!=(o=t.responseJSON)?o.redirect_to:void 0,r?(r.endsWith("/sakai/auth")&&(l=location.href.split("?")[0],i=l+"?"+$.param({post_grades_to_sakai:1}),r+="?"+$.param({redirect_to_after:i})),location.href=r):("undefined"!=typeof Bugsnag&&Bugsnag.notify("PostGradesToSakaiError","Post grades failed.",{lmsResponse:t.responseJSON},"error"),n="Error posting grades to Sakai. Please sync the roster and try again. If the problem persists, contact help@gradescope.com.",alert(n),e=$(".js-postGradesToSakaiModal"),e.find(".js-postGradesToSakai").prop("disabled",!1))},R=function(t,e){var n,l,i,r,o;return i=$(".js-postGradesToSakaiModal"),l=i.find(".progressBar--fill"),n=i.find(".progressBar--caption"),r=$(".js-openPostGradesToSakaiModal"),o=i.find(".js-postGradesToSakai"),l.css("width",t+"%"),e?n.html(e):void 0},I=function(t){var e;return t.find(".progressBar").hide(),e='<i class="fa fa-spin fa-spinner"></i> Posting grades...',R(0,e)},v=function(){var t,e,n,l;return t=$(".js-postGradesToSakaiModal"),e=$(".js-openPostGradesToSakaiModal"),n=t.find(".js-postGradesToSakai"),l='<i class="fa fa-check"></i> Grades successfully posted to Sakai!',R(100,l),e.one("click",function(){return I(t),n.prop("disabled",!1)})},Y.assignments.setupPostGradesToMoodleModal=function(){var t,e,n,l,i,r;return t=$(".js-postGradesToMoodleModal"),t.length?(n=t.find(".js-postGradesToMoodle"),e=t.find(".progressBar"),r=t.find("form").attr("action"),O(t),i=n.prop("disabled"),n.prop("disabled",i),n.on("click",function(){return n.prop("disabled",!0),e.show(),$.ajax({method:"post",url:r,success:function(){return g()},error:p}),n.prop("disabled",!0)}),l=t.modal(),$(".js-openPostGradesToMoodleModal").click(l.open),gon.openPostGradesToMoodleModal&&l.open(),t.find(".js-closeModal").click(l.close)):void 0},p=function(t){var e,n;return"undefined"!=typeof Bugsnag&&Bugsnag.notify("PostGradesToMoodleError","Post grades failed.",{lmsResponse:t.responseJSON},"error"),n="Error posting grades to Moodle. Please sync the roster and try again. If the problem persists, contact help@gradescope.com.",alert(n),e=$(".js-postGradesToMoodleModal"),e.find(".js-postGradesToMoodle").prop("disabled",!1)},B=function(t,e){var n,l,i;return i=$(".js-postGradesToMoodleModal"),l=i.find(".progressBar--fill"),n=i.find(".progressBar--caption"),l.css("width",t+"%"),e?n.html(e):void 0},O=function(t){var e;return t.find(".progressBar").hide(),e='<i class="fa fa-spin fa-spinner"></i> Posting grades...',B(0,e)},g=function(){var t,e,n,l;return t=$(".js-postGradesToMoodleModal"),e=$(".js-openPostGradesToMoodleModal"),n=t.find(".js-postGradesToMoodle"),l='<i class="fa fa-check"></i> Grades successfully posted to Moodle!',B(100,l),e.one("click",function(){return O(t),n.prop("disabled",!1)})},Y.assignments.setupPostGradesToLTIv1p1Modal=function(){var t,e,n,l,i,r;return t=$(".js-postGradesToLTIv1p1Modal"),t.length?(n=t.find(".js-postGradesToLTIv1p1"),e=t.find(".progressBar"),r=t.find("form").attr("action"),E(t),i=n.prop("disabled"),n.prop("disabled",i),n.on("click",function(){return n.prop("disabled",!0),e.show(),$.ajax({method:"post",url:r,success:function(t){return T(t.jid,o)}})}),l=t.modal(),$(".js-openPostGradesToLTIv1p1Modal").click(l.open),t.find(".js-closeModal").click(l.close)):void 0},T=function(t,e){return $.ajax({url:gon.ltiv1p1JobStatusUrl,dataType:"json",data:{jid:t},success:function(n){return e(t,n)}})},o=function(t,e){return e.failed?void h(t,e):(e.percent_complete&&L(e.percent_complete),e.complete?f():setTimeout(function(){return T(t,o)},5e3))},h=function(t,e){var n,l;return"undefined"!=typeof Bugsnag&&Bugsnag.notify("PostGradesToLTIv1p1Error","Post grades failed.",{jid:t,data:e},"error"),l="Error posting grades to "+gon.ltiv1p1LMSName+". Please try again. If the problem persists, contact help@gradescope.com.",alert(l),n=$(".js-postGradesToLTIv1p1Modal"),n.find(".js-postGradesToLTIv1p1").prop("disabled",!1)},L=function(t,e){var n,l,i;return i=$(".js-postGradesToLTIv1p1Modal"),l=i.find(".progressBar--fill"),n=i.find(".progressBar--caption"),l.css("width",t+"%"),e?n.html(e):void 0},E=function(t){var e;return t.find(".progressBar").hide(),e='<i class="fa fa-spin fa-spinner"></i> Posting grades...',L(0,e)},f=function(){var t,e,n,l;return t=$(".js-postGradesToLTIv1p1Modal"),e=$(".js-openPostGradesToLTIv1p1Modal"),n=t.find(".js-postGradesToLTIv1p1"),l="<i class='fa fa-check'></i> Grades successfully posted to "+gon.ltiv1p1LMSName+"!",L(100,l),e.one("click",function(){return E(t),n.prop("disabled",!1)})},Y.assignments.setUpLmsIdTooltips=function(){return $(".lmsResource").each(function(t,e){var n,l;return(l=$(".lmsResource").eq(0).data("lms-id"))?(n=$("<div class='type-body'>LMS ID: "+l+"</div>"),new jBox("Tooltip",{attach:$(e),position:{x:"center",y:"bottom"},content:n,trigger:"click",closeOnClick:"body"})):void 0})},Y.assignments.statistics=function(){var t,e,n,l,i,r,o,s,a,u,c,d,h,f,p,g,m,v,y,b,w,x,C;return n=function(){var t,e,n,l,i,o,s,u;return t=36,e=22,n=t-e,u=!1,i={onRectMouseOver:function(t){var e,n,l,i;return l=t.e.srcElement||t.e.originalTarget,i=t.point[0],e=t.value,i.values&&(e=i.values[0][1],i=i.values[0][0]),$(l).svgAddClass("hover"),!$(l).svgHasClass("selected")&&(n=g(f,l,i,e),$(l).svgHasClass("sibling-selected"))?$(n).svgAddClass("sibling-selected"):void 0},onRectMouseOut:function(){return $(f).find("rect").each(function(){return $(this).svgRemoveClass("hover")}),$(f).find(".question-information").each(function(){return $(this).hasClass("selected")?void 0:$(this).remove()})},onRectMouseClick:function(t,e,n){var l,i,r,o;return t.e.stopPropagation(),i=t.e.srcElement||t.e.originalTarget,r=t.point[0],r.values&&(l=r.values[0][1],r=r.values[0][0]),o=[],n.getSiblings(r).forEach(function(t){return o.push(e[t])}),w(r),a(i,r,o),u=!0},onFullChartClick:function(){var t;return u&&($(f).find("rect").each(function(){return $(this).svgRemoveClass("selected"),$(this).svgRemoveClass("sibling-selected")}),x(gon.summary_statistics.assignment),$("#assignment-points").text(gon.summary_statistics.assignment.total_points+" points"),$("#question-title").html(""),$(".question-information").remove(),$(".statistics-question-column").removeClass("selected"),$(".statistics-points-column").removeClass("selected"),$(".statistics-question-row").removeClass("hidden"),t=document.body.scrollTop,window.hash_store.questions="",history.replaceState(void 0,void 0,"#"),document.body.scrollTop=t),u=!1},onLoad:function(t,e){var n,l,i;return l=r("Question"),parseFloat(l)?(window.hash_store.questions="Question_"+l,n=t[l],n?(i=[],e.getSiblings(l).forEach(function(e){return i.push(t[e])}),a(n,l,i),u=!0):(window.hash_store.questions="",history.replaceState(void 0,void 0,"#"),alert("The question you tried to highlight does not exist."))):void 0}},l={xAxis:"Question"},s={chartHeight:285,containerPadding:n,fadeOnHover:!0,yAxisTickValues:[0,20,40,60,80,100]},o=new DiscreteBarChart(f+" svg",[{key:"data",values:gon.question_averages}],i,l,s),$(f).find("svg").height(285),$(f).find("svg").width($(f).width()-n),gon.assignment_fully_graded&&o.showMeanLine(""+f,f+" svg",gon.summary_statistics.assignment.mean),o},l=function(){var t,e,n,l,i,o,s;return t=36,e=22,n=t-e,i={onRectMouseOver:function(t){var e,n,l;return n=t.e.srcElement||t.e.originalTarget,l=t.point[0],e=t.value,l.values&&(e=l.values[0][1],l=l.values[0][0]),$(n).svgAddClass("hover"),$(n).svgHasClass("selected")?void 0:m(b,n,l,e)},onRectMouseOut:function(){return $(b).find("rect").each(function(){return $(this).svgRemoveClass("hover")}),$(b).find(".tag-information").each(function(){return $(this).hasClass("selected")?void 0:$(this).remove()})},onRectMouseClick:function(t){var e,n,l;return n=t.e.srcElement||t.e.originalTarget,l=t.point[0],l.values&&(e=l.values[0][1],l=l.values[0][0]),C(l),u(n,l)},onFullChartClick:function(){return $(b).find("rect").each(function(){return $(this).svgRemoveClass("selected")}),$(b).find(".tag-information").remove(),window.hash_store.tags="tags",history.replaceState(void 0,void 0,"#tags")},onLoad:function(t){var e,n;return(n=r("Tag"))?(window.hash_store.tags="Tag_"+n,e=t[unescape(n)],e?u(e,unescape(n)):(window.hash_store.tags="tags",history.replaceState(void 0,void 0,"#tags"),alert("The tag you tried to select does not exist."))):void 0}},l={xAxis:"Tag"},s={chartHeight:270,containerPadding:n,staggerLabels:!0,handleOverlap:!1,fadeOnHover:!0,yAxisTickValues:[0,20,40,60,80,100]},o=new DiscreteBarChart(b+" svg",[{key:"data",values:gon.tag_averages}],i,l,s),$(b).height(290),$(b).find("svg").height(290),$(b).find("svg").width($(b).width()-n),o},a=function(t,e,n){var l,r,o;return r=i(e),o=gon.summary_statistics[e],l=100*o.mean,!$(t).svgHasClass("selected")&&($(f).find("rect.nv-bar.positive.selected").each(function(){return $(this).svgRemoveClass("selected")}),$(f).find("rect.sibling-selected").each(function(){return $(this).svgRemoveClass("sibling-selected")}),$(".statistics-question-column").removeClass("selected"),$(".statistics-points-column").removeClass("selected"),$(t).svgAddClass("selected"),$("#question-"+r+" .statistics-question-column").addClass("selected"),$("#question-"+r+" .statistics-points-column").addClass("selected"),x(o),$("#question-title").html("<a href='"+o.path+("'>Q "+e+": ")+o.title+"</a>"),$("#assignment-points").text(o.weight+" points"),0===$(f).find(".question-information").length&&g(f,t,e,l),$(f).find(".question-information.selected").remove(),$(f).find(".question-information:not(.selected)").addClass("selected"),$(".statistics-question-row").each(function(t,e){return 0!==$(e).find("#question-"+r).length?$(e).removeClass("hidden"):$(e).hasClass("hidden")?void 0:$(e).addClass("hidden")}),n)?n.forEach(function(t){return $(t).svgAddClass("sibling-selected")}):void 0},u=function(t,e){var n,l;return n=gon.tag_averages_by_title[e],$(t).svgHasClass("selected")?void 0:($(b).find("rect.selected").each(function(){return $(this).svgRemoveClass("selected")}),$(t).svgAddClass("selected"),$(b).find(".tag-information").remove(),l=m(b,t,e,n),$(l).addClass("selected"))},v=function(){return $("#statistics-tags-view").hasClass("with-warning")?void 0:$("#statistics-tags-view").addClass("with-warning")},c=function(t,e){return $.ajax({url:t,type:"POST",data:{tag_added:e},error:function(){return function(){return alert("Something went wrong adding the tag '"+e+".' Please refresh the page and try again. If this issue persists, let us know at help@gradescope.com.")}}(this)})},d=function(t,e){return $.ajax({url:t,type:"POST",data:{tag_deleted:e},error:function(){return function(){return alert("Something went wrong removing the tag '"+e+".' Please refresh the page and try again. If this issue persists, let us know at help@gradescope.com.")}}(this)})},p=function(t){var e,n;return e=parseInt($(t).attr("data-question-id")),n=window.location.href.slice(0,window.location.href.indexOf("assignments/"))+("questions/"+e+"/save_tags"),$("#question-tags-"+e).selectize({persist:!1,create:function(t){return{value:t,text:t}},onItemAdd:function(t){return c(n,t),v()},onItemRemove:function(t){return d(n,t),v()},dropdownParent:"body"})},s=function(t,e){var n,l;return window.hash_store={questions:"",tags:"tags"},$(".search-control-button#show-questions, .show-questions").click(function(){return $("#show-questions").addClass("active"),$("#show-tags").removeClass("active"),$("#statistics-questions-view").show(),$("#statistics-tags-view").hide(),t&&t.repositionXAxisLabel(),history.replaceState(void 0,void 0,"#"+window.hash_store.questions)}),$(".search-control-button#show-tags").click(function(){return $("#show-questions").removeClass("active"),$("#show-tags").addClass("active"),$("#statistics-questions-view").hide(),$("#statistics-tags-view").show(),e&&e.repositionXAxisLabel(),history.replaceState(void 0,void 0,"#"+window.hash_store.tags),$("#statistics-tags-view").hasClass("with-warning")?window.location.reload():void 0}),n=o(),l="tags"===n||n&&"Tag"===n.split("_")[0],l?(window.hash_store.tags=n,$(".search-control-button#show-tags").click()):(window.hash_store.questions=n,$(".search-control-button#show-questions").click())},r=function(t){var e,n,l;return l=o().split("_"),e=l[0],n=l[1],e===t?n:void 0},w=function(t){return window.hash_store.questions="Question_"+t,history.replaceState(void 0,void 0,"#Question_"+t)},C=function(t){return window.hash_store.tags="Tag_"+escape(t),history.replaceState(void 0,void 0,"#Tag_"+escape(t))},o=function(){var t,e,n,l;return e=window.location.hash,t=["?"],n=_.map(t,function(t){return e.indexOf(t)}),n=n.filter(function(t){return-1!==t}),e=e.slice(1),n.length>0&&(l=Math.min(n),e=e.slice(0,l)),e},x=function(t){var n;return n=["min","median","max","mean","standard_deviation"],$("#statistics-summary .statistic").each(function(l,i){var r,o,s;return s=$(i).find(".statistic-value"),r=$(s).clone().hide(),$(r).text(e(t[n[l]])),$(i).append(r),o=function(){return $(s).remove()},$(r).slideDown("fast"),$(s).slideUp("fast",o)})},g=function(t,e,n,l){var i,r;return r=parseFloat(gon.summary_statistics[n].weight)>0?Math.round(l,-1):"n/a",i=$("<div id='question-"+n+"-information' class='question-information "+Math.random()+"'> <div class='content-container'> <span class='question-name'>Question "+n+"</span> <div class='bar-details'> <span class='bar-detail-number'>"+r+"%</span> <span class='bar-detail-label'>MEAN</span> </div> </div> </div>").hide(),$(t).append(i),h(t,i,e,l),$(i).show(),i},m=function(t,e,n,l){var i,r;return r=Math.round(l,-1),i=$("<div id='tag-"+n+"-information' class='tag-information'> <div class='content-container'> <span class='question-name'>"+n+"</span> <div class='bar-details'> <span class='bar-detail-number'>"+r+"%</span> <span class='bar-detail-label'>MEAN</span> </div> </div> </div>").hide(),$(t).append(i),h(t,i,e,l),$(i).show(),i},h=function(t,e,n,l){var i,r,o,s,a,u,c,d,h;return r=$(n).offset(),u=$(t).offset(),a=r.top+parseFloat($(n).attr("height")),c=a-$(t).find("svg").offset().top,i=l/100*c,o=a-i,h=$(e).width()-$(n).attr("width"),s=0,75>l&&(s+=5),50>l&&(s+=5),25>l&&(s+=15),d=8,e.css({position:"absolute",top:o-u.top-$(e).height()-s,left:r.left-u.left-h/2-d})},i=function(t){return t.toString().replace(".","\\.")},e=function(t){var e;return e=+parseFloat(100*t).toFixed(2),e+"%"},f="#statistics-chart",b="#statistics-tag-chart",t=null,y=null,gon.any_graded_submissions&&(t=n(),y=l()),$(".tags-row").each(function(t,e){return p(e,y)}),s(t,y)},Y.pdf_assignments=Y.assignments,Y.bubble_sheet_assignments=Y.assignments,Y.assignments.initDownloadGradesTooltip=function(){var t;return t=new jBox("Tooltip",{attach:$(".js-downloadGradesTooltipLink"),content:$(".js-downloadGradesTooltipContent"),constructOnInit:!0,createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"top"},trigger:"click",width:200,zIndex:10001}),$(t.attachedElements).on("click",function(e){return e.stopPropagation(),t.position({target:this})})},r=function(){var t,e;return t=$(".js-linkVersionedAssignmentsModalTarget"),e={assignments:gon.unversioned_assignments,assignmentContainersPath:gon.assignment_containers_path,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkAssignmentVersionsModal,e),t[0])},t=function(){function t(t,e,n){this.openBulkExportModal=K(this.openBulkExportModal,this),this.checkExportFileProgress=K(this.checkExportFileProgress,this),this.updateExportFileProgress=K(this.updateExportFileProgress,this),this.progressText=K(this.progressText,this),this.jsonUrl=K(this.jsonUrl,this),this.zipUrl=K(this.zipUrl,this),this.attachHandlers=K(this.attachHandlers,this),this.generatedFile=t||{},this.bulkExportModal=$(".js-bulkExportModal").modal(),this.generatedFilePath=e,this.createBulkExportPath=n}return t.prototype.attachHandlers=function(){return $(".js-bulkExport").on("click",this.openBulkExportModal),null!=queryParams().open_export_modal&&$(".js-bulkExport").click(),$(".js-bulkExportModal").find(".js-closeModal").click(function(t){return function(){return t.bulkExportModal.close()}}(this))},t.prototype.zipUrl=function(){return this.generatedFilePath.replace("generated_file_id",this.generatedFile.id)+".zip"},t.prototype.jsonUrl=function(){return this.generatedFilePath.replace("generated_file_id",this.generatedFile.id)+".json"},t.prototype.progressText=function(){var t,e;switch(e=100*this.generatedFile.progress){case 0:t="Starting...";break;case 90:t="Zipping submissions...";break;case 98:t="Uploading...";break;default:t="Exporting submissions..."}return t+" ("+e.toFixed(0)+"%)"},t.prototype.updateExportFileProgress=function(t){
var e,n;return this.generatedFile=t,n=100*this.generatedFile.progress,$(".js-bulkExportProgress .progressBar--fill").css("width",n+"%"),$(".js-bulkExportProgress .progressBar--caption").html(this.progressText()),"completed"===t.status?(e=$(".js-bulkExportModalDownload"),e.attr("href",this.zipUrl()),e.removeClass("disabled"),$(".js-bulkExportProgress").hide()):setTimeout(this.checkExportFileProgress,5e3)},t.prototype.checkExportFileProgress=function(){return $.ajax(this.jsonUrl(),{method:"GET",success:this.updateExportFileProgress})},t.prototype.openBulkExportModal=function(){return this.bulkExportModal.open(),null==this.generatedFile.id?$.ajax(this.createBulkExportPath,{method:"POST",success:function(t){return function(e){return t.generatedFile.id=e.generated_file_id,setTimeout(t.checkExportFileProgress,1e3)}}(this)}):"completed"!==this.generatedFile.status?setTimeout(this.checkExportFileProgress,1e3):void 0},t}()}.call(this),function(){var t;t=window.site,t.contact=new Object,t.contact.sales=function(){return t.contact.validateSalesForm()},t.contact.validateSalesForm=function(){return $(".js-salesForm").validate({rules:{email:{required:!0,stricterEmail:!0},full_name:"required",message:"required"},invalidHandler:function(){return ga("send",{hitType:"event",eventCategory:"pricing",eventAction:"contact us failure",eventLabel:"send message"})},submitHandler:function(t){return t.submit()}})}}.call(this),function(){var t,e,n,l,i={}.hasOwnProperty,r=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};n=window.site,n.course_memberships=new Object,e=function(){var t;return t=$(".js-editMembershipModal"),t.modal(),t.find(".js-closeModal").on("click",t.modal().close),$(".rosterCell--editIcon").click(function(){var e,n,l,i,r,o,s,a,u,c;t.find("input[type=text]").val(""),t.modal().open(),i=$(this).data(),u=i.cm,l=i.action,t.find("form").attr("action",l),e=$("#course_membership_full_name").parent(),n=$("#course_membership_first_name, #course_membership_last_name").parent(),u.first_name&&u.last_name?(e.hide(),n.show()):(e.show(),n.hide());for(a in u)if(c=u[a],$("#course_membership_"+a).val(c),"data"===a)for(r in c)o=c[r],$(("#course_membership_data_"+r).replace(/\s/g,"_")).val(o);return i.lmsUserId&&$("#course_membership_lms_user_id").val(i.lmsUserId),s=$("#course_membership_user_email"),s.val(i.email),i.loggedIn?(s.attr("disabled","disabled"),s.attr("title","This user has logged in at least once, so you cannot change their email address. Please ask them to change it themselves, or email help@gradescope.com if they cannot access their account anymore.")):(s.removeAttr("disabled"),s.removeAttr("title"))})},t=function(){var t,e;return t=$(".js-courseRecordModal"),e=t.modal(),$(".js-rosterName").click(function(n){var l,r,o;return l=$(n.target),o=l.data("url"),r=l.data("name"),$.get(o,function(n){var l,s,a,u,c,d,h,f;if(t.find("h1").text(r+"'s Grades"),0===n.length)t.find(".modal--body").html("<p>This student doesn't have any submissions for this course.</p>");else{a=$("<table>").addClass("table"),u=$("<thead>"),l=$("<tr>"),l.append([$("<th>").html("Assignment Name"),$("<th>").html("Score")]),u.append(l),a.append(u);for(c in n)i.call(n,c)&&(d=n[c],s=$("<tr>"),o=d.assignment.submission.url,f=$("<a href="+o+">"+d.assignment.title+"</a>"),h=d.assignment.submission.score+"/"+d.assignment.total_points,s.append([$("<td>").addClass("table--primaryLink").html(f),$("<td>").html(h)]),a.append(s));t.find(".modal--body").html(a)}return e.open()})})},n.course_memberships.setupSwapButtons=function(t){return $(".js-swapNameColumns").click(function(e){return e.stopPropagation(),l(t)})},l=function(t){var e,n,l;return e=t.DataTable(),n=e.column(".js-lastFirstName").visible(),l=n?0:1,n?(e.column(".js-firstLastName").visible(!0,!1),e.column(".js-lastFirstName").visible(!1,!1)):(e.column(".js-firstLastName").visible(!1,!1),e.column(".js-lastFirstName").visible(!0,!1)),e.order([l,"asc"]).columns.adjust().draw(!1)},n.course_memberships.index=function(){var l,i,o,s,a,u,c,d,h,f,p,g,m,v,y,b,w,x,C,k,S,T,A,D,M,j,E,O,I,F,P,N,L,B,R,z,H,q,U,W,V,Y,X,G,Z,K,J,Q,tt,et,nt,lt,it,rt,ot,st,at,ut,ct,dt,ht,ft,pt,gt,mt,vt,yt,bt,wt,xt,_t,Ct,kt,St,Tt,At,Dt,Mt,jt,Et,Ot,It,$t,Ft,Pt,Nt,Lt,Bt,Rt,zt,Ht,qt,Ut,Wt;for(e(),t(),xt=null,nt=null,rt=null,lt=null,at=null,et=null,Et=null,kt=null,new jBox("Tooltip",{attach:$(".js-entryCodeTooltipLink"),content:$(".js-entryCodeTooltip")}),y=$(".js-rosterTable"),L=$(".js-sidebarRoster"),x=$(".js-rosterFilter"),M=$(".js-roleCounts"),wt=function(){var t,e,n,l;for(n=gon.role_names,l=[],t=0,e=n.length;e>t;t++)bt=n[t],l.push(0);return l}(),mt=y.find("select"),st=0,ut=mt.length;ut>st;st++)Ct=mt[st],wt[Ct.value]++;return $.fn.dataTableExt.afnFiltering.push(function(t,e,n){var l,i;return l=x.val(),i=$(".js-rosterRoleCell select",t.aoData[n].nTr).val(),!l||l===i}),n.course_memberships.setupSwapButtons(y),_t=y.dataTable({paging:!1,sortable:!0,dom:"lf<t>",language:{search:"_INPUT_",searchPlaceholder:"Search"},columnDefs:[{targets:["js-noSort"],sortable:!1},{targets:["js-lastFirstName"],visible:!1}]}),x.on("change",function(){return _t.fnFilter()}),yt=function(t){return L.find("#sidebar-instructor-"+t.user_id).fadeOutAndRemove()},$(".js-rosterRoleSelect").on("change",function(){var t,e;return e=$(this),t=e.siblings(".js-rosterRoleMsg"),$.ajax({url:e.data("url"),type:"PATCH",data:{course_membership:{role:e.val()}},success:function(e){var n;return n=t.closest("tr").find(".js-rosterDeleteUser"),n.prop("disabled",!e.can_delete),t.html(e.message),t.removeClass("msg-error").addClass("msg-info").fadeIn().css("display","inline-block"),setTimeout(function(){return t.fadeOut()},3e3),wt[e.old_role]--,wt[e.role]++,Rt(),"Instructor"===gon.role_names[e.role]?$(e.instructor_html).appendToAndFadeIn(L):"Instructor"===gon.role_names[e.old_role]?yt(e):void 0},error:function(){return t.html("Something went wrong"),t.removeClass("msg-info").addClass("msg-error").fadeIn().css("display","inline-block"),setTimeout(function(){return t.fadeOut()},3e3)}})}),y.on("ajax:success",".js-rosterDeleteForm",function(t,e){return wt[e.role]--,$(t.target).parents("tr").fadeOutAndRemove({callback:Rt}),"Instructor"===gon.role_names[e.role]?yt(e):void 0}),Rt=function(){var t,e,n,l,i,r;for(M.empty(),l=gon.role_names,i=[],t=e=0,n=l.length;n>e;t=++e)r=l[t],("TA"!==r&&"Reader"!==r||wt[t])&&("TA"!==r&&(r=r.toLowerCase()),i.push($("<div>").attr("class","actionBar--label").text(r.pluralize(wt[t])).appendTo(M)));return i},Rt(),d=$(".js-addOneOrManyModal"),c=$(".js-addMemberModal"),u=$(".js-addOneForm"),i=$(".js-addManyModal"),l=$(".js-addManyForm"),j=$("#roster_csv_file"),E=$(".js-rosterCSVUploadError"),O=$(".js-rosterCSVUploadErrorMsg"),o=l.find(":submit"),h=$(".js-addStudentsCSVModal"),B=$(".js-splitNamesRequiredError"),A=$(".js-newStudents"),b=$(".js-csvColumnSelectForm"),v=function(){return b.find("select")},H=function(){return v().not(".is-hidden select")},s=$(".js-addMoreColumnsBtn"),a=s.parent(),I=b.find("table"),k=I.find("th:first, thead td:first"),C=I.find("th:nth-child(2), thead td:nth-child(2)"),S=I.find("th:nth-child(3), thead td:nth-child(3)"),P=I.find("thead tr:first-of-type"),w=function(){return P.find("input").filter(function(){return!this.value})},F=I.find("tbody"),D=$(".js-numOtherStudents"),z=$(".js-useFullNameColumn"),R=$(".js-useFirstLastNameColumns"),f=h.find(".js-submitBtn"),Z=d.modal(),G=c.modal({closeOnOverlayClick:!1}),X=i.modal({closeOnOverlayClick:!1}),K=h.modal({closeOnOverlayClick:!1}),$(".js-addMembers").on("click",Z.open),$(".js-rosterAddOne").on("click",G.open),$(".js-rosterAddMany").on("click",X.open),$(".js-addStudentsModalBackArrow").on("click",X.open),d.find(".js-closeModal").on("click",Z.close),c.find(".js-closeModal").on("click",G.close),i.find(".js-closeModal").on("click",X.close),h.find(".js-closeModal").on("click",K.close),u.validate({rules:{"user[email]":{required:!0,stricterEmail:!0}}}),l.validate({rules:{"roster[csv_file]":{required:!0,extension:"csv"}}}),j.on("change",function(){return E.hide()}),zt=function(){return location.reload()},u.on("ajax:success",zt),ht=function(){var t,e,n;return t=$(".js-enrollmentNotificationModal"),n={isOpen:!0,closeModal:window.unmountAsync(t[0]),sendEnrollmentNotificationUrl:gon.sendEnrollmentNotificationUrl},e=React.createElement(EnrollmentNotificationModal,n),ReactDOM.render(e,t[0])},$(".js-openEnrollmentNotificationModal").click(ht),W=3,q={full_name_column:["name","fullname","full_name","full name"],first_name_column:["first","firstname","first_name","first name"],last_name_column:["last","lastname","last_name","last name"],email_column:["email","emailaddress","email_address","email address"],sid_column:["sid","studentid","student_id","student id"]},U={full_name_column:"Select a full name column",first_name_column:"Select a first name column",last_name_column:"Select a last name column",email_column:"Select an email column",sid_column:"Select a student ID column",other:"Select a column"},ft=function(){var t,e;return o.addClass("loading"),B.hide(),e=new FileReader,e.onload=function(t){var e;return e=t.target.result.strip(),Papa.parse(e,{header:!0,skipEmptyLines:!0,complete:dt})},t=j.get(0).files[0],e.readAsText(t)},tt=function(t){return t[0].full_name?_.find(t,function(t){return r.call(t.full_name,",")<0})?void 0:!0:!1},dt=function(t){var e,n,l,i,r,s,a,u,c,d,h,f;if(0===t.errors.length){if(xt=t.data,nt=t.meta.fields,r=_.intersection(nt,q.first_name_column).length,u=_.intersection(nt,q.last_name_column).length,e=tt(xt))for(nt.push("first_name"),nt.push("last_name"),s=0,c=xt.length;c>s;s++)h=xt[s],d=Ot(h.full_name),i=d[0],a=d[1],h.first_name=i,h.last_name=a;f=r&&u||e,f||gon.require_split_names?qt():Ut(),pt(v()),X.close(),K.open()}else n=t.errors[0],l=" Error in Row "+(n.row+1)+": "+n.message,O.text(l),E.show();return o.removeClass("loading")},$("body").on("submit",".js-addManyForm",function(t){return t.preventDefault(),ft()}),Q=function(t,e){var n,l,i,o;if(e)for(l=0,i=t.length;i>l;l++)if(n=t[l],o=n.toLowerCase(),r.call(e,o)>=0)return n},pt=function(t){return t.each(function(t,e){var n,l,i,o,s,a;return i=e.getAttribute("name"),n=Q(nt,q[i]),o=function(){var t,e,n;for(n=[],t=0,e=nt.length;e>t;t++)l=nt[t],n.push({value:l,text:l});return n}(),s=U[i]||U.other,o.unshift({value:"",text:s}),a=$(e).get(0).selectize,a?(a.clearOptions(),a.addOption(o),a.addItem(n||"")):$(e).selectize({options:o,items:[n||""],onChange:function(t){return this.$control.toggleClass("error",!t||r.call(kt,t)>=0),Lt()}})}),Lt()},Ht=function(t,e){return gon.require_split_names?t&&e?B.hide():B.show():void 0},Bt=function(t){var e;return bt=$("input[name='options[role]']:checked + label").text(),"TA"!==bt&&(bt=bt.toLowerCase()),e=1===t?bt:bt+"s",D.text("... and "+t+" other "+e)},Lt=function(){var t,e,n,l,i,r,o,s,a,u,c,d;if(F.empty(),t=H(),rt=t.filter('[name="full_name_column"]').val(),lt=t.filter('[name="first_name_column"]').val(),at=t.filter('[name="last_name_column"]').val(),et=t.filter('[name="email_column"]').val(),Et=t.filter('[name="sid_column"]').val(),kt=$.map(t,function(t){return t.value}),_.reduce(kt,function(t,e){return t||e})){for(a=xt.slice(0,W),l=0,r=a.length;r>l;l++){for(c=a[l],u=$("<tr>"),i=0,o=kt.length;o>i;i++)e=kt[i],d=c[e]||"",n=function(){switch(e){case rt:return it(d);case lt:case at:return d.toTitleCase();default:return d}}(),u.append($("<td>").addClass("table--cell-padded").text(n));F.append(u)}return s=xt.length-W,s>0?(Bt(s).show(),$("input[name='options[role]']").on("change",function(){return Bt(s)})):D.hide(),Ht(lt,at),Nt(),Pt()}},J=function(){var t;return t=H().map(function(t,e){return e.value}).toArray(),0===_.difference(nt,t).length},Ft=function(){return H().length>=nt.length+1},Y=function(){return!(J()||Ft())},ct=0,V=function(){var t,e,n,l,i,r;if(Y())return ct++,e=$("<input>").attr("type","text").attr("placeholder","Field name").prop("required",!0).data("new-col",ct).addClass("form--textInput").addClass("table--columnNameInput"),l=$("<button>").attr("class","table--btn-removeColumn").attr("title","Remove field"),t=$("<i>").attr("class","fa fa-times-circle"),i=$("<select>").data("new-col",ct),l.append(t),n=$("<th>").addClass("table--cell-padded").append(e,l),r=$("<td>").addClass("table--cell-padded").append(i),a.before(n),v().filter(":last").parent().after(r),l.on("click",_.bind(vt,this,n)),pt(i),i.on("change",function(t){return e.val(t.target.value),e.attr("data-field-name",t.target.value),Nt()}),A.animate({scrollLeft:"+=200px"}),Pt()},s.on("click",V),vt=function(t){var e;return e=t.index(),t.remove(),I.find("thead td").eq(e).remove(),Lt()},Pt=function(){return a.toggle(Y())},Ut=function(){return $t(!0),Lt()},qt=function(){return $t(!1),H().length>nt.length&&vt(I.find("th:nth-last-child(2)")),Lt()},$t=function(t){return C.toggleClass("is-hidden",t),S.toggleClass("is-hidden",t),k.toggleClass("is-hidden",!t),z.toggleClass("is-hidden",t),R.toggleClass("is-hidden",!t)},z.on("click",Ut),R.on("click",qt),Nt=function(){var t,e,n;return n=_.some(H(),function(t){return!$(t).data("optional")&&!t.value}),e=0!==w().length,t=kt.length!==_.uniq(kt).length,f.prop("disabled",n||e||t)},P.on("input","input:text",Nt),P.on("change","input:text",function(){var t,e,n;return t=$(this),t.toggleClass("valid",this.value).toggleClass("error",!this.value),n=t.data("new-col"),e=H().filter(function(){return $(this).data("new-col")===n}),e.attr("name",this.value)}),It=function(){var t,e,n,l,i,r,o,s,a,u,c,d,p;for(f.addClass("loading"),a=[],l=0,r=xt.length;r>l;l++){for(c=xt[l],s={extra:{}},i=0,o=kt.length;o>i;i++)if(e=kt[i])switch(p=c[e].strip(),e){case rt:s.name=it(p);break;case lt:s.first_name=p.toTitleCase();break;case at:s.last_name=p.toTitleCase();break;case et:s.email=p;break;case Et:s.sid=p;break;default:n=I.find(".table--columnNameInput[data-field-name='"+e+"']").val(),s.extra[n]=p}a.push(s)}return d=b.attr("action"),t={students:a},u=h.find(".js-notifyByEmail").is(":checked"),bt=$('input[name="options[role]"]:checked').val(),u&&(t.notify_by_email="1"),t.role=bt,$.post(d,t,zt).always(function(){return f.removeClass("loading")})},f.on("click",It),gt=function(t,e){var n,l,i,r,o;return(n=null!=(o=e.responseJSON)?o.redirect_to:void 0)?(l=location.href.split("?")[0],r=l+"?"+$.param((i={},i[""+t]=1,i)),n+="?"+$.param({redirect_to_after:r}),location.href=n):void 0},ot=function(t,e){"undefined"!=typeof Bugsnag&&null!==Bugsnag&&Bugsnag.notify("SyncRosterError","LMS roster syncing failed.",{jid:t,data:e},"error"),alert("Error syncing roster. Please try again. If the problem persists, contact help@gradescope.com."),window.location.reload()},Mt=function(t,e){var n,l,i,r;return i=t.find(".js-submitBtn"),n=t.find(".js-closeModal"),l=t.find(".js-progressBar"),r=new ProgressHandler(l,ot),t.find("form").on("submit",function(){return i.prop("disabled",!0),n.prop("disabled",!0)}),t.on("ajax:success",function(t,e){return r.startProgress(gon.jobStatusUrl,e.jid)}),t.on("ajax:error",function(t,n){return e(n)}),r.resetProgress('<i class="fa fa-spin fa-spinner"></i> Syncing roster...')},At=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncCanvasRosterModal").on("click",e.open),gon.openSyncCanvasRosterModal&&e.open(),Mt(t,function(t){return gt("sync_with_canvas",t)})},m=$(".js-syncCanvasRosterModal"),m.length&&At(m),St=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncBlackboardRosterModal").on("click",e.open),Mt(t,function(t){return"undefined"!=typeof Bugsnag&&Bugsnag.notify("BlackboardRosterSyncError",t.responseJSON),alert("There was an error fetching the Blackboard roster. Please contact help@gradescope.com")})},p=$(".js-syncBlackboardRosterModal"),p.length&&St(p),Tt=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncBrightspaceRosterModal").on("click",e.open),gon.openSyncBrightspaceRosterModal&&e.open(),Mt(t,function(t){return gt("sync_with_brightspace",t)})},g=$(".js-syncBrightspaceRosterModal"),g.length&&Tt(g),jt=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncSakaiRosterModal").on("click",e.open),gon.openSyncSakaiRosterModal&&e.open(),Mt(t,function(t){return gt("sync_with_sakai",t)})},N=$(".js-syncSakaiRosterModal"),N.length&&jt(N),Dt=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncMoodleRosterModal").on("click",e.open),Mt(t,function(t){return"undefined"!=typeof Bugsnag&&Bugsnag.notify("MoodleRosterSyncError",t.responseJSON),alert("There was an error fetching the Moodle roster. Please contact help@gradescope.com")})},T=$(".js-syncMoodleRosterModal"),T.length&&Dt(T),it=function(t){var e,n,l;return t&&r.call(t,",")>=0&&(l=t.split(","),n=l[0],e=l[1],e=e.toTitleCase(),n=n.toTitleCase(),t=[e,n].join(" ")),t},Ot=function(t){var e,n,l;return t&&r.call(t,",")>=0?(l=t.split(","),n=l[0],e=l[1],e=e.toTitleCase(),n=n.toTitleCase(),[e,n]):void 0},Wt=function(t,e){var n,l,i,r;return r=t.split("?"),n=r[0],(l=r[1])?(i=l.split("&").filter(function(t){return t.length}).filter(function(t){return t.split("=")[0]!==e}),i.length?n+"?"+i.join("&"):n):n}}}.call(this),function(){var t,e,n,l,i,r,o,s,a,u;u=window.site,u.courses=new Object,u.courses["new"]=function(){return u.courses.setupCourseForm()},u.courses.show=function(){var t;return r(),a(),o(),$(".js-submitPayment").length&&s(),u.assignment_submissions.setupStudentSubmissionModals(),new jBox("Tooltip",{attach:$(".courseHeader--entryCode"),content:$("#entry-code-tooltip"),trigger:"mouseenter",closeOnMouseleave:!0,width:340}),t=$(".gradingSurvey"),t.length?new GradingSurvey(t):void 0},u.courses.create=function(){return u.courses.setupCourseForm()},u.courses.edit=function(){return u.courses.setupCourseForm(),u.courses.setupCourseDeleteButton(),u.courses.setUpCanvasOptions(),u.courses.setUpBlackboardOptions(),u.courses.setUpBrightspaceOptions(),u.courses.setUpSakaiOptions(),u.courses.setUpMoodleOptions(),gon.user_is_admin?u.courses.setUpLmsIdTooltips():void 0},u.courses.setupCourseForm=function(){return $("#course-form").validate({rules:{"course[shortname]":{required:!0,maxlength:255},"course[name]":{required:!0,maxlength:255},"course[term]":"required","course[year]":"required","course[school]":"required"}}),$("#course_subject_tags").selectize({delimiter:",",create:!0})},u.courses.setupCourseDeleteButton=function(){var t,e,n;return $("#course-delete-button").hasClass("disabled")?(n="mouseenter",t=!0):(n="click",t=!1),e=new jBox("Tooltip",{attach:$("#course-delete-button"),position:{x:"center",y:"bottom"},width:300,offset:{y:4},content:$("#course-delete-button-tooltip"),trigger:n,closeOnClick:"body",closeOnMouseleave:t}),$("#course-delete-button-cancel").on("click",function(){return e.close()})},a=function(){return $("#assignments-student-table:not(.blank)").dataTable({columns:[{orderData:[0]},{orderData:[1]},{orderData:[4,3]},{visible:!1},{visible:!1}],order:[[2,"desc"]],dom:"t",paging:!1})},r=function(){return u.assignments.setupAssignmentActionsPopoverMenu(),$("#assignments-instructor-table:not(.blank)").DataTable({columns:[{},{orderData:[7,6]},{},{orderData:[8]},{orderable:!1},{orderable:!1},{orderable:!1},{visible:!1},{visible:!1},{visible:!1}],order:[[1,"desc"]],dom:"t",paging:!1,drawCallback:function(){return u.assignments.displayVersionedAssignmentsAsChildRows(this)}})},o=function(){var t,e;return t=$(".js-upgradeModal"),e=t.modal({closeOnOverlayClick:!0}),$(".js-upgradeCourse").on("click",function(t){return t.preventDefault(),e.open()}),t.find(".js-closeModal").on("click",function(){return e.close()})},s=function(){var t,e,n,l,i,r,o,s,a;return $(".js-featureTiers").hide(),$('input[name="course[feature_tier_name]"]').on("click",function(){return $(".js-featureTiers").show(),$(".js-featureTierTotal").text($(this).data("total")),$(".js-featureTierName").text($(this).data("feature-tier-name")),$(".js-submitPayment").is(":disabled")?$(".js-submitPayment").removeAttr("disabled"):void 0}),$(".js-cardErrors, .js-processingPayment, .js-paymentBrandIcon").hide(),a=Stripe(gon.stripe_pk_key),i=a.elements(),r={classes:{invalid:"error"},style:{invalid:{color:"inherit"}}},t=i.create("cardNumber",r),t.mount(".js-paymentCardNumber"),l=i.create("cardExpiry",r),l.mount(".js-paymentCardExpiry"),n=i.create("cardCvc",r),n.mount(".js-paymentCardCvc"),s=function(t){var e;return e=$(".js-cardErrors"),e.hide(),t.token?($("input[name=stripeToken]").val(t.token.id),$(".js-submitPayment").hide(),$(".js-processingPayment").show(),document.querySelector("form").submit()):t.error?(e.text(t.error.message),e.show()):void 0},e={visa:".js-paymentVisa",mastercard:".js-paymentMastercard",amex:".js-paymentAmex",discover:".js-paymentDiscover",diners:".js-paymentDiners",jcb:".js-paymentJcb",unknown:".js-paymentUnknown"},o=function(t){var n;t in e&&(n=e[t]),$(".js-paymentBrandIcon").hide(),$(n).show()},t.on("change",function(t){return t.brand&&o(t.brand),s(t)}),l.on("change",function(t){return s(t)}),n.on("change",function(t){return s(t)}),$(".js-upgradeModal form").on("submit",function(e){return e.preventDefault(),a.createToken(t).then(s)})},u.courses.setUpCanvasOptions=function(){var t;return $(".js-openLinkCanvasCourseModal").click(n),$(".js-unlinkCanvasCourse").click(function(){return $.ajax({url:gon.canvasCourseLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Canvas course.")}}),!1}),(null!=(t=window.gon)?t.showLinkCanvasCourseModal:void 0)?n():void 0},n=function(){var t,e;return t=$(".js-canvasCourseModalTarget"),e={courseListUrl:gon.listCanvasCoursesUrl,createCanvasLinkUrl:gon.canvasCourseLinkUrl,initialCourseId:gon.canvasCourseId,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkCanvasCourseModal,e),t[0])},u.courses.setUpBlackboardOptions=function(){var e;return $(".js-openLinkBlackboardCourseModal").click(t),$(".js-unlinkBlackboardCourse").click(function(){return $.ajax({url:gon.blackboardCourseLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Blackboard course.")}}),!1}),(null!=(e=window.gon)?e.showLinkBlackboardCourseModal:void 0)?t():void 0},u.courses.setUpLmsIdTooltips=function(){return $(".lmsResource").each(function(t,e){var n,l;return l=$(".lmsResource").eq(0).data("lms-id"),n=$("<div class='type-body'>LMS ID: "+l+"</div>"),new jBox("Tooltip",{attach:$(e),position:{x:"center",y:"bottom"},content:n,trigger:"click",closeOnClick:"body"})})},t=function(){var t,e;return t=$(".js-blackboardCourseModalTarget"),e={courseListUrl:gon.listBlackboardCoursesUrl,createBlackboardLinkUrl:gon.blackboardCourseLinkUrl,initialCourseId:gon.blackboardCourseId,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBlackboardCourseModal,e),t[0])},u.courses.setUpBrightspaceOptions=function(){var t;return $(".js-openLinkBrightspaceCourseModal").click(e),$(".js-unlinkBrightspaceCourse").click(function(){return $.ajax({url:gon.brightspaceCourseLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Brightspace course.")}}),!1}),(null!=(t=window.gon)?t.showLinkBrightspaceCourseModal:void 0)?e():void 0},e=function(){var t,e;return t=$(".js-brightspaceCourseModalTarget"),e={courseListUrl:gon.listBrightspaceCoursesUrl,createBrightspaceLinkUrl:gon.brightspaceCourseLinkUrl,initialCourseId:gon.brightspaceCourseId,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBrightspaceCourseModal,e),t[0])},u.courses.setUpSakaiOptions=function(){var t;return $(".js-openLinkSakaiCourseModal").click(i),$(".js-unlinkSakaiCourse").click(function(){return $.ajax({url:gon.sakaiCourseLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Sakai course.")}}),!1}),(null!=(t=window.gon)?t.showLinkSakaiCourseModal:void 0)?i():void 0},i=function(){var t,e;return t=$(".js-sakaiCourseModalTarget"),e={courseListUrl:gon.listSakaiCoursesUrl,createSakaiLinkUrl:gon.sakaiCourseLinkUrl,initialCourseId:gon.sakaiCourseId,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkSakaiCourseModal,e),t[0])},u.courses.setUpMoodleOptions=function(){var t;return $(".js-openLinkMoodleCourseModal").click(l),$(".js-unlinkMoodleCourse").click(function(){return $.ajax({url:gon.moodleCourseLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Moodle course.")}}),!1}),(null!=(t=window.gon)?t.showLinkMoodleCourseModal:void 0)?l():void 0},l=function(){var t,e;return t=$(".js-moodleCourseModalTarget"),e={courseListUrl:gon.listMoodleCoursesUrl,createMoodleLinkUrl:gon.moodleCourseLinkUrl,initialCourseId:gon.moodleCourseId,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkMoodleCourseModal,e),t[0])}}.call(this),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}};e=window.site,e.help_center=new Object,t=function(){function t(t){this.insideModal=t,this.openItemById=n(this.openItemById,this),$(".js-helpCenterItemTitle").each(function(){var t;return t=$(this).closest(".js-helpCenterItem").attr("id"),$(this).attr({"aria-expanded":"false","aria-controls":t}),this.href="#"+t}),this.insideModal&&(this.modal=$(".js-helpCenterModal").modal({onClose:function(t){return function(){return window.key.filter=t.originalKeyFilter||window.key.filter}}(this),closeOnOverlayClick:!0}))}return t.prototype.showSection=function(t){var e;return $(".js-helpCenterSection").hide(),t.show(),$(".js-helpCenterHeaderBreadcrumb").addClass("is-hidden"),e=$(t.data("breadcrumb-selector")),e.removeClass("is-hidden")},t.prototype.toggleItem=function(t){var e,n,l;return n=t.closest(".js-helpCenterItemTitle"),e=t.closest(".js-helpCenterSection"),this.showSection(e),$(".js-helpCenter iframe").remove(),l=!t.hasClass("helpCenter--item-is-expanded"),$(".js-helpCenterItem").removeClass("helpCenter--item-is-expanded"),l?(n.attr({"aria-expanded":"true"}),t.addClass("helpCenter--item-is-expanded"),this.insideModal?t.parent().scrollTo(t,{onAfter:function(){return n.focus()}}):(window.location.hash=t.attr("id"),$(window).scrollTo(t,{onAfter:function(){return n.focus()}}))):(n.attr({"aria-expanded":"false"}),n.focus())},t.prototype.openItemById=function(t){var e;return e=$(t),e.length>0&&t.match(/help-center-section/)?this.showSection(e):e.length>0&&t.match(/help-center-item/)?($(".js-helpCenterItem").removeClass("helpCenter--item-is-expanded"),this.toggleItem(e)):this.showSection($(".js-helpCenterHome"))},t.prototype.setup=function(){return this.insideModal&&($(".js-helpCenterHomeBreadcrumb").click(function(t){return function(e){return e.preventDefault(),t.showSection($(".js-helpCenterHome"))}}(this)),$(".js-helpCenterHomeLink").click(function(t){return function(e){var n;return n=e.currentTarget.getAttribute("href"),"#"===n[0]?(e.preventDefault(),t.openItemById(n)):void 0}}(this)),$(".js-helpCenterItemContent a").click(function(t){return function(e){var n;return n=e.currentTarget.getAttribute("href"),"#"===n[0]?(e.preventDefault(),t.openItemById(n)):void 0}}(this))),$(".js-helpCenterItemTitle").click(function(t){return function(e){var n;return e.preventDefault(),n=$(e.currentTarget).closest(".js-helpCenterItem"),t.toggleItem(n)}}(this)),$(".js-helpCenterVideoLink").click(function(t){var e,n,l;return l=$(t.currentTarget),n=l.parent(),n.next().is("iframe")?(e=n.next(),e.remove()):(e=$('<iframe class="helpCenter--video helpCenter--video--yt" src="https://www.youtube.com/embed/'+l.attr("data-id")+'" frameborder="0" allowfullscreen></iframe>'),e.insertAfter(n))}),this.showSection($(".js-helpCenterHome"))},t.prototype.openModal=function(){var t,e;return this.originalKeyFilter=window.key.filter,window.key.filter=function(t){return"Escape"===t.key},this.modal.open(),e=$("body").attr("data-controller")+"_"+$("body").attr("data-action"),t="#help-center-item-"+e.replace(/_/g,"-"),this.openItemById(t)},t}(),e.help_center.show=function(){var n;return n=new t(!1),n.setup(),n.openItemById(window.location.hash.split("?")[0]),window.onhashchange=function(){return n.openItemById(window.location.hash.split("?")[0])},e.about.setupRequestDemoModal()},e.help_center.initHelpCenterForModal=function(){var e;return e=new t(!0),e.setup(),e}}.call(this),function(){var t;t=window.site,t.invite_requests=new Object,t.invite_requests["new"]=function(){return $("#invite-request-form, .js-signupFormInviteRequest").length>0?(t.invite_requests.selectizeForm(),t.invite_requests.validateForm()):void 0},t.invite_requests.selectizeForm=function(){var t,e,n,l,i,r;return t=$("#invite_request_school_id").selectize({sortField:"text",openOnFocus:!1,onChange:function(t){return null!=t&&t?$("#invite_request_school_name").val(this.getItem(t)[0].innerHTML):$("#invite_request_school_name").val("")},create:function(t,e){return this.removeOption(0),e({value:0,text:t})}}),i=$("#invite_request_school_name").val(),(null!=i?i.length:void 0)>0?(r=t[0].selectize,l=_.values(r.options),e=function(){var t,e,r;for(r=[],t=0,e=l.length;e>t;t++)n=l[t],n.text===i&&r.push(n);return r}()[0],null!=e?r.setValue(e.value):r.createItem(i)):void 0},t.invite_requests.validateForm=function(){return $("#invite-request-form, .js-signupFormInviteRequest").validate({rules:{"invite_request[name]":"required","invite_request[first_name]":"required","invite_request[school_id]":{required:{depends:function(){return!$("#school-name").val()}}},"invite_request[email]":{required:!0,stricterEmail:!0}},submitHandler:function(t){return fbq&&fbq("track","CompleteRegistration"),t.submit()}})},t.invite_requests.create=t.invite_requests["new"],t.invite_requests.edit=t.invite_requests["new"],t.invite_requests.update=t.invite_requests["new"]}.call(this),function(){var t;t=window.site,t.online_assignment_submissions=new Object,t.online_assignment_submissions.index=function(){var t;return t=function(){var t;return t=$(".table--primaryLink").length,$(".table--header h1").text("Submission".pluralize(t))},$(".deleteSubmissionForm").on("ajax:success",function(e){return $(e.target).parents("tr").fadeOutAndRemove({callback:t})})}}.call(this),function(){var t;t=window.site,t.online_assignments=new Object,t.online_assignments.edit=t.assignments.edit,t.online_assignments.statistics=t.assignments.statistics,t.online_assignments.review_grades=t.assignments.review_grades}.call(this),function(){var t;t=window.site,t.password_resets=new Object,t.password_resets["new"]=function(){var t;return t=queryParams().email,t&&$("#email").val(t),$("#password_reset_form").validate({rules:{email:{required:!0,stricterEmail:!0}}})},t.password_resets.create=t.password_resets["new"],t.password_resets.edit=function(){return $("#password_set_form").validate({rules:{"user[password]":{required:!0,minlength:12},"user[password_confirmation]":{required:{depends:function(){return $("#user_password").val()}},equalTo:"#user_password"}}})},t.password_resets.update=t.password_resets.edit}.call(this),function(){var t,e,n,l=function(t,e){return function(){return t.apply(e,arguments)}};n=window.site,n.programming_assignment_submissions=new Object,n.programming_assignment_submissions.index=function(){var t,e;return n.assignment_submissions.setupStudentSubmissionModals(),t=$(".js-programmingAssignmentSubmissionsTable").first(),t.DataTable({dom:"frtilp",language:{search:"_INPUT_",searchPlaceholder:"Search"},columnDefs:[{targets:0,sortable:!0,searchable:!0},{targets:[1,2],sortable:!0,searchable:!1},{targets:3,sortable:!1,searchable:!1}]}),$(".js-studentPickerDropdown").last().selectize({options:gon.roster,labelField:"name",valueField:"id",searchField:["name","email"],maxItems:1,create:!1,highlight:!0,closeAfterSelect:!0,selectOnTab:!0,render:{option:function(t,e){return'<div><span class="studentPicker--name">'+e(t.name)+"</span>"+(t.email?'<span class="studentPicker--email">'+e(t.email)+"</span>":"")+"</div>"}},onChange:function(t){var e,n,l;return $("#bitbucket-submission-link").length>0&&(n=$("#bitbucket-submission-link").attr("href"),l=n.indexOf("?for_user="),e=-1!==l?n.substring(0,l)+"?for_user="+t:n+"?for_user="+t,$("#bitbucket-submission-link").attr("href",e)),$("#github-submission-link").length>0?(n=$("#github-submission-link").attr("href"),l=n.indexOf("?for_user="),e=-1!==l?n.substring(0,l)+"?for_user="+t:n+"?for_user="+t,$("#github-submission-link").attr("href",e)):void 0}}),e=function(){var t;return t=$(".table--primaryLink").length,$(".table--header h1").text("Submission".pluralize(t))},$(".deleteSubmissionForm").on("ajax:success",function(t){return $(t.target).parents("tr").fadeOutAndRemove({
callback:e})})},e=function(){var t;return gon.successful_submission?(t=$(".js-successfulSubmissionModal").modal({closeOnOverlayClick:!0}),$(".js-successfulSubmissionModal .js-closeModal").on("click",function(e){return e.preventDefault(),t.close()}),t.open()):void 0},n.programming_assignment_submissions.show=function(){var l,i,r,o,s,a,u,c,d,h,f;return d=gon.submission_json_url,e(),$(".avatar").jBox("Tooltip",{getContent:"data-name",offset:{x:4,y:-2}}),"processed"!==gon.status&&"failed"!==gon.status&&(c=new Poller(function(){return $.get(d,"",function(t){return"processed"===t.status||"failed"===t.status?(c.stop(),window.location=window.location.pathname):$(".js-submissionStatusMessage").length>0&&/downloaded/.test($(".js-submissionStatusMessage").text())&&"fetching"!==t.status?$(".js-submissionStatusMessage").text("The autograder hasn't finished running yet."):void 0})},moment(gon.autograder_queued_at).toDate())),i=function(){return $.get(gon.ssh_session_url,"",function(t){var e;return t&&t.host?(e=React.createElement(AutograderSSHMessage,{host:t.host,port:t.port}),ReactDOM.render(e,document.querySelector(".js-autograderSSHMessage"))):setTimeout(i,3e3)})},"pending"===gon.ssh_session_status&&i(),n.assignment_submissions.setupStudentSubmissionModals(),$(".js-showSubmissionHistory").click(function(){var t;return t=$(".js-submissionHistoryModal").modal({closeOnOverlayClick:!0}),$(".js-submissionHistoryModal .js-closeModal").on("click",function(e){return e.preventDefault(),t.close()}),t.open()}),gon.group_submission&&(h=0,u=function(){return $(".js-saveGroupMembers").show().unbind().click(function(){var t;return t=$(".selectize-control .item").map(function(){return $(this).data("value")}).get(),$.ajax(gon.create_ownerships_url,{data:{user_ids:t},dataType:"json",type:"POST",success:function(t){return null!=t&&t.redirect?window.location.href=t.redirect:window.location.reload()},error:function(){return alert("Failed to add members to group. Please refresh the page and try again. If you still have trouble, contact help@gradescope.com")}})})},l=function(){var t,e;return h+gon.group_members.length<gon.group_size&&(h+=1,t=$(".js-groupMember").first().clone().show(),$(".js-groupMemberList").append(t),t.find(".js-removeGroupMember").click(function(){return t.remove(),h-=1,h+gon.group_members.length<gon.group_size?$(".js-addMemberLink").show():void 0}),e=_.filter(gon.roster,function(t){return!_.contains(_.pluck(gon.group_members,"email"),t.email)}),$(".js-groupMemberList input").last().selectize({options:e,labelField:"name",valueField:"id",searchField:["name","email"],maxItems:1,create:!1,highlight:!0,closeAfterSelect:!0,selectOnTab:!0,render:{option:function(t,e){return'<div><span class="studentPicker--name">'+e(t.name)+"</span>"+(t.email?'<span class="studentPicker--email">'+e(t.email)+"</span>":"")+"</div>"}},onChange:function(){return function(){return u()}}(this)})),h+gon.group_members.length===gon.group_size?$(".js-addMemberLink").hide():void 0},gon.group_members.length<gon.group_size&&($(".js-addMemberLink").show(),$(".js-addGroupMember").unbind().click(l)),r=$(".js-groupMembersModal").modal({closeOnOverlayClick:!0}),$(".js-groupMembersModal .js-closeModal").on("click",function(t){return t.preventDefault(),r.close()}),$(".js-openGroupMembersModal").on("click",function(){return r.open()})),$(".js-rerunAutograderWithSSH").hasClass("disabled")&&($(".js-rerunAutograderWithSSH").on("click",function(t){return t.preventDefault()}),f=function(){switch($(".js-rerunAutograderWithSSH").data("disabled-reason")){case"autograder_outdated":return $(".js-autograderOutdatedTooltip");case"session_exists":return $(".js-sessionExistsTooltip");case"public_key_missing":return $(".js-publicKeyTooltip")}}(),new jBox("Tooltip",{attach:$(".js-rerunAutograderWithSSH"),content:f,trigger:"mouseenter",closeOnMouseleave:!0})),gon.regrade_requests&&(s=new t),o=new jBox("Tooltip",{content:"Please select a question.",attach:".js-openRegradeRequestModal"}),a=null,$(".submissionOutlineQuestion--title-leafQuestion").on("click",function(t){var e,n;return e=$(t.target),n=e.data().questionId,$(".submissionOutlineQuestion--title-is-selected:not([data-question-id="+n+"])").removeClass("submissionOutlineQuestion--title-is-selected").attr("aria-expanded","false"),$(".submissionOutlineQuestion--contents:not([data-question-id="+n+"])").addClass("is-hidden"),e.toggleClass("submissionOutlineQuestion--title-is-selected").attr("aria-expanded","false"===e.attr("aria-expanded")),$(".submissionOutlineQuestion--contents[data-question-id="+n+"]").toggleClass("is-hidden"),$(".js-gradeSubmission").attr("href",gon.questions[n].grade_submission_path),a===n?(a=null,$(".js-openRegradeRequestModal").addClass("disabled"),o.enable()):(a=n,s.setQuestion(n),$(".js-openRegradeRequestModal").removeClass("disabled"),o.disable())}),window.location.hash?$('a[href="'+window.location.hash+'"]').click():void 0},t=function(){function t(){this.updateRegradeRequest=l(this.updateRegradeRequest,this),this.createRegradeRequest=l(this.createRegradeRequest,this),this.closeModal=l(this.closeModal,this),this.openModal=l(this.openModal,this),this.setQuestion=l(this.setQuestion,this),this.renderRegradeRequests=l(this.renderRegradeRequests,this),this.render=l(this.render,this),this.questions=gon.questions,this.regradeRequests=[],this.isInstructor=gon.user_is_instructor,this.regradeRequestsOpen=gon.regrade_requests_open,this.modalNode=document.querySelector(".js-regradeRequestModal"),this.regradesNode=document.querySelector(".js-submissionOutlineRegradeRequests"),this.modalProps={isOpen:!1,isSaving:!1,closeRegradeRequestModal:this.closeModal,question:gon.question,questionSubmission:gon.question_submission,createRegradeRequest:this.createRegradeRequest,updateRegradeRequest:this.updateRegradeRequest},this.regradeRequestsPath=gon.regrade_requests_path,this.gradeUrl=gon.grade_submission_path,this.render(),$(".js-openRegradeRequestModal").on("click",this.openModal)}return t.prototype.render=function(){var t,e;return e=this.regradeRequests[this.regradeRequests.length-1],(null!=e?e.completed:void 0)&&(e=null),this.modalProps.regradeRequest=e,t=React.createElement(UnconnectedRegradeRequestModal,this.modalProps),ReactDOM.render(t,this.modalNode),this.renderRegradeRequests()},t.prototype.renderRegradeRequests=function(){var t,e,n,l,i,r,o;if(this.regradesNode){l=this.questions,r=[];for(n in l)t=l[n],t.regrade_requests&&(i=document.querySelector(".js-submissionOutlineRegradeRequests"+('[data-question-id="'+n+'"]')),o=t.regrade_requests.map(function(e){return function(n){var l;return l={key:n.id,regradeRequest:n,onEditClick:e.openModal,showGradeAction:e.isInstructor,showEditAction:!e.isInstructor&&e.regradeRequestsOpen,gradeUrl:t.gradeUrl},React.createElement(SubmissionOutlineRegradeRequest,l)}}(this)),e=React.createElement("div",{children:o}),r.push(ReactDOM.render(e,i)));return r}},t.prototype.setQuestion=function(t){var e;return e=this.questions[t],this.regradeRequests=e.regrade_requests,this.modalProps.question=e.question,this.modalProps.questionSubmission=e.question_submission,this.gradeUrl=e.grade_submission_path,this.render()},t.prototype.openModal=function(){return this.modalProps.isOpen=!0,this.render()},t.prototype.closeModal=function(){return this.modalProps.isOpen=!1,this.render()},t.prototype.createRegradeRequest=function(t,e){return this.modalProps.isSaving=!0,$.ajax({url:this.regradeRequestsPath,method:"post",data:{regrade_request:{student_comment:e,question_submission_id:t.id}}}).done(function(t){return function(e){return t.modalProps.isSaving=!1,t.regradeRequests.push(e),t.closeModal()}}(this)).fail(function(){return alert("There was a problem submitting your regrade request. Please reload the page.")}),this.render()},t.prototype.updateRegradeRequest=function(t,e,n){return this.modalProps.isSaving=!0,this.render(),$.ajax({url:this.regradeRequestsPath+"/"+t.id,method:"patch",data:{regrade_request:{student_comment:n,question_submission_id:e.id}}}).done(function(t){return function(e){return t.modalProps.isSaving=!1,t.regradeRequests[t.regradeRequests.length-1]=e,t.closeModal()}}(this)).fail(function(){return alert("There was a problem updating your regrade request. Please reload the page.")})},t}()}.call(this),function(){var t,e,n,l;n=window.site,n.programming_assignments=new Object,n.programming_assignments["new"]=function(){return e()},n.programming_assignments.create=n.programming_assignments["new"],n.programming_assignments.edit=function(){return e(),n.assignments.setupDeleteAssignmentModal(),n.assignments.setupAssignmentDeleteButton(),n.assignments.setUpCanvasOptions(),n.assignments.setUpBlackboardOptions(),n.assignments.setUpBrightspaceOptions(),n.assignments.setUpSakaiOptions(),n.assignments.setUpMoodleOptions()},n.programming_assignments.update=n.programming_assignments.edit,n.programming_assignments.review_grades=n.assignments.review_grades,l=function(t){var e,n,l;return"zip"!==t.name.substr(-3)?$(".js-autograderZipErrors").text("Please select a zip file").show():(n=new FileReader,l=["setup.sh","run_autograder"],e=[],n.onload=function(t){var n,i,r,o,s,a;for(a=new JSZip(t.target.result),r=0,o=l.length;o>r;r++)n=l[r],n in a.files||e.push(n);return e.length>0?(s=e.length>1?"s":"",i=e.map(function(t){return"<span class='inlineCode'>"+t+"</span>"}).join(", "),$(".js-autograderZipErrors").html("Missing required file"+s+" "+i+" (must be at the root of zip file). Make sure you are zipping up your autograder files at the root, and not the folder containing those files (for an example of the correct approach, <a href='https://gradescope-autograders.readthedocs.io/en/latest/zipping_files.png'>see here</a>).").show()):$(".js-autograderZipErrors").hide()},n.readAsArrayBuffer(t))},t=function(e,n){var l;return l="/courses/"+e+"/assignments/"+n.assignment_id+"/docker_images/"+n.id+".json",$.get(l,"",function(l){return function(i){var r,o;return $(".js-dockerImageStatus").text(i.status),$(".js-dockerImageUpdatedAt").text(i.updated_at),o=$(".js-dockerBuildStdout"),o.text(i.stdout),o.scrollTop(o[0].scrollHeight),r=$(".js-dockerBuildStderr"),r.text(i.stderr),r.scrollTop(r[0].scrollHeight),"building"===i.status||"unprocessed"===i.status?(setTimeout(t.bind(l,e,n),1e3),$(".js-dockerBuildOutput").trigger("open")):$(".js-dockerBuildSpinner").hide()}}(this),"json")},n.programming_assignments.statistics=n.assignments.statistics,n.programming_assignments.configure_autograder=function(){return $(".js-dockerBuildOutput").collapse({open:function(){return this.slideDown(100),$(this.context).find("i.fa").removeClass("fa-caret-right"),$(this.context).find("i.fa").addClass("fa-caret-down")},close:function(){return this.slideUp(100),$(this.context).find("i.fa").removeClass("fa-caret-down"),$(this.context).find("i.fa").addClass("fa-caret-right")}}),gon.autograder_building?(setTimeout(t.bind(this,gon.course_id,gon.image),1e3),$(".js-dockerBuildSpinner").show(),$(".js-dockerBuildOutput").trigger("open")):$(".js-dockerBuildSpinner").hide(),$(".js-submitAutograder").on("click",function(){return $(".js-autograderForm").submit()}),$("input#assignment_autograder_zip").on("change",function(t){var e;return e=t.target.files[0],l(e)}),$(".js-manualDockerSection").collapse({query:".js-enableManualDockerConfiguration",open:function(){return this.slideDown(100),$(this.context).find("input[type=checkbox]").prop("checked",!0)},close:function(){return this.slideUp(100),$(this.context).find("input[type=checkbox]").prop("checked",!1)}}),n.assignment_submissions.setupStudentSubmissionModals()},e=function(){return n.assignments.setupDueDateFields(),$("#assignment_group_submission").change(function(){return $("#assignment_group_submission").is(":checked")?($("#assignment_group_size").attr("disabled",null).removeClass("disabled"),$("#assignment_group_size").focus()):$("#assignment_group_size").attr("disabled","disabled").addClass("disabled")}),$("input[name$='assignment[leaderboard_enabled]']").change(function(){return $("#assignment_leaderboard_enabled").is(":checked")?($("#assignment_leaderboard_max_entries").attr("disabled",null).removeClass("disabled"),$("#assignment_leaderboard_max_entries").focus()):$("#assignment_leaderboard_max_entries").attr("disabled","disabled").addClass("disabled")}),$("#assignment_manual_grading").change(function(t){return $(t.target).is(":checked")?$(".js-manualGradingFields").removeClass("is-hidden"):$(".js-manualGradingFields").addClass("is-hidden")}),n.programming_assignments.validateAssignmentForm()},n.programming_assignments.validateAssignmentForm=function(){return $(".js-assignmentForm").validate({rules:{"assignment[title]":{required:!0,maxlength:255},"assignment[total_points]":{required:!0},"assignment[release_date_string]":{required:!0,dateIsSameOrBefore:function(){return[$("#assignment_due_date_string").val(),"due date"]}},"assignment[due_date_string]":{required:!0},"assignment[hard_due_date_string]":{required:{depends:function(){return $("#allow_late_submissions").is(":checked")}},dateIsSameOrAfter:function(){return[$("#assignment_due_date_string").val(),"due date"]}}},submitHandler:function(t){return $(".js-assignmentForm input[type=submit]").attr("disabled",!0),t.submit()}})},n.programming_assignments.review_similarity=function(){var t,e,l,i,r,o,s,a,u,c,d,h,f,p,g,m,v;return t=$(".js-similarityTable"),n.course_memberships.setupSwapButtons(t),a=$(".js-lastFirstName").length>0,d=a?3:2,c=a?4:3,r=a?6:5,i=t.DataTable({dom:"frtilp",sortable:!0,order:[[d,"desc"]],language:{search:"_INPUT_",searchPlaceholder:"Search"},columnDefs:[{targets:["js-lastFirstName"],visible:!1},{targets:c,type:"num-fmt"},{targets:r,name:"fileName",visible:!1}]}),m=i.data(),e=function(){return $.get(gon.pine_report.url,"",function(t){return"done"===t.status||"failed"===t.status?window.location.reload():setTimeout(e,3e3)})},window.gon&&gon.pine_report&&"done"!==(f=gon.pine_report.status)&&"failed"!==f&&e(),l=function(){return function(){return p(!1)}}(this),h=function(){return function(){return p(!0)}}(this),p=function(t){var e,n,i;return null==t&&(t=!1),i=document.querySelector(".js-similarityOptionsModal"),n={isOpen:t,closeModal:l,createReportURL:gon.report_options.create_report_url,commonMatchThreshold:gon.report_options.common_match_threshold,language:gon.report_options.language,supportedLanguages:gon.report_options.supported_languages},e=React.createElement(SimilarityOptionsModal,n),ReactDOM.render(e,i)},("undefined"!=typeof gon&&null!==gon?gon.report_options:void 0)&&p(!1),$(".js-reportSettings").on("click",h),v=$("#uploadTemplateFilesModal").modal({closeOnOverlayClick:!0}),$("#uploadTemplateFilesModal .js-closeModal").on("click",function(t){return t.preventDefault(),v.close()}),$(".js-templateFiles").on("click",function(){return v.open()}),o=function(t){var e,n;return i.clear(),e=m,t.length>0&&(n=t.map(function(t){return t.title}),e=m.filter(function(t){return n.indexOf(t[r])>-1})),i.rows.add(e).draw()},s=function(){return m.column("fileName:name").data().unique().sort().map(function(t,e){return{id:e,title:t,selected:!1}}).toArray()},g=function(){var t,e,n;return(t=$(".js-filesFilter")[0])?(e={items:s(),onSelect:o},n=React.createElement(FilesFilter,e),ReactDOM.render(n,t)):void 0},g(),(u=function(){var t;return t=$(".js-templateFilesForm").dropzone({paramName:function(){return"pine_base_code_project[files][]"},clickable:[".form-file-drop-area",".form-file-drop-message"],previewsContainer:".form-file-previews",previewTemplate:document.getElementById("dropzone-preview-template").innerHTML,autoProcessQueue:!1,uploadMultiple:!0,maxFilesize:100,parallelUploads:5e3,accept:function(t,e){var n,l;return this.firstFileAccepted||(this.firstFileAccepted=!0,$(".form-file-previews-container").show(),$(".form-file-drop-area").hide(),$(".form-file-drop-message").show(),$(".js-uploadTemplateFiles").attr("disabled",!1)),l=t.name.split("."),n=l[l.length-1],"zip"===n?processZipFile(t,this,e):e()},init:function(){return this.on("successmultiple",function(t,e){return window.location=e.url}),$(".js-templateFilesForm").on("submit",function(t){return function(e){return 0!==t.files.length?(t.processQueue(),e.preventDefault()):void 0}}(this)),this.on("reset",function(t){return function(){return t.firstFileAccepted=!1,$(".js-uploadTemplateFiles").attr("disabled",!0),$(".form-file-drop-area").show(),$(".form-file-previews-container").hide(),$(".form-file-drop-message").hide()}}(this))}})})()}}.call(this),function(){var t;t=window.site,t.question_submissions=new Object,t.question_submissions.index=function(){return $("table#question_submissions").dataTable({paging:!1,dom:"lf<t>",language:{search:"_INPUT_",searchPlaceholder:"Search"}}),$(".js-questionSubmissionsAnswerTitle").each(function(t,e){return renderMath(e)})}}.call(this),function(){var t;t=window.site,t.questions=new Object,t.questions.statistics=function(){return t.questions.setUpQuestionStatistics(),$(document).keyup(function(t){var e;if(e=t.which,$("*:focus").length>0)return!0;switch(e){case 37:$("#previous_question").length>0&&(document.location.href=$("#previous_question").attr("href"));break;case 39:$("#next_question").length>0&&(document.location.href=$("#next_question").attr("href"))}return!0})},t.questions.setUpQuestionStatistics=function(){var t,e,n,l;return $(".rubric-item-description > a").each(function(t,e){return renderMath(e)}),n=function(){var t,e,n,l,i,r;return n="#statistics-question-tags.tags-row",r=window.location.href.replace("statistics","save_tags"),l={canAdd:!0,apiCallOnAddUrl:r,canDelete:!0,apiCallOnDeleteUrl:r,maxLength:100},i=new Tagger(n,gon.list_of_tags,l),e=i.getAddTagButtonCopy(),0===gon.list_of_tags.length?$(e).show():$(e).hide(),t=$(n).parent().find(".clone"),$(t).append(e)},t=function(){var t,e,n,i,r,o,s;return e={onRectMouseOut:function(){return $("rect").each(function(){return $(this).svgRemoveClass("selected")}),$(".question-information").remove()},onRectMouseOver:function(t){var e,n,i,r,o,s;return s=t.e.srcElement||t.e.originalTarget,$(s).svgAddClass("selected"),e=s,i=t.point[0],n=t.value,i.values&&(n=i.values[0][1],i=i.values[0][0]),o=n,r=l("#statistics-chart",e,i,o),$(r).svgAddClass("selected")}},t={xAxis:"Points",yAxis:"% of Students"},r=20*Math.floor(gon.highest_bin_average/20),r<gon.highest_bin_average&&(r+=20),i=Math.min(100,r),s=[0,20,40,60,80,100],s=s.slice(0,s.indexOf(i)+1),o={yDomain:[0,i],right_endpoint:gon.histogram_right_endpoint,fadeOnHover:!0,shift_axis:gon.shift_axis,handleOverlap:!1,yAxisTickValues:s},n=new Histogram("#statistics-chart svg",[{key:"data",values:gon.histogram_data}],e,t,o),$("#statistics-chart svg").height(300),$("#statistics-chart svg").width($("#statistics-chart").width()-36)},l=function(t,n,l,i){var r,o;return o="of students",r=$("<div id='question-"+l+"-information' class='question-information no-shadow no-delay'> <div class='content-container'> <div class='bar-details'> <span class='bar-detail-number'>"+i+"%</span> <span class='bar-detail-label'>"+o+"</span> </div> </div> </div>").hide(),$(t).append(r),e(t,r,n),$(r).show(),r},e=function(t,e,n){var l,i,r,o,s;return l=$(n).offset(),r=$(t).offset(),s=$(e).width()-$(n).attr("width"),i=15,o=8,e.css({position:"absolute",top:l.top-r.top-$(e).height()-i,left:l.left-r.left-s/2-o})},t(),n(),$("#rubric-item-form input").prop("disabled",!0)}}.call(this),function(){var t;t=window.site,t.quiz=new Object,t.quiz.show=t.quiz.submit=function(){var t,e,n,l;return $("#q12_checkbox").click(function(t){return $(t.target).prop("checked",!1)}),e=function(t){return"1"===t.value&&$("#q44_solution").show(),"2"===t.value&&$("#q44_solution").show(),"3"===t.value?$("#q44_solution").hide():void 0},e($("#q44_solution_select")[0]),$("#q44_solution_select").change(function(t){return e(t.target)}),n=0,l=function(){return n+=1,$("#time_spent").val(n)},setInterval(l,1e3),t=function(){var t;return t=$("#rails_experience_1").is(":checked"),console.log(t),t?($("#q4-a").hide(),$("#q4-b").fadeIn()):($("#q4-a").fadeIn(),$("#q4-b").hide())},t(),$("input[name$='rails_experience']").change(t),$("form").validate({rules:{name:"required",email:{required:!0,stricterEmail:!0}}})}}.call(this),function(){var t,e,n,l,i,r=function(t,e){return function(){return t.apply(e,arguments)}};i=window.site,i.regrade_requests=new Object,i.regrade_requests.staff_index=function(){return n(),e(),(new t).setUp(),$("form").on("ajax:success",function(){return location.reload()})},n=function(){return $(".js-regradeRequestsTable").dataTable({paging:!1,dom:"f<t>",order:[[3,"asc"],[1,"asc"]],columns:[null,null,null,null,{orderable:!1}],language:{search:"_INPUT_",searchPlaceholder:"Search"}})},e=function(){var t,e,n;return t=$(".js-openRegradeRequestEmailSettingsModal"),e=$(".js-regradeRequestEmailSettingsModal"),n=e.modal(),e.find(".js-closeModal").click(n.close),t.click(n.open)},t=function(){function t(){this.updateSummary=r(this.updateSummary,this),this.updateForm=r(this.updateForm,this),this.updateOptionsState=r(this.updateOptionsState,this),this.setValidationRules=r(this.setValidationRules,this),this.setUp=r(this.setUp,this),this.modal=$(".js-regradeRequestSettingsModal"),this.form=this.modal.find("form"),this.enabledCheckbox=this.form.find("input[type=checkbox]"),this.dateInputs=this.form.find(".datetime-select"),this.summary=this.form.find(".js-regradeRequestSummary"),this.submitBtn=this.form.find("input[type=submit]"),this.closeBtn=this.form.find(".js-closeModal"),this.openBtn=$(".js-openRegradeRequestSettingsModal")}return t.prototype.setUp=function(){var t;return this.setValidationRules(),this.updateOptionsState(),this.updateSummary(),this.enabledCheckbox.change(function(t){return function(){return t.updateOptionsState()}}(this)),this.dateInputs.on("blur change",function(t){return function(e){return $(e.target).valid()?t.updateForm():void 0}}(this)),t=this.modal.modal(),this.closeBtn.click(t.close),this.openBtn.click(t.open)},t.prototype.setValidationRules=function(){return this.form.validate({rules:{"assignment[regrade_request_start_string]":{dateIsBefore:function(){return[$("#assignment_regrade_request_end_string").val(),"End Date"]}},"assignment[regrade_request_end_string]":{dateIsAfter:function(){return[$("#assignment_regrade_request_start_string").val(),"Start Date"]}}},submitHandler:function(t){return function(e){return t.submitBtn.attr("disabled",!0),e.submit()}}(this)})},t.prototype.updateOptionsState=function(){var t;return t=this.enabledCheckbox.prop("checked"),this.dateInputs.prop("disabled",!t),this.summary.closest(".form--group").toggle(t)},t.prototype.updateForm=function(){return this.form.find(".form--labelErrorMsg").remove(),this.form.valid()?this.updateSummary():void 0},t.prototype.updateSummary=function(){var t,e;return e="",this.dateInputs[0].value&&(e="from "+this.formatRegradeDate(this.dateInputs[0])),t="regrade requests are disabled",this.dateInputs[1].value&&(t=this.formatRegradeDate(this.dateInputs[1])),this.summary.html("Regrade requests for this assignment are open "+e+" until "+t+".")},t.prototype.formatRegradeDate=function(t){return moment(t.value,"MMM DD YYYY hh:mm A").format("MMMM D [at] h:mm A")},t}(),i.regrade_requests.student_index=function(){return l()},l=function(){return $(".js-regradeRequestsTable").dataTable({paging:!1,dom:"<t>"})}}.call(this),function(){var t;t=window.site,t.rubric_items=new Object,t.rubric_items.show=function(){return $(".js-rubricItemSubmissions").dataTable({dom:"f<t>",language:{search:"_INPUT_",searchPlaceholder:"Search"},paging:!1})}}.call(this),function(){var t,e,n,l,i,r;i=window.site,i.schools=new Object,r=function(t){var e;return e=0,nv.utils.windowResize(function(){return clearTimeout(e),e=setTimeout(t.update,200)})},n=function(t,e){var n;return n=nv.models.discreteBarChart().tooltips(!1).duration(350).showValues(!0).color([]),n.valueFormat(d3.format(",f")),n.yAxis.tickFormat(d3.format(",f")),n.xAxis.tickPadding(8),n.yAxis.tickPadding(8),d3.select(t).datum([{values:e}]).call(n),nv.addGraph(function(){return n}),r(n),n},e=function(t,e,n){return t.map(function(t){var l,i,r,o;return r=t.term,o=t.year,{term:r,year:o,x:r.substr(0,2).toUpperCase()+" '"+o.toString().substr(2),y:(null!=(l=e[o])&&null!=(i=l[r])?i[n]:void 0)||0}})},t=function(t,e){var n;return n=0,Object.keys(t).forEach(function(l){var i;return i=t[l],Object.keys(i).forEach(function(t){var l;return l=i[t],n+=l[e]})}),n},l=function(t){var e;return e=$(t).closest(".chart"),e.removeClass("chart-withValuesHidden"),e.find(".chart--loading").fadeOut()},i.schools.show=function(){var i,r,o,s;return r=e(gon.term_years,gon.course_counts_by_term,"courses"),i=n(".js-coursesByTermChart",r),i.discretebar.dispatch.on("elementClick",function(t){var e;return e=t.point,window.location=gon.courses_path+"?term="+e.term+"&year="+e.year}),o=e(gon.term_years,{}),n(".js-enrollmentsByTermChart",o),n(".js-activeStudentsByTermChart",o),n(".js-assignmentsByTermChart",o),n(".js-submissionsByTermChart",o),s=t(gon.course_counts_by_term,"courses"),$(".js-totalCoursesStat").text(s.toLocaleString()),$.get(gon.assignment_counts_by_term_path,function(i){var r,o;return r=e(gon.term_years,i,"assignments"),n(".js-assignmentsByTermChart",r),l(".js-assignmentsByTermChart"),o=t(i,"assignments"),$(".js-totalAssignmentsStat").text(o.toLocaleString())}),$.get(gon.submission_counts_by_term_path,function(i){var r,o;return r=e(gon.term_years,i,"submissions"),n(".js-submissionsByTermChart",r),l(".js-submissionsByTermChart"),o=t(i,"submissions"),$(".js-totalSubmissionsStat").text(o.toLocaleString())}),$.get(gon.enrollment_counts_by_term_path,function(t){var i;return i=e(gon.term_years,t,"enrollments"),n(".js-enrollmentsByTermChart",i),l(".js-enrollmentsByTermChart")}),$.get(gon.active_student_counts_by_term_path,function(t){var i;return i=e(gon.term_years,t,"active_students"),n(".js-activeStudentsByTermChart",i),l(".js-activeStudentsByTermChart")}),$.get(gon.staff_and_student_counts_path,function(t){return $(".js-totalStaffStat").text(t.staff.toLocaleString()),$(".js-totalStudentsStat").text(t.students.toLocaleString())})},i.schools.courses=function(){return $(".js-selectTerm").on("change",function(){var t;return t=$(this).val(),window.location.href=t}),$(".js-schoolCoursesTable").DataTable({dom:"frtiplB",pageLength:50,language:{search:"_INPUT_",searchPlaceholder:"Search"},buttons:["csv"]})},i.schools.staff=function(){return $(".js-selectTerm").on("change",function(){var t;return t=$(this).val(),window.location.href=t}),$(".js-schoolStaffTable").DataTable({dom:"frtiplB",pageLength:50,language:{search:"_INPUT_",searchPlaceholder:"Search"},buttons:["csv"]})}}.call(this),function(){var t;t=window.site,t.student_accounts=new Object,t.student_accounts["new"]=function(){return t.student_accounts.validateForm()},t.student_accounts.create=t.student_accounts["new"],t.student_accounts.validateForm=function(){return $("#student-signup-form, .js-signupFormStudentSignup").validate({rules:{"user[name]":"required","user[email]":{required:!0,stricterEmail:!0},"user[course_entry_code]":{required:!0,rangelength:[6,6]}},messages:{"user[course_entry_code]":{rangelength:"Must be exactly 6 characters long."}}})}}.call(this),function(){var t;t=window.site,t.student_memberships=new Object,t.student_memberships["new"]=function(){return t.student_memberships.validateForm()},t.student_memberships.create=t.student_memberships["new"],t.student_memberships.validateForm=function(){return $("#student-membership-form").validate({rules:{"student_membership[course_entry_code]":{required:!0,rangelength:[6,6]}},messages:{"student_membership[course_entry_code]":{rangelength:"Must be exactly 6 characters long."}}})}}.call(this),function(){var t;t=window.site,t.text_assignment_submissions=new Object,t.text_assignment_submissions.index=function(){return t.assignment_submissions.setupStudentSubmissionModals(),$(".js-selectStudent").selectize(),$(".deleteSubmissionForm").on("ajax:success",function(t){return $(t.target).parents("tr").fadeOutAndRemove()})}}.call(this),function(){var t,e;e=window.site,e.text_assignments=new Object,e.text_assignments["new"]=function(){return t()},e.text_assignments.create=e.text_assignments["new"],e.text_assignments.edit=function(){return t(),e.assignments.handleBulkDefaultSettings(),e.assignments.setupDeleteAssignmentModal(),e.assignments.setupAssignmentDeleteButton(),e.assignments.setUpCanvasOptions(),e.assignments.setUpBlackboardOptions(),e.assignments.setUpBrightspaceOptions(),e.assignments.setUpSakaiOptions(),e.assignments.setUpMoodleOptions(),gon.user_is_admin?e.assignments.setUpLmsIdTooltips():void 0},e.text_assignments.update=e.text_assignments.edit,e.text_assignments.review_grades=e.assignments.review_grades,e.text_assignments.statistics=function(){return e.questions.setUpQuestionStatistics()},e.text_assignments.validateAssignmentForm=function(){return $(".js-assignmentForm").validate({rules:{"assignment[title]":{required:!0,maxlength:255},"assignment[total_points]":{required:!0,min:0},"assignment[release_date_string]":{required:!0,dateIsSameOrBefore:function(){return[$("#assignment_due_date_string").val(),"due date"]}},"assignment[due_date_string]":{required:!0},"assignment[hard_due_date_string]":{required:{depends:function(){return $("#allow_late_submissions").is(":checked")}},dateIsSameOrAfter:function(){return[$("#assignment_due_date_string").val(),"due date"]}}},submitHandler:function(t){return $(".js-assignmentForm input[type=submit]").attr("disabled",!0),t.submit()}})},t=function(){return e.assignments.setupDueDateFields(),$("input[name$='assignment[group_submission]']").change(function(){return $("#assignment_group_submission").is(":checked")?($("#assignment_group_size").attr("disabled",null).removeClass("disabled"),$("#assignment_group_size").focus()):$("#assignment_group_size").attr("disabled","disabled").addClass("disabled")}),e.text_assignments.validateAssignmentForm()}}.call(this),function(){var t;t=window.site,t.tos=new Object,t.tos.show=function(){return t.about.setupRequestDemoModal()}}.call(this),function(){var t;t=window.site,t.user_sessions=new Object,t.user_sessions["new"]=function(){return t.user_sessions.setUpOmniauthRememberMe()},t.user_sessions.setUpOmniauthRememberMe=function(){return $("#session_remember_me_sso").click(function(t){var e;return e=$(t.target).is(":checked"),$(".js-omniauthChoice").each(function(t,n){var l;return l=$(n).attr("href"),e?$(n).attr("href",l+"?remember_me=1"):$(n).attr("href",l.replace("?remember_me=1",""))})})}}.call(this),function(){var t,e,n,l,i,r,o,s,a,u,c,d,h,f,p,g,m,v,y,b,w;b=990,c=function(){return $(window).width()<=b},v=function(){return $("#sidebar").hasClass("sidebar-collapsed")||$(".l-sidebar").hasClass("l-sidebar-is-collapsed")},y=function(){return!$("#sidebar").hasClass("sidebar-show-mobile")&&!$(".l-sidebar").hasClass("l-sidebar-is-mobile")},i=function(){var t;return t=new CustomEvent("resize",{detail:{isSidebarResize:!0}}),window.dispatchEvent(t)},r=function(){var t;return t=setInterval(function(){return i},150),setTimeout(function(){return clearInterval(t)},500)},l=function(){return $(".l-sidebar").addClass("l-sidebar-is-collapsed"),$(".js-toggleSidebar").addClass("collapseIcon-is-collapsed"),$(".l-mainWrapper").addClass("l-mainWrapper-is-with-collapsed-sidebar"),$(".js-toggleSidebar").attr({"aria-label":"expand sidebar"}),$("#sidebar").addClass("sidebar-collapsed"),$(".l-mainWrapper").addClass("sidebar-collapsed"),$("#action-bar-container").addClass("sidebar-collapsed"),$("#sidebar-user-popover").removeClass("active").hide(),r()},s=function(){return $(".l-sidebar").removeClass("l-sidebar-is-collapsed"),$(".l-mainWrapper").removeClass("l-mainWrapper-is-with-collapsed-sidebar"),$(".js-toggleSidebar").removeClass("collapseIcon-is-collapsed"),$(".js-toggleSidebar").attr({"aria-label":"collapse sidebar"}),$("#sidebar").removeClass("sidebar-collapsed").removeClass("l-sidebar-is-collapsed"),$(".l-mainWrapper").removeClass("sidebar-collapsed"),$("#action-bar-container").removeClass("sidebar-collapsed"),r()},w=function(){return v()&&s(),$(".l-mobileTopNav").addClass("l-mobileTopNav-is-hidden"),$(".l-mainWrapper").addClass("l-mainWrapper-is-with-mobile-sidebar"),$(".l-sidebar").addClass("l-sidebar-is-mobile"),$(".sidebar--mobileOverlay").show(),$(".l-mainWrapper").addClass("sidebar-show-mobile"),$("#sidebar").addClass("sidebar-show-mobile"),$("#top-nav").addClass("sidebar-show-mobile"),$("#sidebar-overlay").show(),$("html, body").css("overflow","hidden")},u=function(){return $(".l-mobileTopNav").removeClass("l-mobileTopNav-is-hidden"),$(".l-mainWrapper").removeClass("l-mainWrapper-is-with-mobile-sidebar"),$(".l-sidebar").removeClass("l-sidebar-is-mobile"),setTimeout(function(){return $("#sidebar-overlay").hide(),$(".sidebar--mobileOverlay").hide(),$("html, body").css("overflow","auto");
},500),$("#sidebar").removeClass("sidebar-show-mobile"),$(".l-mainWrapper").removeClass("sidebar-show-mobile"),$("#top-nav").removeClass("sidebar-show-mobile")},p=function(){var t,e,n,l;return t=$("#sidebar-user-popover"),l=function(l){return l.stopPropagation(),t.hasClass("active")?e():n()},e=function(){return t.removeClass("active"),$("#popover-toggle-arrow").removeClass("active"),setTimeout(function(){return t.hide()},300)},n=function(){return t.show(),$("#popover-toggle-arrow").addClass("active"),setTimeout(function(){return t.addClass("active")},50)},$(".sidebar-user-profile").click(l),t.click(l)},f=function(){return new jBox("Tooltip",{attach:$(".sidebar--userProfile"),addClass:"jBox-wrapper-popover",content:$(".sidebar--userProfileMenu"),createOnInit:!0,closeOnClick:!0,closeOnMouseleave:!1,position:{x:"center",y:"top"},offset:{x:-77},trigger:"click",pointer:"left:20"})},t=function(){return $(".js-toggleSidebar").on("touchstart click",function(t){return t.stopPropagation(),t.preventDefault(),c()?y()?void 0:u():v()?s():l()})},e=function(){return $(".js-toggleSidebarMobile").on("touchstart click",function(){return y()?w():void 0}),$(".sidebar--mobileOverlay").on("touchstart click",function(){return u()})},n=function(){return $(".sidebar-toggle-icon").on("touchstart click",function(t){return t.stopPropagation(),t.preventDefault(),c()?y()?w():u():v()?s():l()}),$("#sidebar-overlay").on("touchstart click",function(){return u()})},m=function(){return ssm.addState({id:"sidebar-view",query:"(max-width: "+b+"px)",onEnter:function(){return v()?setTimeout(s,50):void 0},onExit:function(){return y()?void 0:u()}})},h=function(){var t,e,n,l,i;return n=new jBox("Tooltip",{animation:"move",attach:$(".sidebar-home-icon"),position:{x:"left",y:"center"},offset:{x:-19},outside:"x",theme:"TooltipDark",title:"Back to Home",trigger:"click"}),l=new jBox("Tooltip",{animation:"move",position:{x:"left",y:"center"},offset:{x:-14},outside:"x",theme:"TooltipDark"}),i=new jBox("Tooltip",{onOpen:function(){return v()?void 0:this.close()},animation:"move",attach:$(".sidebar-menu-icon"),title:"Show Menu",position:{x:"left",y:"center"},offset:{x:-14},outside:"x",theme:"TooltipDark"}),e=function(t){var e;return v()?(e=$(t).find(".sidebar-list-item-label").text(),l.open({target:$(t)}),l.setTitle(e)):void 0},t=function(){return l.close()},$(".sidebar-list-item").hover(function(){return e(this)},function(){return t()}),$(".sidebar-list-item").on("focusin",function(){return e(this)}),$(".sidebar-list-item").on("focusout",function(){return t()}),$(".sidebar-menu-icon").click(function(){return i.close()})},g=function(){var t,e,n,l,i;return n=new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",animation:"move",attach:$(".sidebar--collapsedHomeIcon"),position:{x:"left",y:"center"},offset:{x:-19},outside:"x",theme:"TooltipDark",title:"Back to Home"}),l=new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",animation:"move",position:{x:"left",y:"center"},offset:{x:-14},outside:"x",theme:"TooltipDark"}),e=function(t){var e;return v()?(e=$(t).find(".sidebar--menuItemLabel").text(),l.open({target:$(t)}),l.setTitle(e)):void 0},t=function(){return l.close()},$(".sidebar--menuItem").hover(function(){return e(this)},function(){return t()}),$(".sidebar--menuItem").on("focusin",function(){return e(this)}),$(".sidebar--menuItem").on("focusout",function(){return t()}),i=new jBox("Tooltip",{onOpen:function(){return v()?void 0:this.close()},animation:"move",attach:$(".js-toggleSidebar"),title:"Show Menu",position:{x:"left",y:"center"},offset:{x:-14},outside:"x",theme:"TooltipDark"}),$(".js--sidebarToggle").click(function(){return i.close()})},a=function(){return $(".js-openHelpCenter").on("click",o)},o=function(t){return t.preventDefault(),site.help_center.helpCenter?site.help_center.helpCenter.openModal():$.get($(".js-helpCenter").data("url"),function(t){return $(".js-helpCenter").replaceWith(t),site.help_center.helpCenter=site.help_center.initHelpCenterForModal(),site.help_center.helpCenter.openModal()})},d=function(){var t,e,n;return n=$("#invite-modal").modal({closeOnOverlayClick:!1}),t=$("#send-invites"),$(".popover-invite").on("click",function(){return $.get($("#invite-modal").data("url"),function(){return $(".remind-btn").on("ajax:beforeSend",function(){var t;return t=$(this),t.addClass("disabled"),t.on("ajax:before",function(){return!1})})}),n.open()}),$("#invite-modal .close-invite-modal").on("click",n.close),e=new RegExp("[\\w+\\-.]+@[a-z\\d\\-.]+\\.[a-z]+","i"),$("#email_addresses").selectize({delimiter:",",persist:!1,createFilter:e,create:function(t){return{value:t,text:t}},onChange:function(e){var n;return e?(n=-1===e.indexOf(",")?"Send Invite":"Send Invites",t.prop("disabled",!1).val(n)):t.prop("disabled",!0)}})},window.watchScrollForTopNav=function(){var t,e,n,l,i,r;return n=20,$("#top-nav").length>0&&(e=$("#top-nav").outerHeight(),t=$(".l-mainWrapper")),$(".l-mobileTopNav").length>0&&(e=$(".l-mobileTopNav").outerHeight(),t=$(".l-content")),t?(r=0,l=!1,i=function(){var i,o;return l=t.innerHeight+t.scrollTop()>=document.body.offsetHeight,i=t.scrollTop(),o=Math.abs(r-i),l||n>=o?void 0:(i>r&&i>e?($(".l-mobileTopNav").addClass("l-mobileTopNav-is-hidden"),$("#top-nav").addClass("nav-hide")):($(".l-mobileTopNav").removeClass("l-mobileTopNav-is-hidden"),$("#top-nav").removeClass("nav-hide")),r=i)},t.scroll(_.debounce(i,30))):void 0},$(function(){var l;return p(),l=f(),t(),e(),$(".l-sidebar, #sidebar").on("transitionend",function(t){return t.target===document.querySelector(".l-sidebar, #sidebar")?i():void 0}),n(),m(),watchScrollForTopNav(),g(),h(),a()})}.call(this),function(){var t,e,n,l,i,r,o,s,a;$(function(){var t;return t=$(".l-actionBar")[0],t?t.addEventListener("touchmove",function(t){return t.preventDefault()}):void 0}),t=16,i=null,n=function(){return new jBox("Tooltip",{attach:$(".js-toggleActionBarCollapsedMenu"),content:$(".actionBar--collapsedMenuContent"),createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"top"},trigger:"click"})},o=function(t){var e;return e=t.clone(!0),e.data("original",t),e.on("click",function(){return t.find(".actionBar--action")[0].click(),!1})},l=function(){return i&&$(i.wrapper).is(":visible")?(i.options.fade=!1,i.close({ignoreDelay:!0}),i.options.fade=!0):void 0},r=function(){return $(".actionBar--collapsedMenuContent li >").length},a=function(){var e,n,i,s,u,c,d,h,f,p,g,m;return m=!1,n=$(".actionBar--collapsedMenuButtonContainer"),c=n.outerWidth(!0),i=$(".actionBar--collapsedMenuContent"),e=$(".l-actionBar"),d=0,e.find(">:not(.actionBar--actionList)").each(function(){return $(this).is(":visible")?d+=$(this).outerWidth(!0):void 0}),s=e.width()-d-t,p=$(".actionBar--actionList").outerWidth(!0),i.find("li").each(function(){var t;return t=$(this).data("original"),0===t.parent().length?$(this).remove():$(this).replaceWith(o(t))}),p>s?(h=e.find("li:not(.actionBar--collapsedMenuButtonContainer,.actionBar--hiddenElement):first"),0!==h.length&&(h.data("width",h.outerWidth(!0)),u=o(h),h.addClass("actionBar--hiddenElement"),u.appendTo(i.find("ul")),m=!0)):(f=i.find("li:last"),g=p+f.data("width"),1===r()&&(g-=c),s>g&&(f.data("original").removeClass("actionBar--hiddenElement"),f.remove(),m=!0)),r()>0?n.find(">").show():(n.find(">").hide(),l()),m&&a()},e=100,s=_.throttle(a,e),window.responsiveActionBar=function(){return $(".actionBar--collapsedMenuButtonContainer").length?($(window).on("resize",function(){return s()}),i=n(),a()):void 0},window.throttledUpdateActionBarCollapsedMenu=s}.call(this),function(){var t;t=function(){var t,e,n,l;return l=window.site,e=$("body"),n=e.attr("data-controller"),t=e.attr("data-action"),l.common.init(),l[n]&&(null!=l[n].init&&l[n].init(),null!=l[n][t])?l[n][t]():void 0},$(document).ready(t)}.call(this),function(){var t,e;e=function(){return new CustomEvent("resize",{detail:{isAlertClose:!0}})},t=function(t){return t.parent().fadeOut(function(){return $(this).remove(),window.dispatchEvent(e())})},$(function(){return $(".alert .alert-close").click(function(){return t($(this))}),$(".alert .alert--close").click(function(){return t($(this))})})}.call(this),function(){window.setUpFileUploadPrompt=function(t){var e,n,l,i,r,o;return e=$(t),l=e.data("filename"),r=e.data("prompt"),i=e.attr("multiple"),n=l?l:r?r:i?"Please select file(s)":"Please select a file",o=function(){var l,i,r;return i=function(){var e,n,i,r;for(i=t.files,r=[],e=0,n=i.length;n>e;e++)l=i[e],r.push(l.name);return r}(),r=function(){switch(i.length){case 0:return n;case 1:return i[0].truncate(40);default:return i.length+" files selected"}}(),e.siblings(".js-fileUploadPrompt").html(r)},o(),e.on("change click",o)},$(function(){return $("input[type=file]").each(function(t,e){return window.setUpFileUploadPrompt(e)})})}.call(this);